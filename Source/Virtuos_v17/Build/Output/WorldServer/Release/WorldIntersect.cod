; Listing generated by Microsoft (R) Optimizing Compiler Version 13.10.6030 

	TITLE	\Documents and Settings\test\Mes documents\Source\Virtuos_v17\Build\Program\_Common\WorldIntersect.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
xdata$x	SEGMENT DWORD USE32 PUBLIC 'CONST'
xdata$x	ENDS
text$AFX_COL1	SEGMENT PARA USE32 PUBLIC ''
text$AFX_COL1	ENDS
;	COMDAT ?GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetItemHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ProcessCollision@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ProcessCollisionReflection@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1H@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FindTouchLandTri@@YAPAUD3DXVECTOR3@@PAU1@HABU1@1PAM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?IntersectObjLine@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?IntersectObjLine2@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?IntersectRayTerrain2@CWorld@@QAEMABUD3DXVECTOR3@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?CanSlide@@YAHABUD3DXVECTOR3@@00MPAU1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ProcessUnderCollision@CWorld@@QAEMPAUD3DXVECTOR3@@PAPAVCObj@@AAU2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?compare@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEHABV12@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?IsFull@?$CStack@K@@QAEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$pair@KPAVCCtrl@@@std@@QAE@ABKABQAVCCtrl@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetMax@?$CItemContainer@VCItemElem@@@@QAEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?begin@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QAE?AViterator@12@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?end@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QAE?AViterator@12@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?empty@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QBE_NXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?clear@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?begin@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QAE?AViterator@12@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?end@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QAE?AViterator@12@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?empty@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QBE_NXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?clear@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Diterator@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QBEAAPAUtagACTMSG@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Eiterator@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??9const_iterator@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Diterator@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QBEAAPAUtagMAGICATKMSG@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Eiterator@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??9const_iterator@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?size@?$vector@UGuildHouse_Furniture_Info@CGuildHouseBase@@V?$allocator@UGuildHouse_Furniture_Info@CGuildHouseBase@@@std@@@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??A?$vector@UGuildHouse_Furniture_Info@CGuildHouseBase@@V?$allocator@UGuildHouse_Furniture_Info@CGuildHouseBase@@@std@@@std@@QAEAAUGuildHouse_Furniture_Info@CGuildHouseBase@@I@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?empty@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QBE_NXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?insert@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QAE?AU?$pair@Viterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@_N@2@ABU?$pair@$$CBKPAVCGuildHouseBase@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?compare@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEHIIPBDI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Tidy@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$_Deque_val@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@IAE@V?$allocator@PAUtagACTMSG@@@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$allocator@PAUtagACTMSG@@@std@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Tidy@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$_Deque_val@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@IAE@V?$allocator@PAUtagMAGICATKMSG@@@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$allocator@PAUtagMAGICATKMSG@@@std@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0iterator@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QAE@IPBV12@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Dconst_iterator@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QBEABQAUtagACTMSG@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??8const_iterator@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0iterator@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QAE@IPBV12@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Dconst_iterator@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QBEABQAUtagMAGICATKMSG@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??8const_iterator@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?begin@?$vector@UGuildHouse_Furniture_Info@CGuildHouseBase@@V?$allocator@UGuildHouse_Furniture_Info@CGuildHouseBase@@@std@@@std@@QAE?AViterator@12@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Isnil@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@KAAADPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Key@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@KAABKPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Left@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Right@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?begin@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QAE?AViterator@12@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?size@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Insert@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@IAE?AViterator@12@_NPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@ABU?$pair@$$CBKPAVCGuildHouseBase@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Root@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@IAEAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Kfn@?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@SAABKABU?$pair@$$CBKPAVCGuildHouseBase@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$pair@Viterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@_N@std@@QAE@ABViterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@1@AB_N@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0iterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QAE@PAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Fiterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??8const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Mynode@const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QBEPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@3@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Diterator@?$vector@UGuildHouse_Furniture_Info@CGuildHouseBase@@V?$allocator@UGuildHouse_Furniture_Info@CGuildHouseBase@@@std@@@std@@QBEAAUGuildHouse_Furniture_Info@CGuildHouseBase@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Hiterator@?$vector@UGuildHouse_Furniture_Info@CGuildHouseBase@@V?$allocator@UGuildHouse_Furniture_Info@CGuildHouseBase@@@std@@@std@@QBE?AV012@H@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?pop_back@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$_Deque_map@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@IAE@V?$allocator@PAUtagACTMSG@@@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$allocator@PAUtagACTMSG@@@std@@QAE@ABV01@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?deallocate@?$allocator@PAUtagACTMSG@@@std@@QAEXPAPAUtagACTMSG@@I@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?deallocate@?$allocator@PAPAUtagACTMSG@@@std@@QAEXPAPAPAUtagACTMSG@@I@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@PAPAUtagACTMSG@@@std@@QAEXPAPAPAUtagACTMSG@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?pop_back@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$_Deque_map@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@IAE@V?$allocator@PAUtagMAGICATKMSG@@@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$allocator@PAUtagMAGICATKMSG@@@std@@QAE@ABV01@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?deallocate@?$allocator@PAUtagMAGICATKMSG@@@std@@QAEXPAPAUtagMAGICATKMSG@@I@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?deallocate@?$allocator@PAPAUtagMAGICATKMSG@@@std@@QAEXPAPAPAUtagMAGICATKMSG@@I@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@PAPAUtagMAGICATKMSG@@@std@@QAEXPAPAPAUtagMAGICATKMSG@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0const_iterator@?$deque@PAUtagACTMSG@@V?$allocator@PAUtagACTMSG@@@std@@@std@@QAE@IPBV12@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0const_iterator@?$deque@PAUtagMAGICATKMSG@@V?$allocator@PAUtagMAGICATKMSG@@@std@@@std@@QAE@IPBV12@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Color@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@KAAADPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Parent@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Myval@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@KAAAU?$pair@$$CBKPAVCGuildHouseBase@@@2@PAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?max_size@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Lmost@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@IAEAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Lrotate@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@IAEXPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Rmost@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@IAEAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Rrotate@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@IAEXPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Buynode@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@IAEPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@PAU342@00ABU?$pair@$$CBKPAVCGuildHouseBase@@@2@D@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QAE@PAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Fconst_iterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0iterator@?$vector@UGuildHouse_Furniture_Info@CGuildHouseBase@@V?$allocator@UGuildHouse_Furniture_Info@CGuildHouseBase@@@std@@@std@@QAE@PAUGuildHouse_Furniture_Info@CGuildHouseBase@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Yiterator@?$vector@UGuildHouse_Furniture_Info@CGuildHouseBase@@V?$allocator@UGuildHouse_Furniture_Info@CGuildHouseBase@@@std@@@std@@QAEAAV012@H@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Dconst_iterator@?$vector@UGuildHouse_Furniture_Info@CGuildHouseBase@@V?$allocator@UGuildHouse_Furniture_Info@CGuildHouseBase@@@std@@@std@@QBEABUGuildHouse_Furniture_Info@CGuildHouseBase@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@PAUtagACTMSG@@@std@@QAEXPAPAUtagACTMSG@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@PAUtagMAGICATKMSG@@@std@@QAEXPAPAUtagMAGICATKMSG@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?max_size@?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?deallocate@?$allocator@U_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@@std@@QAEXPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@I@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?allocate@?$allocator@U_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@@std@@QAEPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@I@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Dec@const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0const_iterator@?$vector@UGuildHouse_Furniture_Info@CGuildHouseBase@@V?$allocator@UGuildHouse_Furniture_Info@CGuildHouseBase@@@std@@@std@@QAE@PAUGuildHouse_Furniture_Info@CGuildHouseBase@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@QAE@PAU012@00ABU?$pair@$$CBKPAVCGuildHouseBase@@@2@D@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Max@?$_Tree@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@KAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Iter_cat@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@@std@@YA?AUrandom_access_iterator_tag@0@ABVconst_iterator@?$vector@EV?$allocator@E@std@@@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Assign@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@@?$vector@EV?$allocator@E@std@@@std@@QAEXVconst_iterator@01@0Uinput_iterator_tag@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Iter_cat@Viterator@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@@std@@YA?AUbidirectional_iterator_tag@0@ABViterator@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Distance2@Viterator@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@I@std@@YAXViterator@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@0@0AAIUbidirectional_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Iter_cat@Viterator@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@@std@@YA?AUbidirectional_iterator_tag@0@ABViterator@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Distance2@Viterator@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@I@std@@YAXViterator@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@0@0AAIUbidirectional_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninitialized_copy@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@PAEV?$allocator@E@3@@std@@YAPAEVconst_iterator@?$vector@EV?$allocator@E@std@@@0@0PAEAAV?$allocator@E@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Iter_cat@Viterator@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@@std@@YA?AUbidirectional_iterator_tag@0@ABViterator@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Distance2@Viterator@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@I@std@@YAXViterator@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@0@0AAIUbidirectional_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ptr_cat@PAU__SPAWNREGION@CEventLua@@PAU12@@std@@YA?AU_Nonscalar_ptr_iterator_tag@0@AAPAU__SPAWNREGION@CEventLua@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninit_fill_n@PAU__SPAWNREGION@CEventLua@@IU12@V?$allocator@U__SPAWNREGION@CEventLua@@@std@@@std@@YAXPAU__SPAWNREGION@CEventLua@@IABU12@AAV?$allocator@U__SPAWNREGION@CEventLua@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Copy_opt@PAJPAJ@std@@YAPAJPAJ00U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninitialized_copy@PAJPAJV?$allocator@J@std@@@std@@YAPAJPAJ00AAV?$allocator@J@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Copy_backward_opt@PAJPAJ@std@@YAPAJPAJ00U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ptr_cat@PAUtagDROPITEM@@PAU1@@std@@YA?AU_Nonscalar_ptr_iterator_tag@0@AAPAUtagDROPITEM@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@UtagDROPITEM@@V?$allocator@UtagDROPITEM@@@std@@@std@@YAXPAUtagDROPITEM@@0AAV?$allocator@UtagDROPITEM@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ptr_cat@PAUWORMON@@PAU1@@std@@YA?AU_Nonscalar_ptr_iterator_tag@0@AAPAUWORMON@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@UWORMON@@V?$allocator@UWORMON@@@std@@@std@@YAXPAUWORMON@@0AAV?$allocator@UWORMON@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ptr_cat@PAU__ITEMGAME@CMiniGame@@PAU12@@std@@YA?AU_Nonscalar_ptr_iterator_tag@0@AAPAU__ITEMGAME@CMiniGame@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@U__ITEMGAME@CMiniGame@@V?$allocator@U__ITEMGAME@CMiniGame@@@std@@@std@@YAXPAU__ITEMGAME@CMiniGame@@0AAV?$allocator@U__ITEMGAME@CMiniGame@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@KV?$allocator@K@std@@@std@@YAXPAK0AAV?$allocator@K@0@U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@HV?$allocator@H@std@@@std@@YAXPAH0AAV?$allocator@H@0@U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ptr_cat@PAU__ITEM@CExchange@@PAU12@@std@@YA?AU_Nonscalar_ptr_iterator_tag@0@AAPAU__ITEM@CExchange@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@U__ITEM@CExchange@@V?$allocator@U__ITEM@CExchange@@@std@@@std@@YAXPAU__ITEM@CExchange@@0AAV?$allocator@U__ITEM@CExchange@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ptr_cat@PAU__POINT@CExchange@@PAU12@@std@@YA?AU_Nonscalar_ptr_iterator_tag@0@AAPAU__POINT@CExchange@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@U__POINT@CExchange@@V?$allocator@U__POINT@CExchange@@@std@@@std@@YAXPAU__POINT@CExchange@@0AAV?$allocator@U__POINT@CExchange@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@EV?$allocator@E@std@@@std@@YAXPAE0AAV?$allocator@E@0@U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninitialized_copy@PAU__SPAWNREGION@CEventLua@@PAU12@V?$allocator@U__SPAWNREGION@CEventLua@@@std@@@std@@YAPAU__SPAWNREGION@CEventLua@@PAU12@00AAV?$allocator@U__SPAWNREGION@CEventLua@@@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Copy_backward_opt@PAU__SPAWNREGION@CEventLua@@PAU12@@std@@YAPAU__SPAWNREGION@CEventLua@@PAU12@00U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ptr_cat@PAUD3DXVECTOR3@@PAU1@@std@@YA?AU_Nonscalar_ptr_iterator_tag@0@AAPAUD3DXVECTOR3@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@UD3DXVECTOR3@@V?$allocator@UD3DXVECTOR3@@@std@@@std@@YAXPAUD3DXVECTOR3@@0AAV?$allocator@UD3DXVECTOR3@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ptr_cat@PAU_GIFTBOX@@PAU1@@std@@YA?AU_Nonscalar_ptr_iterator_tag@0@AAPAU_GIFTBOX@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@U_GIFTBOX@@V?$allocator@U_GIFTBOX@@@std@@@std@@YAXPAU_GIFTBOX@@0AAV?$allocator@U_GIFTBOX@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@JV?$allocator@J@std@@@std@@YAXPAJ0AAV?$allocator@J@0@U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninit_fill_n@JIJ@std@@YAXPAJIABJAAV?$allocator@J@0@U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@U__SPAWNREGION@CEventLua@@V?$allocator@U__SPAWNREGION@CEventLua@@@std@@@std@@YAXPAU__SPAWNREGION@CEventLua@@0AAV?$allocator@U__SPAWNREGION@CEventLua@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$make_pair@KPAVCGuildHouseBase@@@std@@YA?AU?$pair@KPAVCGuildHouseBase@@@0@KPAVCGuildHouseBase@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$?0KPAVCGuildHouseBase@@@?$pair@$$CBKPAVCGuildHouseBase@@@std@@QAE@ABU?$pair@KPAVCGuildHouseBase@@@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$?0PAUtagACTMSG@@@?$allocator@PAPAUtagACTMSG@@@std@@QAE@ABV?$allocator@PAUtagACTMSG@@@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@PAPAUtagACTMSG@@@std@@YAXPAPAPAUtagACTMSG@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$?0PAUtagMAGICATKMSG@@@?$allocator@PAPAUtagMAGICATKMSG@@@std@@QAE@ABV?$allocator@PAUtagMAGICATKMSG@@@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@PAPAUtagMAGICATKMSG@@@std@@YAXPAPAPAUtagMAGICATKMSG@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@PAUtagACTMSG@@@std@@YAXPAPAUtagACTMSG@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@PAUtagMAGICATKMSG@@@std@@YAXPAPAUtagMAGICATKMSG@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Allocate@U_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@std@@@std@@YAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCGuildHouseBase@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCGuildHouseBase@@@std@@@3@$0A@@std@@@0@IPAU120@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@UtagDROPITEM@@@std@@QAEXPAUtagDROPITEM@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@UWORMON@@@std@@QAEXPAUWORMON@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@U__ITEMGAME@CMiniGame@@@std@@QAEXPAU__ITEMGAME@CMiniGame@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@U__ITEM@CExchange@@@std@@QAEXPAU__ITEM@CExchange@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@U__POINT@CExchange@@@std@@QAEXPAU__POINT@CExchange@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?begin@?$vector@EV?$allocator@E@std@@@std@@QAE?AViterator@12@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?end@?$vector@EV?$allocator@E@std@@@std@@QAE?AViterator@12@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?erase@?$vector@EV?$allocator@E@std@@@std@@QAE?AViterator@12@V312@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?construct@?$allocator@U__SPAWNREGION@CEventLua@@@std@@QAEXPAU__SPAWNREGION@CEventLua@@ABU34@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@U__SPAWNREGION@CEventLua@@@std@@QAEXPAU__SPAWNREGION@CEventLua@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@UD3DXVECTOR3@@@std@@QAEXPAUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@U_GIFTBOX@@@std@@QAEXPAU_GIFTBOX@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$pair@KPAVCGuildHouseBase@@@std@@QAE@ABKABQAVCGuildHouseBase@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??9const_iterator@?$vector@EV?$allocator@E@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0iterator@?$vector@EV?$allocator@E@std@@@std@@QAE@PAE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??8const_iterator@?$vector@EV?$allocator@E@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$insert@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@@?$vector@EV?$allocator@E@std@@@std@@QAEXViterator@01@Vconst_iterator@01@1@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ptr_cat@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@PAE@std@@YA?AU_Nonscalar_ptr_iterator_tag@0@AAVconst_iterator@?$vector@EV?$allocator@E@std@@@0@AAPAE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninit_copy@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@PAEV?$allocator@E@3@@std@@YAPAEVconst_iterator@?$vector@EV?$allocator@E@std@@@0@0PAEAAV?$allocator@E@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninit_copy@JJ@std@@YAPAJPAJ00AAV?$allocator@J@0@U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninit_copy@PAU__SPAWNREGION@CEventLua@@PAU12@V?$allocator@U__SPAWNREGION@CEventLua@@@std@@@std@@YAPAU__SPAWNREGION@CEventLua@@PAU12@00AAV?$allocator@U__SPAWNREGION@CEventLua@@@0@U_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$fill_n@PAJIJ@std@@YAXPAJIABJ@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@UtagDROPITEM@@@std@@YAXPAUtagDROPITEM@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@UWORMON@@@std@@YAXPAUWORMON@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@U__ITEMGAME@CMiniGame@@@std@@YAXPAU__ITEMGAME@CMiniGame@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@U__ITEM@CExchange@@@std@@YAXPAU__ITEM@CExchange@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@U__POINT@CExchange@@@std@@YAXPAU__POINT@CExchange@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$copy@PAEPAE@std@@YAPAEPAE00@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Construct@U__SPAWNREGION@CEventLua@@U12@@std@@YAXPAU__SPAWNREGION@CEventLua@@ABU12@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@U__SPAWNREGION@CEventLua@@@std@@YAXPAU__SPAWNREGION@CEventLua@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@UD3DXVECTOR3@@@std@@YAXPAUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@U_GIFTBOX@@@std@@YAXPAU_GIFTBOX@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?construct@?$allocator@E@std@@QAEXPAEABE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?destroy@?$allocator@E@std@@QAEXPAE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Dconst_iterator@?$vector@EV?$allocator@E@std@@@std@@QBEABEXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Econst_iterator@?$vector@EV?$allocator@E@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Insert@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@@?$vector@EV?$allocator@E@std@@@std@@QAEXViterator@01@Vconst_iterator@01@1Uforward_iterator_tag@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Copy_opt@PAEPAE@std@@YAPAEPAE00U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Construct@EE@std@@YAXPAEABE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@E@std@@YAXPAE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?capacity@?$vector@EV?$allocator@E@std@@@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Giterator@?$vector@EV?$allocator@E@std@@@std@@QBEHABVconst_iterator@12@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Gconst_iterator@?$vector@EV?$allocator@E@std@@@std@@QBEHABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Distance@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@I@std@@YAXVconst_iterator@?$vector@EV?$allocator@E@std@@@0@0AAI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ucopy@PAE@?$vector@EV?$allocator@E@std@@@std@@IAEPAEPAE00@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$advance@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@H@std@@YAXAAVconst_iterator@?$vector@EV?$allocator@E@std@@@0@H@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$copy@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@PAE@std@@YAPAEVconst_iterator@?$vector@EV?$allocator@E@std@@@0@0PAE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$copy_backward@PAEPAE@std@@YAPAEPAE00@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Distance2@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@I@std@@YAXVconst_iterator@?$vector@EV?$allocator@E@std@@@0@0AAIUrandom_access_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninitialized_copy@PAEPAEV?$allocator@E@std@@@std@@YAPAEPAE00AAV?$allocator@E@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Advance@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@H@std@@YAXAAVconst_iterator@?$vector@EV?$allocator@E@std@@@0@HUrandom_access_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Copy_opt@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@PAE@std@@YAPAEVconst_iterator@?$vector@EV?$allocator@E@std@@@0@0PAEU_Nonscalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Copy_backward_opt@PAEPAE@std@@YAPAEPAE00U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Yconst_iterator@?$vector@EV?$allocator@E@std@@@std@@QAEAAV012@H@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Uninit_copy@EE@std@@YAPAEPAE00AAV?$allocator@E@0@U_Scalar_ptr_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?deallocate@?$allocator@E@std@@QAEXPAEI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Ucopy@Vconst_iterator@?$vector@EV?$allocator@E@std@@@std@@@?$vector@EV?$allocator@E@std@@@std@@IAEPAEVconst_iterator@01@0PAE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?allocate@?$allocator@E@std@@QAEPAEI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Allocate@E@std@@YAPAEIPAE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Xlen@?$vector@EV?$allocator@E@std@@@std@@IBEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_C@_0BD@OLBABOEK@vector?$DMT?$DO?5too?5long?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ?size@?$vector@EV?$allocator@E@std@@@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?max_size@?$vector@EV?$allocator@E@std@@@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?max_size@?$allocator@E@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Ptr_cat@std@@YA?AU_Scalar_ptr_iterator_tag@1@PAE0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0const_iterator@?$vector@EV?$allocator@E@std@@@std@@QAE@PAE@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Destroy@?$vector@EV?$allocator@E@std@@@std@@IAEXPAE0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy_range@EV?$allocator@E@std@@@std@@YAXPAE0AAV?$allocator@E@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Ptr_cat@std@@YA?AU_Scalar_ptr_iterator_tag@1@PAJ0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??9const_iterator@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??8const_iterator@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Eiterator@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Econst_iterator@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Inc@const_iterator@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Min@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@KAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Left@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Isnil@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@KAAADPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Parent@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Right@?$_Tree@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KEU?$less@K@std@@V?$allocator@U?$pair@$$CBKE@std@@@2@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??9const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??8const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Eiterator@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Econst_iterator@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Inc@const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Min@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@KAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Left@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Isnil@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@KAAADPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Parent@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Right@?$_Tree@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCCtrl@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCCtrl@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??9const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??8const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@QBE_NABV012@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Eiterator@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??Econst_iterator@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@QAEAAV012@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Inc@const_iterator@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Min@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@KAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Left@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Isnil@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@KAAADPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Parent@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Right@?$_Tree@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@std@@KAAAPAU_Node@?$_Tree_nod@V?$_Tmap_traits@KPAVCUser@@U?$less@K@std@@V?$allocator@U?$pair@$$CBKPAVCUser@@@std@@@3@$0A@@std@@@2@PAU342@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Psave@?$_Facetptr@V?$ctype@G@std@@@std@@2PBVfacet@locale@2@B
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ?_Psave@?$_Facetptr@V?$ctype@D@std@@@std@@2PBVfacet@locale@2@B
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??3@YAXPAX0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??2@YAPAXIPAX@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT __TI3?AVlength_error@std@@
xdata$x	SEGMENT DWORD USE32 PUBLIC 'CONST'
xdata$x	ENDS
;	COMDAT ??1length_error@std@@UAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_7length_error@std@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_Glength_error@std@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?what@logic_error@std@@UBEPBDXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?c_str@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEPBDXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1logic_error@std@@UAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_7logic_error@std@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_Glogic_error@std@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT __CTA3?AVlength_error@std@@
xdata$x	SEGMENT DWORD USE32 PUBLIC 'CONST'
xdata$x	ENDS
;	COMDAT __CT??_R0?AVlength_error@std@@@8??0length_error@std@@QAE@ABV01@@Z40
xdata$x	SEGMENT DWORD USE32 PUBLIC 'CONST'
xdata$x	ENDS
;	COMDAT ??_R0?AVlength_error@std@@@8
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??0length_error@std@@QAE@ABV01@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0logic_error@std@@QAE@ABV01@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ABV01@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$_String_val@DV?$allocator@D@std@@@std@@IAE@V?$allocator@D@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$allocator@D@std@@QAE@ABV01@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Tidy@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@IAEX_NI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?copy@?$char_traits@D@std@@SAPADPADPBDI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?deallocate@?$allocator@D@std@@QAEXPADI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Eos@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@IAEXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?assign@?$char_traits@D@std@@SAXAADABD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Myptr@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEPADXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?assign@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@ABV12@II@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?erase@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@II@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?move@?$char_traits@D@std@@SAPADPADPBDI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Grow@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@IAE_NI_N@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?max_size@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?max_size@?$allocator@D@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Copy@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@IAEXII@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?allocate@?$allocator@D@std@@QAEPADI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Allocate@D@std@@YAPADIPAD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?npos@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@2IB
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT __CT??_R0?AVlogic_error@std@@@8??0logic_error@std@@QAE@ABV01@@Z40
xdata$x	SEGMENT DWORD USE32 PUBLIC 'CONST'
xdata$x	ENDS
;	COMDAT ??_R0?AVlogic_error@std@@@8
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT __CT??_R0?AVexception@@@8??0exception@@QAE@ABV0@@Z12
xdata$x	SEGMENT DWORD USE32 PUBLIC 'CONST'
xdata$x	ENDS
;	COMDAT ??_R0?AVexception@@@8
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??1?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_C@_0BE@JONHPENG@map?1set?$DMT?$DO?5too?5long?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@PBD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$allocator@D@std@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?assign@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@PBD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?assign@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@PBDI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Inside@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@IAE_NPBD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?length@?$char_traits@D@std@@SAIPBD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0length_error@std@@QAE@ABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0logic_error@std@@QAE@ABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?compare@?$char_traits@D@std@@SAHPBD0I@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??R?$less@K@std@@QBE_NABK0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Myptr@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEPBDXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?size@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?IsWorldGuildHouse@CWorld@@QAEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??DD3DXVECTOR3@@QBE?AU0@M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??XD3DXVECTOR3@@QAEAAU0@M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetID@CWorld@@QAEKXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetType@CObj@@QAEKXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
;	COMDAT ?$S4@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
;	COMDAT ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
;	COMDAT ?$S3@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
;	COMDAT ?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
;	COMDAT ?$S2@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
;	COMDAT ??D@YA?AUD3DXVECTOR3@@MABU0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetObject3D@CModelObject@@QAEPAVCObject3D@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetNextNode@CObj@@QAEPAV1@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??ZD3DXVECTOR3@@QAEAAU0@ABU0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetMatrixWorld@CObj@@QBE?AUD3DXMATRIX@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
;	COMDAT ?$S1@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
;	COMDAT ??5CAr@@QAEAAV0@AAH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??5@YAAAVCAr@@AAV0@AAUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??5CAr@@QAEAAV0@AAM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??5CAr@@QAEAAV0@AAK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??5CAr@@QAEAAV0@AAJ@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?time_null@@YAJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??6CAr@@QAEAAV0@K@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??6CAr@@QAEAAV0@J@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??6CAr@@QAEAAV0@H@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??6@YAAAVCAr@@AAV0@UD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??6CAr@@QAEAAV0@M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?IsStoring@CAr@@QBEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
sxdata	SEGMENT DWORD USE32 'SXDATA'
sxdata	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?IntersectObjLine2@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z ; CWorld::IntersectObjLine2
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\worldintersect.cpp
;	COMDAT ?IntersectObjLine2@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z
_TEXT	SEGMENT
_pOut$ = 8						; size = 4
_vPos$ = 12						; size = 4
_vEnd$ = 16						; size = 4
_bSkipTrans$ = 20					; size = 4
_bWithTerrain$ = 24					; size = 4
_bWithObject$ = 28					; size = 4
?IntersectObjLine2@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z PROC NEAR ; CWorld::IntersectObjLine2, COMDAT
; _this$ = ecx

; 834  : 	BOOL bRet = FALSE;
; 835  : #ifdef __CLIENT
; 836  : 	int nRange = 0;
; 837  : 	CObj	*pObj = NULL;
; 838  : 	CModel	*pModel = NULL;
; 839  : 	D3DXVECTOR3	vDir, vIntersect;
; 840  : 	FLOAT fDist;
; 841  : 	BOOL bAble = TRUE;
; 842  : 	Segment3 segment( vPos, vEnd );
; 843  : 
; 844  : #if __VER >= 12 // __CAM_FAST_RECOVER
; 845  : 	bool			bIsCol    = false;
; 846  : 	D3DXVECTOR3		vTempEnd  = vEnd;
; 847  : 	float			fShortest = 0.0f;
; 848  : 
; 849  : 	if(m_nLandWidth < 4) nRange = 5;
; 850  : 	nRange = 5;
; 851  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )
; 852  : 	{
; 853  : 		bAble = TRUE;
; 854  : 		if( bSkipTrans && pObj->m_pModel->m_pModelElem->m_bTrans )	//     .
; 855  : 			bAble = FALSE;
; 856  : 		
; 857  : 		if( bAble )
; 858  : 		{
; 859  : 			//  OBB .
; 860  : 			pModel = pObj->m_pModel;
; 861  : 			if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )
; 862  : 			{
; 863  : 				D3DXVECTOR3	*pTri[3];
; 864  : 				((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTri, vPos, vTempEnd, pObj->GetMatrixWorld(), &fDist);
; 865  : 				if( *pTri )
; 866  : 				{
; 867  : 					if( pOut )
; 868  : 					{
; 869  : 						vDir = vTempEnd - vPos;
; 870  : 						if(bIsCol)
; 871  : 						{
; 872  : 							if(fDist < fShortest)
; 873  : 								fShortest = fDist;
; 874  : 							*pOut = vPos + fShortest * vDir;
; 875  : 							segment.Direction = vTempEnd;
; 876  : 						}
; 877  : 						else
; 878  : 						{
; 879  : 							*pOut = vPos + fDist * vDir;
; 880  : 							segment.Direction = vTempEnd;
; 881  : 							fShortest = fDist;
; 882  : 							bIsCol = true;
; 883  : 						}
; 884  : 					}
; 885  : 				}
; 886  : 			}
; 887  : 		}
; 888  : 	}
; 889  : 	END_LINKMAP
; 890  : 	
; 891  : 	if(bIsCol) return TRUE;
; 892  : #else
; 893  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )
; 894  : 	{
; 895  : 		bAble = TRUE;
; 896  : 		if( bSkipTrans && pObj->m_pModel->m_pModelElem->m_bTrans )	//     .
; 897  : 			bAble = FALSE;
; 898  : 		
; 899  : 		if( bAble )
; 900  : 		{
; 901  : 			//  OBB .
; 902  : 			pModel = pObj->m_pModel;
; 903  : 			if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )
; 904  : 			{
; 905  : 				D3DXVECTOR3	*pTri[3];
; 906  : 				((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTri, vPos, vEnd, pObj->GetMatrixWorld(), &fDist);
; 907  : 				if( *pTri )
; 908  : 				{
; 909  : 					if( pOut )
; 910  : 					{
; 911  : 						vDir = vEnd - vPos;
; 912  : 						*pOut = vPos + fDist * vDir;
; 913  : 					}
; 914  : 					return TRUE;
; 915  : 				}
; 916  : 			}
; 917  : 		}
; 918  : 	}
; 919  : 	END_LINKMAP
; 920  : #endif
; 921  : 	// :        0 
; 922  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkDynamic, nTempLayer )
; 923  : 	{
; 924  : 		if( pObj->GetType() == OT_CTRL ) 
; 925  : 		{
; 926  : 			bAble = TRUE;
; 927  : 			if( bSkipTrans && pObj->m_pModel->m_pModelElem->m_bTrans )	//     .
; 928  : 				bAble = FALSE;
; 929  : 			
; 930  : 			if( bAble )
; 931  : 			{
; 932  : 				//  OBB .
; 933  : 				pModel = pObj->m_pModel;
; 934  : 				if( pModel->TestIntersectionOBB_Line( segment, pObj, FALSE ) == TRUE )
; 935  : 				{
; 936  : 					D3DXVECTOR3	*pTri[3];		//    .
; 937  : 					((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTri, vPos, vEnd, pObj->GetMatrixWorld(), &fDist, TRUE);
; 938  : 					if( *pTri )
; 939  : 					{
; 940  : 						if( pOut )
; 941  : 						{
; 942  : 							vDir = vEnd - vPos;
; 943  : 							*pOut = vPos + fDist * vDir;
; 944  : 						}
; 945  : 						return TRUE;
; 946  : 					}
; 947  : 				}
; 948  : 			}
; 949  : 		}
; 950  : 	}
; 951  : 	END_LINKMAP
; 952  : 	
; 953  : 	if( bWithTerrain )		//  .
; 954  : 	{
; 955  : 		vDir = vEnd - vPos;		//  .
; 956  : 		D3DXVec3Normalize( &vDir, &vDir );
; 957  : 		FLOAT fDist = IntersectRayTerrain2( vPos, vDir );
; 958  : 		if( fDist )
; 959  : 		{
; 960  : 			*pOut = vPos + (vDir * fDist);
; 961  : 			bRet = TRUE;
; 962  : 		}
; 963  : 	}
; 964  : #endif	// __CLIENT
; 965  : 	return bRet;

  00000	33 c0		 xor	 eax, eax

; 966  : }

  00002	c2 18 00	 ret	 24			; 00000018H
?IntersectObjLine2@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z ENDP ; CWorld::IntersectObjLine2
_TEXT	ENDS
PUBLIC	_sqrtf
EXTRN	__fltused:NEAR
; Function compile flags: /Ogty
; File c:\program files\microsoft visual studio .net 2003\vc7\include\math.h
;	COMDAT _sqrtf
_TEXT	SEGMENT
__X$ = 8						; size = 4
_sqrtf	PROC NEAR					; COMDAT

; 470  :         {return ((float)sqrt((double)_X)); }

  00000	d9 44 24 04	 fld	 DWORD PTR __X$[esp-4]
  00004	d9 fa		 fsqrt
  00006	c3		 ret	 0
_sqrtf	ENDP
_TEXT	ENDS
PUBLIC	??0D3DXVECTOR3@@QAE@XZ				; D3DXVECTOR3::D3DXVECTOR3
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\dx_sdk\d3dx9math.h
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT
??0D3DXVECTOR3@@QAE@XZ PROC NEAR			; D3DXVECTOR3::D3DXVECTOR3, COMDAT
; _this$ = ecx

; 165  :     D3DXVECTOR3() {};

  00000	8b c1		 mov	 eax, ecx
  00002	c3		 ret	 0
??0D3DXVECTOR3@@QAE@XZ ENDP				; D3DXVECTOR3::D3DXVECTOR3
_TEXT	ENDS
PUBLIC	??0D3DXMATRIX@@QAE@XZ				; D3DXMATRIX::D3DXMATRIX
; Function compile flags: /Ogty
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT
??0D3DXMATRIX@@QAE@XZ PROC NEAR				; D3DXMATRIX::D3DXMATRIX, COMDAT
; _this$ = ecx

; 313  :     D3DXMATRIX() {};

  00000	8b c1		 mov	 eax, ecx
  00002	c3		 ret	 0
??0D3DXMATRIX@@QAE@XZ ENDP				; D3DXMATRIX::D3DXMATRIX
_TEXT	ENDS
PUBLIC	??0D3DXVECTOR3@@QAE@MMM@Z			; D3DXVECTOR3::D3DXVECTOR3
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\dx_sdk\d3dx9math.inl
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT
_fx$ = 8						; size = 4
_fy$ = 12						; size = 4
_fz$ = 16						; size = 4
??0D3DXVECTOR3@@QAE@MMM@Z PROC NEAR			; D3DXVECTOR3::D3DXVECTOR3, COMDAT
; _this$ = ecx

; 300  :     x = fx;
; 301  :     y = fy;

  00000	8b 54 24 08	 mov	 edx, DWORD PTR _fy$[esp-4]
  00004	8b c1		 mov	 eax, ecx
  00006	8b 4c 24 04	 mov	 ecx, DWORD PTR _fx$[esp-4]
  0000a	89 08		 mov	 DWORD PTR [eax], ecx

; 302  :     z = fz;

  0000c	8b 4c 24 0c	 mov	 ecx, DWORD PTR _fz$[esp-4]
  00010	89 50 04	 mov	 DWORD PTR [eax+4], edx
  00013	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 303  : }

  00016	c2 0c 00	 ret	 12			; 0000000cH
??0D3DXVECTOR3@@QAE@MMM@Z ENDP				; D3DXVECTOR3::D3DXVECTOR3
_TEXT	ENDS
PUBLIC	??ZD3DXVECTOR3@@QAEAAU0@ABU0@@Z			; D3DXVECTOR3::operator-=
; Function compile flags: /Ogty
;	COMDAT ??ZD3DXVECTOR3@@QAEAAU0@ABU0@@Z
_TEXT	SEGMENT
_v$ = 8							; size = 4
??ZD3DXVECTOR3@@QAEAAU0@ABU0@@Z PROC NEAR		; D3DXVECTOR3::operator-=, COMDAT
; _this$ = ecx

; 332  : {

  00000	8b c1		 mov	 eax, ecx

; 333  :     x -= v.x;

  00002	8b 4c 24 04	 mov	 ecx, DWORD PTR _v$[esp-4]
  00006	d9 00		 fld	 DWORD PTR [eax]
  00008	d8 21		 fsub	 DWORD PTR [ecx]
  0000a	d9 18		 fstp	 DWORD PTR [eax]

; 334  :     y -= v.y;

  0000c	d9 40 04	 fld	 DWORD PTR [eax+4]
  0000f	d8 61 04	 fsub	 DWORD PTR [ecx+4]
  00012	d9 58 04	 fstp	 DWORD PTR [eax+4]

; 335  :     z -= v.z;

  00015	d9 40 08	 fld	 DWORD PTR [eax+8]
  00018	d8 61 08	 fsub	 DWORD PTR [ecx+8]
  0001b	d9 58 08	 fstp	 DWORD PTR [eax+8]

; 336  :     return *this;
; 337  : }

  0001e	c2 04 00	 ret	 4
??ZD3DXVECTOR3@@QAEAAU0@ABU0@@Z ENDP			; D3DXVECTOR3::operator-=
_TEXT	ENDS
PUBLIC	??XD3DXVECTOR3@@QAEAAU0@M@Z			; D3DXVECTOR3::operator*=
; Function compile flags: /Ogty
;	COMDAT ??XD3DXVECTOR3@@QAEAAU0@M@Z
_TEXT	SEGMENT
_f$ = 8							; size = 4
??XD3DXVECTOR3@@QAEAAU0@M@Z PROC NEAR			; D3DXVECTOR3::operator*=, COMDAT
; _this$ = ecx

; 342  :     x *= f;

  00000	d9 44 24 04	 fld	 DWORD PTR _f$[esp-4]
  00004	8b c1		 mov	 eax, ecx
  00006	d8 08		 fmul	 DWORD PTR [eax]
  00008	d9 18		 fstp	 DWORD PTR [eax]

; 343  :     y *= f;

  0000a	d9 44 24 04	 fld	 DWORD PTR _f$[esp-4]
  0000e	d8 48 04	 fmul	 DWORD PTR [eax+4]
  00011	d9 58 04	 fstp	 DWORD PTR [eax+4]

; 344  :     z *= f;

  00014	d9 44 24 04	 fld	 DWORD PTR _f$[esp-4]
  00018	d8 48 08	 fmul	 DWORD PTR [eax+8]
  0001b	d9 58 08	 fstp	 DWORD PTR [eax+8]

; 345  :     return *this;
; 346  : }

  0001e	c2 04 00	 ret	 4
??XD3DXVECTOR3@@QAEAAU0@M@Z ENDP			; D3DXVECTOR3::operator*=
_TEXT	ENDS
PUBLIC	??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z			; D3DXVECTOR3::operator+
; Function compile flags: /Ogty
;	COMDAT ??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT
___$ReturnUdt$ = 8					; size = 4
_v$ = 12						; size = 4
??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z PROC NEAR		; D3DXVECTOR3::operator+, COMDAT
; _this$ = ecx

; 377  :     return D3DXVECTOR3(x + v.x, y + v.y, z + v.z);

  00000	8b 44 24 08	 mov	 eax, DWORD PTR _v$[esp-4]
  00004	d9 40 08	 fld	 DWORD PTR [eax+8]
  00007	d8 41 08	 fadd	 DWORD PTR [ecx+8]
  0000a	d9 40 04	 fld	 DWORD PTR [eax+4]
  0000d	d8 41 04	 fadd	 DWORD PTR [ecx+4]
  00010	d9 00		 fld	 DWORD PTR [eax]
  00012	8b 44 24 04	 mov	 eax, DWORD PTR ___$ReturnUdt$[esp-4]
  00016	d8 01		 fadd	 DWORD PTR [ecx]
  00018	d9 18		 fstp	 DWORD PTR [eax]
  0001a	d9 58 04	 fstp	 DWORD PTR [eax+4]
  0001d	d9 58 08	 fstp	 DWORD PTR [eax+8]

; 378  : }

  00020	c2 08 00	 ret	 8
??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z ENDP			; D3DXVECTOR3::operator+
_TEXT	ENDS
PUBLIC	??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z			; D3DXVECTOR3::operator-
; Function compile flags: /Ogty
;	COMDAT ??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT
___$ReturnUdt$ = 8					; size = 4
_v$ = 12						; size = 4
??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z PROC NEAR		; D3DXVECTOR3::operator-, COMDAT
; _this$ = ecx

; 383  :     return D3DXVECTOR3(x - v.x, y - v.y, z - v.z);

  00000	d9 41 08	 fld	 DWORD PTR [ecx+8]
  00003	8b 44 24 08	 mov	 eax, DWORD PTR _v$[esp-4]
  00007	d8 60 08	 fsub	 DWORD PTR [eax+8]
  0000a	d9 41 04	 fld	 DWORD PTR [ecx+4]
  0000d	d8 60 04	 fsub	 DWORD PTR [eax+4]
  00010	d9 01		 fld	 DWORD PTR [ecx]
  00012	d8 20		 fsub	 DWORD PTR [eax]
  00014	8b 44 24 04	 mov	 eax, DWORD PTR ___$ReturnUdt$[esp-4]
  00018	d9 18		 fstp	 DWORD PTR [eax]
  0001a	d9 58 04	 fstp	 DWORD PTR [eax+4]
  0001d	d9 58 08	 fstp	 DWORD PTR [eax+8]

; 384  : }

  00020	c2 08 00	 ret	 8
??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z ENDP			; D3DXVECTOR3::operator-
_TEXT	ENDS
PUBLIC	??DD3DXVECTOR3@@QBE?AU0@M@Z			; D3DXVECTOR3::operator*
; Function compile flags: /Ogty
;	COMDAT ??DD3DXVECTOR3@@QBE?AU0@M@Z
_TEXT	SEGMENT
___$ReturnUdt$ = 8					; size = 4
_f$ = 12						; size = 4
??DD3DXVECTOR3@@QBE?AU0@M@Z PROC NEAR			; D3DXVECTOR3::operator*, COMDAT
; _this$ = ecx

; 389  :     return D3DXVECTOR3(x * f, y * f, z * f);

  00000	d9 44 24 08	 fld	 DWORD PTR _f$[esp-4]
  00004	8b 44 24 04	 mov	 eax, DWORD PTR ___$ReturnUdt$[esp-4]
  00008	d8 49 08	 fmul	 DWORD PTR [ecx+8]
  0000b	d9 44 24 08	 fld	 DWORD PTR _f$[esp-4]
  0000f	d8 49 04	 fmul	 DWORD PTR [ecx+4]
  00012	d9 44 24 08	 fld	 DWORD PTR _f$[esp-4]
  00016	d8 09		 fmul	 DWORD PTR [ecx]
  00018	d9 18		 fstp	 DWORD PTR [eax]
  0001a	d9 58 04	 fstp	 DWORD PTR [eax+4]
  0001d	d9 58 08	 fstp	 DWORD PTR [eax+8]

; 390  : }

  00020	c2 08 00	 ret	 8
??DD3DXVECTOR3@@QBE?AU0@M@Z ENDP			; D3DXVECTOR3::operator*
_TEXT	ENDS
PUBLIC	??D@YA?AUD3DXVECTOR3@@MABU0@@Z			; operator*
; Function compile flags: /Ogty
;	COMDAT ??D@YA?AUD3DXVECTOR3@@MABU0@@Z
_TEXT	SEGMENT
___$ReturnUdt$ = 8					; size = 4
_f$ = 12						; size = 4
_v$ = 16						; size = 4
??D@YA?AUD3DXVECTOR3@@MABU0@@Z PROC NEAR		; operator*, COMDAT

; 403  :     return D3DXVECTOR3(f * v.x, f * v.y, f * v.z);

  00000	8b 44 24 0c	 mov	 eax, DWORD PTR _v$[esp-4]
  00004	d9 44 24 08	 fld	 DWORD PTR _f$[esp-4]
  00008	d8 48 08	 fmul	 DWORD PTR [eax+8]
  0000b	d9 44 24 08	 fld	 DWORD PTR _f$[esp-4]
  0000f	d8 48 04	 fmul	 DWORD PTR [eax+4]
  00012	d9 44 24 08	 fld	 DWORD PTR _f$[esp-4]
  00016	d8 08		 fmul	 DWORD PTR [eax]
  00018	8b 44 24 04	 mov	 eax, DWORD PTR ___$ReturnUdt$[esp-4]
  0001c	d9 18		 fstp	 DWORD PTR [eax]
  0001e	d9 58 04	 fstp	 DWORD PTR [eax+4]
  00021	d9 58 08	 fstp	 DWORD PTR [eax+8]

; 404  : }

  00024	c3		 ret	 0
??D@YA?AUD3DXVECTOR3@@MABU0@@Z ENDP			; operator*
_TEXT	ENDS
PUBLIC	?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z		; D3DXVec3Length
; Function compile flags: /Ogty
;	COMDAT ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT
_pV$ = 8						; size = 4
?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z PROC NEAR	; D3DXVec3Length, COMDAT

; 1678 : #ifdef D3DX_DEBUG
; 1679 :     if(!pV)
; 1680 :         return 0.0f;
; 1681 : #endif
; 1682 : 
; 1683 : #ifdef __cplusplus
; 1684 :     return sqrtf(pV->x * pV->x + pV->y * pV->y + pV->z * pV->z);

  00000	8b 44 24 04	 mov	 eax, DWORD PTR _pV$[esp-4]
  00004	d9 40 08	 fld	 DWORD PTR [eax+8]
  00007	d9 40 04	 fld	 DWORD PTR [eax+4]
  0000a	d9 00		 fld	 DWORD PTR [eax]
  0000c	d9 c0		 fld	 ST(0)
  0000e	d8 c9		 fmul	 ST(0), ST(1)
  00010	d9 c2		 fld	 ST(2)
  00012	d8 cb		 fmul	 ST(0), ST(3)
  00014	de c1		 faddp	 ST(1), ST(0)
  00016	d9 c3		 fld	 ST(3)
  00018	d8 cc		 fmul	 ST(0), ST(4)
  0001a	de c1		 faddp	 ST(1), ST(0)
  0001c	d9 fa		 fsqrt
  0001e	dd db		 fstp	 ST(3)
  00020	dd d8		 fstp	 ST(0)
  00022	dd d8		 fstp	 ST(0)

; 1685 : #else
; 1686 :     return (FLOAT) sqrt(pV->x * pV->x + pV->y * pV->y + pV->z * pV->z);
; 1687 : #endif
; 1688 : }

  00024	c3		 ret	 0
?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z ENDP		; D3DXVec3Length
_TEXT	ENDS
PUBLIC	?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z	; D3DXVec3LengthSq
; Function compile flags: /Ogty
;	COMDAT ?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT
_pV$ = 8						; size = 4
?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z PROC NEAR	; D3DXVec3LengthSq, COMDAT

; 1693 : #ifdef D3DX_DEBUG
; 1694 :     if(!pV)
; 1695 :         return 0.0f;
; 1696 : #endif
; 1697 : 
; 1698 :     return pV->x * pV->x + pV->y * pV->y + pV->z * pV->z;

  00000	8b 44 24 04	 mov	 eax, DWORD PTR _pV$[esp-4]
  00004	d9 40 08	 fld	 DWORD PTR [eax+8]
  00007	d9 40 04	 fld	 DWORD PTR [eax+4]
  0000a	d9 00		 fld	 DWORD PTR [eax]
  0000c	d9 c0		 fld	 ST(0)
  0000e	d8 c9		 fmul	 ST(0), ST(1)
  00010	d9 c2		 fld	 ST(2)
  00012	d8 cb		 fmul	 ST(0), ST(3)
  00014	de c1		 faddp	 ST(1), ST(0)
  00016	d9 c3		 fld	 ST(3)
  00018	d8 cc		 fmul	 ST(0), ST(4)
  0001a	de c1		 faddp	 ST(1), ST(0)
  0001c	dd db		 fstp	 ST(3)
  0001e	dd d8		 fstp	 ST(0)
  00020	dd d8		 fstp	 ST(0)

; 1699 : }

  00022	c3		 ret	 0
?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z ENDP		; D3DXVec3LengthSq
_TEXT	ENDS
PUBLIC	?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z		; D3DXVec3Dot
; Function compile flags: /Ogty
;	COMDAT ?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z
_TEXT	SEGMENT
_pV1$ = 8						; size = 4
_pV2$ = 12						; size = 4
?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z PROC NEAR		; D3DXVec3Dot, COMDAT

; 1704 : #ifdef D3DX_DEBUG
; 1705 :     if(!pV1 || !pV2)
; 1706 :         return 0.0f;
; 1707 : #endif
; 1708 : 
; 1709 :     return pV1->x * pV2->x + pV1->y * pV2->y + pV1->z * pV2->z;

  00000	8b 44 24 04	 mov	 eax, DWORD PTR _pV1$[esp-4]
  00004	8b 4c 24 08	 mov	 ecx, DWORD PTR _pV2$[esp-4]
  00008	d9 40 08	 fld	 DWORD PTR [eax+8]
  0000b	d8 49 08	 fmul	 DWORD PTR [ecx+8]
  0000e	d9 40 04	 fld	 DWORD PTR [eax+4]
  00011	d8 49 04	 fmul	 DWORD PTR [ecx+4]
  00014	de c1		 faddp	 ST(1), ST(0)
  00016	d9 00		 fld	 DWORD PTR [eax]
  00018	d8 09		 fmul	 DWORD PTR [ecx]
  0001a	de c1		 faddp	 ST(1), ST(0)

; 1710 : }

  0001c	c3		 ret	 0
?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z ENDP		; D3DXVec3Dot
_TEXT	ENDS
PUBLIC	?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z	; D3DXVec3Cross
; Function compile flags: /Ogty
;	COMDAT ?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z
_TEXT	SEGMENT
_v$ = -12						; size = 12
_pOut$ = 8						; size = 4
_pV1$ = 12						; size = 4
_pV2$ = 16						; size = 4
?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z PROC NEAR ; D3DXVec3Cross, COMDAT

; 1714 : {

  00000	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 1715 :     D3DXVECTOR3 v;
; 1716 : 
; 1717 : #ifdef D3DX_DEBUG
; 1718 :     if(!pOut || !pV1 || !pV2)
; 1719 :         return NULL;
; 1720 : #endif
; 1721 : 
; 1722 :     v.x = pV1->y * pV2->z - pV1->z * pV2->y;

  00003	8b 4c 24 18	 mov	 ecx, DWORD PTR _pV2$[esp+8]
  00007	8b 44 24 14	 mov	 eax, DWORD PTR _pV1$[esp+8]
  0000b	d9 41 08	 fld	 DWORD PTR [ecx+8]
  0000e	d8 48 04	 fmul	 DWORD PTR [eax+4]
  00011	d9 40 08	 fld	 DWORD PTR [eax+8]
  00014	d8 49 04	 fmul	 DWORD PTR [ecx+4]
  00017	de e9		 fsubp	 ST(1), ST(0)
  00019	d9 1c 24	 fstp	 DWORD PTR _v$[esp+12]

; 1723 :     v.y = pV1->z * pV2->x - pV1->x * pV2->z;
; 1724 :     v.z = pV1->x * pV2->y - pV1->y * pV2->x;
; 1725 : 
; 1726 :     *pOut = v;

  0001c	8b 14 24	 mov	 edx, DWORD PTR _v$[esp+12]
  0001f	d9 40 08	 fld	 DWORD PTR [eax+8]
  00022	d8 09		 fmul	 DWORD PTR [ecx]
  00024	d9 41 08	 fld	 DWORD PTR [ecx+8]
  00027	d8 08		 fmul	 DWORD PTR [eax]
  00029	de e9		 fsubp	 ST(1), ST(0)
  0002b	d9 5c 24 04	 fstp	 DWORD PTR _v$[esp+16]
  0002f	d9 00		 fld	 DWORD PTR [eax]
  00031	d8 49 04	 fmul	 DWORD PTR [ecx+4]
  00034	d9 01		 fld	 DWORD PTR [ecx]
  00036	d8 48 04	 fmul	 DWORD PTR [eax+4]
  00039	8b 44 24 10	 mov	 eax, DWORD PTR _pOut$[esp+8]
  0003d	8b c8		 mov	 ecx, eax
  0003f	89 11		 mov	 DWORD PTR [ecx], edx
  00041	8b 54 24 04	 mov	 edx, DWORD PTR _v$[esp+16]
  00045	de e9		 fsubp	 ST(1), ST(0)
  00047	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  0004a	d9 5c 24 08	 fstp	 DWORD PTR _v$[esp+20]
  0004e	8b 54 24 08	 mov	 edx, DWORD PTR _v$[esp+20]
  00052	89 51 08	 mov	 DWORD PTR [ecx+8], edx

; 1727 :     return pOut;
; 1728 : }

  00055	83 c4 0c	 add	 esp, 12			; 0000000cH
  00058	c3		 ret	 0
?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z ENDP	; D3DXVec3Cross
_TEXT	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Ogty
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC NEAR			; `vector constructor iterator', COMDAT
  00000	8b 44 24 0c	 mov	 eax, DWORD PTR ___n$[esp-4]
  00004	48		 dec	 eax
  00005	78 26		 js	 SHORT $L171564
  00007	53		 push	 ebx
  00008	8b 5c 24 14	 mov	 ebx, DWORD PTR ___f$[esp]
  0000c	55		 push	 ebp
  0000d	8b 6c 24 10	 mov	 ebp, DWORD PTR ___s$[esp+4]
  00011	56		 push	 esi
  00012	8b 74 24 10	 mov	 esi, DWORD PTR ___t$[esp+8]
  00016	57		 push	 edi
  00017	8d 78 01	 lea	 edi, DWORD PTR [eax+1]
  0001a	8d 9b 00 00 00
	00		 npad	 6
$L171563:
  00020	8b ce		 mov	 ecx, esi
  00022	ff d3		 call	 ebx
  00024	03 f5		 add	 esi, ebp
  00026	4f		 dec	 edi
  00027	75 f7		 jne	 SHORT $L171563
  00029	5f		 pop	 edi
  0002a	5e		 pop	 esi
  0002b	5d		 pop	 ebp
  0002c	5b		 pop	 ebx
$L171564:
  0002d	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?GetNextNode@CObj@@QAEPAV1@XZ			; CObj::GetNextNode
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\obj.h
;	COMDAT ?GetNextNode@CObj@@QAEPAV1@XZ
_TEXT	SEGMENT
?GetNextNode@CObj@@QAEPAV1@XZ PROC NEAR			; CObj::GetNextNode, COMDAT
; _this$ = ecx

; 195  : 	CObj*			GetNextNode() { return m_pNext; }

  00000	8b 81 80 01 00
	00		 mov	 eax, DWORD PTR [ecx+384]
  00006	c3		 ret	 0
?GetNextNode@CObj@@QAEPAV1@XZ ENDP			; CObj::GetNextNode
_TEXT	ENDS
PUBLIC	?GetType@CObj@@QAEKXZ				; CObj::GetType
; Function compile flags: /Ogty
;	COMDAT ?GetType@CObj@@QAEKXZ
_TEXT	SEGMENT
?GetType@CObj@@QAEKXZ PROC NEAR				; CObj::GetType, COMDAT
; _this$ = ecx

; 206  : 	DWORD			GetType() { return m_dwType; }

  00000	8b 81 70 01 00
	00		 mov	 eax, DWORD PTR [ecx+368]
  00006	c3		 ret	 0
?GetType@CObj@@QAEKXZ ENDP				; CObj::GetType
_TEXT	ENDS
PUBLIC	?GetMatrixWorld@CObj@@QBE?AUD3DXMATRIX@@XZ	; CObj::GetMatrixWorld
; Function compile flags: /Ogty
;	COMDAT ?GetMatrixWorld@CObj@@QBE?AUD3DXMATRIX@@XZ
_TEXT	SEGMENT
___$ReturnUdt$ = 8					; size = 4
?GetMatrixWorld@CObj@@QBE?AUD3DXMATRIX@@XZ PROC NEAR	; CObj::GetMatrixWorld, COMDAT
; _this$ = ecx

; 231  : 	D3DXMATRIX		GetMatrixWorld() const		{ return m_matWorld; } //     

  00000	8b 44 24 04	 mov	 eax, DWORD PTR ___$ReturnUdt$[esp-4]
  00004	56		 push	 esi
  00005	57		 push	 edi
  00006	8d b1 e4 00 00
	00		 lea	 esi, DWORD PTR [ecx+228]
  0000c	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  00011	8b f8		 mov	 edi, eax
  00013	f3 a5		 rep movsd
  00015	5f		 pop	 edi
  00016	5e		 pop	 esi
  00017	c2 04 00	 ret	 4
?GetMatrixWorld@CObj@@QBE?AUD3DXMATRIX@@XZ ENDP		; CObj::GetMatrixWorld
_TEXT	ENDS
PUBLIC	?GetObject3D@CModelObject@@QAEPAVCObject3D@@XZ	; CModelObject::GetObject3D
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\modelobject.h
;	COMDAT ?GetObject3D@CModelObject@@QAEPAVCObject3D@@XZ
_TEXT	SEGMENT
?GetObject3D@CModelObject@@QAEPAVCObject3D@@XZ PROC NEAR ; CModelObject::GetObject3D, COMDAT
; _this$ = ecx

; 208  : 	CObject3D	*GetObject3D( void ) { return m_Element[0].m_pObject3D; }		//   .

  00000	8b 81 d8 00 00
	00		 mov	 eax, DWORD PTR [ecx+216]
  00006	c3		 ret	 0
?GetObject3D@CModelObject@@QAEPAVCObject3D@@XZ ENDP	; CModelObject::GetObject3D
_TEXT	ENDS
PUBLIC	?GetID@CWorld@@QAEKXZ				; CWorld::GetID
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\world.h
;	COMDAT ?GetID@CWorld@@QAEKXZ
_TEXT	SEGMENT
?GetID@CWorld@@QAEKXZ PROC NEAR				; CWorld::GetID, COMDAT
; _this$ = ecx

; 413  : 	DWORD			GetID()	{ return m_dwWorldID; }

  00000	8b 01		 mov	 eax, DWORD PTR [ecx]
  00002	c3		 ret	 0
?GetID@CWorld@@QAEKXZ ENDP				; CWorld::GetID
_TEXT	ENDS
PUBLIC	?IsWorldGuildHouse@CWorld@@QAEHXZ		; CWorld::IsWorldGuildHouse
; Function compile flags: /Ogty
;	COMDAT ?IsWorldGuildHouse@CWorld@@QAEHXZ
_TEXT	SEGMENT
?IsWorldGuildHouse@CWorld@@QAEHXZ PROC NEAR		; CWorld::IsWorldGuildHouse, COMDAT
; _this$ = ecx

; 537  : 	BOOL			IsWorldGuildHouse() { return ( WI_GUILDHOUSE_SMALL <= GetID() && WI_GUILDHOUSE_LARGE >= GetID() ); }

  00000	8b 01		 mov	 eax, DWORD PTR [ecx]
  00002	3d d4 00 00 00	 cmp	 eax, 212		; 000000d4H
  00007	72 0d		 jb	 SHORT $L231280
  00009	3d d6 00 00 00	 cmp	 eax, 214		; 000000d6H
  0000e	77 06		 ja	 SHORT $L231280
  00010	b8 01 00 00 00	 mov	 eax, 1
  00015	c3		 ret	 0
$L231280:
  00016	33 c0		 xor	 eax, eax
  00018	c3		 ret	 0
?IsWorldGuildHouse@CWorld@@QAEHXZ ENDP			; CWorld::IsWorldGuildHouse
_TEXT	ENDS
PUBLIC	?GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z	; CWorld::GetFullHeight
PUBLIC	__real@3f800000
EXTRN	?GetLandHeight@CWorld@@QAEMMM@Z:NEAR		; CWorld::GetLandHeight
EXTRN	?FindTouchTriLine@CObject3D@@QAEXPAPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@PAMH@Z:NEAR ; CObject3D::FindTouchTriLine
EXTRN	?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z:NEAR	; CLayeredLinkMap::GetLinkWidth
EXTRN	?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z:NEAR ; CLayeredLinkMap::GetObj
EXTRN	?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z:NEAR	; CLayeredLinkMap::GetMaxLinkLevel
EXTRN	__ftol2:NEAR
;	COMDAT ?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\dx_sdk\d3dx9math.inl
_BSS	SEGMENT
?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A DB 0cH DUP (?) ; `CWorld::GetFullHeight'::`2'::vDir
_BSS	ENDS
;	COMDAT ?$S1@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA
_BSS	SEGMENT
?$S1@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA DD 01H DUP (?) ; `CWorld::GetFullHeight'::`2'::$S1
_BSS	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\worldintersect.cpp
CONST	ENDS
;	COMDAT ?GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z
_TEXT	SEGMENT
tv566 = -160						; size = 4
tv564 = -160						; size = 4
tv143 = -160						; size = 4
tv429 = -156						; size = 4
__nLinkXMax$228752 = -156				; size = 4
tv628 = -152						; size = 4
__nMaxHeight$228748 = -152				; size = 4
__i$228758 = -148					; size = 4
tv674 = -144						; size = 4
tv423 = -144						; size = 4
tv237 = -140						; size = 4
__nX$228754 = -140					; size = 4
_fDist$ = -136						; size = 4
_this$ = -132						; size = 4
_vIntersect$ = -128					; size = 12
___limit$228778 = -116					; size = 4
__pObjs$228762 = -116					; size = 4
__nLinkXMin$228750 = -112				; size = 4
_pMinObj$ = -108					; size = 4
_fDistMin$ = -104					; size = 4
__nLinkX$228742 = -100					; size = 4
tv678 = -96						; size = 4
__nLinkZ$228744 = -92					; size = 4
_vEnd$ = -88						; size = 12
_pTris$228786 = -76					; size = 12
$T231294 = -64						; size = 64
$T231293 = -64						; size = 64
_vPos$ = 8						; size = 4
?GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z PROC NEAR	; CWorld::GetFullHeight, COMDAT
; _this$ = ecx

; 13   : {

  00000	81 ec a0 00 00
	00		 sub	 esp, 160		; 000000a0H

; 14   : 	static D3DXVECTOR3 vDir( 0.0f, -2000.0f, 0.0f );	//  2000

  00006	f6 05 00 00 00
	00 01		 test	 BYTE PTR ?$S1@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA, 1
  0000d	53		 push	 ebx
  0000e	55		 push	 ebp
  0000f	56		 push	 esi
  00010	57		 push	 edi
  00011	8b f9		 mov	 edi, ecx
  00013	89 7c 24 2c	 mov	 DWORD PTR _this$[esp+176], edi
  00017	75 25		 jne	 SHORT $L231372
  00019	83 0d 00 00 00
	00 01		 or	 DWORD PTR ?$S1@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA, 1
  00020	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A, 0
  0002a	c7 05 04 00 00
	00 00 00 fa c4	 mov	 DWORD PTR ?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+4, -990248960 ; c4fa0000H
  00034	c7 05 08 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+8, 0
$L231372:

; 15   : 	D3DXVECTOR3 vEnd = vPos + vDir;

  0003e	8b ac 24 b4 00
	00 00		 mov	 ebp, DWORD PTR _vPos$[esp+172]
  00045	d9 05 00 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A
  0004b	d8 45 00	 fadd	 DWORD PTR [ebp]

; 16   : 	D3DXVECTOR3 vIntersect;
; 17   : 	FLOAT fDist, fDistMin = 4194304.0f;
; 18   : 
; 19   : 	CObj* pObj;
; 20   : 	CObj* pMinObj = NULL;

  0004e	33 f6		 xor	 esi, esi
  00050	c7 44 24 48 00
	00 80 4a	 mov	 DWORD PTR _fDistMin$[esp+176], 1249902592 ; 4a800000H
  00058	89 74 24 44	 mov	 DWORD PTR _pMinObj$[esp+176], esi
  0005c	d9 5c 24 58	 fstp	 DWORD PTR _vEnd$[esp+176]
  00060	d9 05 04 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+4
  00066	d8 45 04	 fadd	 DWORD PTR [ebp+4]
  00069	d9 5c 24 5c	 fstp	 DWORD PTR _vEnd$[esp+180]
  0006d	d9 05 08 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+8
  00073	d8 45 08	 fadd	 DWORD PTR [ebp+8]
  00076	d9 5c 24 60	 fstp	 DWORD PTR _vEnd$[esp+184]

; 21   : 	CModel* pModel;
; 22   : 	int nRange = 0;
; 23   : 
; 24   : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  0007a	db 47 14	 fild	 DWORD PTR [edi+20]
  0007d	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  00083	d9 c0		 fld	 ST(0)
  00085	d8 4d 00	 fmul	 DWORD PTR [ebp]
  00088	e8 00 00 00 00	 call	 __ftol2
  0008d	d8 4d 08	 fmul	 DWORD PTR [ebp+8]
  00090	89 44 24 4c	 mov	 DWORD PTR __nLinkX$228742[esp+176], eax
  00094	e8 00 00 00 00	 call	 __ftol2
  00099	56		 push	 esi
  0009a	8d 5f 24	 lea	 ebx, DWORD PTR [edi+36]
  0009d	56		 push	 esi
  0009e	8b cb		 mov	 ecx, ebx
  000a0	89 44 24 5c	 mov	 DWORD PTR __nLinkZ$228744[esp+184], eax
  000a4	89 74 24 24	 mov	 DWORD PTR __i$228758[esp+184], esi
  000a8	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  000ad	85 c0		 test	 eax, eax
  000af	0f 8e da 02 00
	00		 jle	 $L228789
  000b5	eb 09		 jmp	 SHORT $L228759
$L231373:
  000b7	8b 7c 24 2c	 mov	 edi, DWORD PTR _this$[esp+176]
  000bb	eb 03 8d 49 00	 npad	 5
$L228759:
  000c0	8b 44 24 1c	 mov	 eax, DWORD PTR __i$228758[esp+176]
  000c4	6a 00		 push	 0
  000c6	50		 push	 eax
  000c7	6a 00		 push	 0
  000c9	8b cb		 mov	 ecx, ebx
  000cb	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  000d0	8b 4c 24 1c	 mov	 ecx, DWORD PTR __i$228758[esp+176]
  000d4	6a 00		 push	 0
  000d6	51		 push	 ecx
  000d7	6a 00		 push	 0
  000d9	8b cb		 mov	 ecx, ebx
  000db	8b f0		 mov	 esi, eax
  000dd	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  000e2	d9 45 00	 fld	 DWORD PTR [ebp]
  000e5	89 44 24 3c	 mov	 DWORD PTR __pObjs$228762[esp+176], eax
  000e9	8b 47 04	 mov	 eax, DWORD PTR [edi+4]
  000ec	8b d8		 mov	 ebx, eax
  000ee	c1 e0 07	 shl	 eax, 7
  000f1	0f af de	 imul	 ebx, esi
  000f4	99		 cdq
  000f5	f7 fb		 idiv	 ebx
  000f7	8b 4f 08	 mov	 ecx, DWORD PTR [edi+8]
  000fa	0f af ce	 imul	 ecx, esi
  000fd	89 4c 24 18	 mov	 DWORD PTR __nMaxHeight$228748[esp+176], ecx
  00101	8b 4f 14	 mov	 ecx, DWORD PTR [edi+20]
  00104	8b f0		 mov	 esi, eax
  00106	8b c1		 mov	 eax, ecx
  00108	0f af c6	 imul	 eax, esi
  0010b	99		 cdq
  0010c	2b c2		 sub	 eax, edx
  0010e	8b f8		 mov	 edi, eax
  00110	8b 44 24 4c	 mov	 eax, DWORD PTR __nLinkX$228742[esp+176]
  00114	99		 cdq
  00115	f7 fe		 idiv	 esi
  00117	d1 ff		 sar	 edi, 1
  00119	89 44 24 20	 mov	 DWORD PTR tv423[esp+176], eax

; 51   : 			return v.y;
; 52   : 		}
; 53   : 	#else
; 54   : 		D3DXVECTOR3 *pTri = pModel->IntersectRayTri( vPos, vDir, pMinObj->GetMatrixWorld(), &vIntersect, &fDist );
; 55   : 		if( pTri )
; 56   : 			return vIntersect.y;
; 57   : 	#endif
; 58   : 	}
; 59   : 	return GetLandHeight( vPos.x, vPos.z );

  0011d	0f af c1	 imul	 eax, ecx
  00120	0f af c6	 imul	 eax, esi
  00123	89 44 24 10	 mov	 DWORD PTR tv566[esp+176], eax
  00127	e8 00 00 00 00	 call	 __ftol2
  0012c	8b 4c 24 10	 mov	 ecx, DWORD PTR tv566[esp+176]
  00130	2b c1		 sub	 eax, ecx
  00132	33 d2		 xor	 edx, edx
  00134	3b c7		 cmp	 eax, edi
  00136	8b 44 24 54	 mov	 eax, DWORD PTR __nLinkZ$228744[esp+176]
  0013a	0f 9f c2	 setg	 dl
  0013d	8b 4c 24 2c	 mov	 ecx, DWORD PTR _this$[esp+176]
  00141	8b ac 24 b4 00
	00 00		 mov	 ebp, DWORD PTR _vPos$[esp+172]
  00148	d9 45 08	 fld	 DWORD PTR [ebp+8]
  0014b	89 54 24 24	 mov	 DWORD PTR __nX$228754[esp+176], edx
  0014f	99		 cdq
  00150	f7 fe		 idiv	 esi
  00152	89 44 24 14	 mov	 DWORD PTR tv429[esp+176], eax
  00156	0f af 41 14	 imul	 eax, DWORD PTR [ecx+20]
  0015a	0f af c6	 imul	 eax, esi
  0015d	89 44 24 10	 mov	 DWORD PTR tv564[esp+176], eax
  00161	e8 00 00 00 00	 call	 __ftol2
  00166	8b 4c 24 10	 mov	 ecx, DWORD PTR tv564[esp+176]
  0016a	2b c1		 sub	 eax, ecx
  0016c	8b 4c 24 20	 mov	 ecx, DWORD PTR tv423[esp+176]
  00170	33 d2		 xor	 edx, edx
  00172	3b c7		 cmp	 eax, edi
  00174	0f 9f c2	 setg	 dl
  00177	8b c2		 mov	 eax, edx
  00179	8b 54 24 24	 mov	 edx, DWORD PTR __nX$228754[esp+176]
  0017d	03 ca		 add	 ecx, edx
  0017f	8d 51 ff	 lea	 edx, DWORD PTR [ecx-1]
  00182	85 d2		 test	 edx, edx
  00184	89 54 24 40	 mov	 DWORD PTR __nLinkXMin$228750[esp+176], edx
  00188	7d 08		 jge	 SHORT $L228766

; 21   : 	CModel* pModel;
; 22   : 	int nRange = 0;
; 23   : 
; 24   : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  0018a	c7 44 24 40 00
	00 00 00	 mov	 DWORD PTR __nLinkXMin$228750[esp+176], 0
$L228766:
  00192	8b 54 24 14	 mov	 edx, DWORD PTR tv429[esp+176]
  00196	03 c2		 add	 eax, edx
  00198	8d 50 ff	 lea	 edx, DWORD PTR [eax-1]
  0019b	85 d2		 test	 edx, edx
  0019d	7d 02		 jge	 SHORT $L228767
  0019f	33 d2		 xor	 edx, edx
$L228767:
  001a1	3b cb		 cmp	 ecx, ebx
  001a3	89 4c 24 14	 mov	 DWORD PTR __nLinkXMax$228752[esp+176], ecx
  001a7	7c 07		 jl	 SHORT $L228768
  001a9	8d 4b ff	 lea	 ecx, DWORD PTR [ebx-1]
  001ac	89 4c 24 14	 mov	 DWORD PTR __nLinkXMax$228752[esp+176], ecx
$L228768:
  001b0	8b 4c 24 18	 mov	 ecx, DWORD PTR __nMaxHeight$228748[esp+176]
  001b4	3b c1		 cmp	 eax, ecx
  001b6	7c 03		 jl	 SHORT $L228769
  001b8	8d 41 ff	 lea	 eax, DWORD PTR [ecx-1]
$L228769:
  001bb	3b d0		 cmp	 edx, eax
  001bd	0f 8f 42 01 00
	00		 jg	 $L228760
  001c3	8b 7c 24 3c	 mov	 edi, DWORD PTR __pObjs$228762[esp+176]
  001c7	8b f2		 mov	 esi, edx
  001c9	0f af f3	 imul	 esi, ebx
  001cc	8d 0c 9d 00 00
	00 00		 lea	 ecx, DWORD PTR [ebx*4]
  001d3	89 4c 24 50	 mov	 DWORD PTR tv678[esp+176], ecx
  001d7	8b 4c 24 40	 mov	 ecx, DWORD PTR __nLinkXMin$228750[esp+176]
  001db	2b c2		 sub	 eax, edx
  001dd	03 f1		 add	 esi, ecx
  001df	40		 inc	 eax
  001e0	8d 34 b7	 lea	 esi, DWORD PTR [edi+esi*4]
  001e3	89 44 24 10	 mov	 DWORD PTR tv143[esp+176], eax
  001e7	8b 44 24 14	 mov	 eax, DWORD PTR __nLinkXMax$228752[esp+176]
  001eb	89 74 24 20	 mov	 DWORD PTR tv674[esp+176], esi
  001ef	90		 npad	 1
$L228771:
  001f0	3b c8		 cmp	 ecx, eax
  001f2	0f 8f f0 00 00
	00		 jg	 $L228772
  001f8	2b c1		 sub	 eax, ecx
  001fa	40		 inc	 eax
  001fb	89 74 24 18	 mov	 DWORD PTR tv628[esp+176], esi
  001ff	89 44 24 24	 mov	 DWORD PTR tv237[esp+176], eax
$L231377:
  00203	8b 54 24 18	 mov	 edx, DWORD PTR tv628[esp+176]
  00207	8b 1a		 mov	 ebx, DWORD PTR [edx]
  00209	85 db		 test	 ebx, ebx
  0020b	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  00210	0f 84 b0 00 00
	00		 je	 $L228776
  00216	eb 08		 jmp	 SHORT $L228780
$L231375:
  00218	8b 44 24 3c	 mov	 eax, DWORD PTR ___limit$228778[esp+176]
  0021c	8d 64 24 00	 npad	 4
$L228780:
  00220	8b c8		 mov	 ecx, eax
  00222	48		 dec	 eax
  00223	85 c9		 test	 ecx, ecx
  00225	89 44 24 3c	 mov	 DWORD PTR ___limit$228778[esp+176], eax
  00229	0f 84 97 00 00
	00		 je	 $L228776

; 25   : 	{
; 26   : 		// (vPos-vDir) OBB .  
; 27   : 		pModel = pObj->m_pModel;

  0022f	8b 83 78 01 00
	00		 mov	 eax, DWORD PTR [ebx+376]

; 28   : 		if( pModel->IsTouchOBB_Line( vPos, vEnd, pObj->GetMatrixWorld(), &vIntersect ) == TRUE )

  00235	8b 10		 mov	 edx, DWORD PTR [eax]
  00237	6a 01		 push	 1
  00239	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  0023f	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  00244	8d 7c 24 74	 lea	 edi, DWORD PTR $T231293[esp+180]
  00248	f3 a5		 rep movsd
  0024a	8d 4c 24 34	 lea	 ecx, DWORD PTR _vIntersect$[esp+180]
  0024e	51		 push	 ecx
  0024f	8d 4c 24 78	 lea	 ecx, DWORD PTR $T231293[esp+184]
  00253	51		 push	 ecx
  00254	8d 4c 24 64	 lea	 ecx, DWORD PTR _vEnd$[esp+188]
  00258	51		 push	 ecx
  00259	55		 push	 ebp
  0025a	8b c8		 mov	 ecx, eax
  0025c	ff 52 70	 call	 DWORD PTR [edx+112]
  0025f	83 f8 01	 cmp	 eax, 1
  00262	75 54		 jne	 SHORT $L228784

; 29   : 		{
; 30   : 			vIntersect -= vPos;							// vPos 

  00264	d9 44 24 30	 fld	 DWORD PTR _vIntersect$[esp+176]
  00268	d8 65 00	 fsub	 DWORD PTR [ebp]
  0026b	d9 5c 24 30	 fstp	 DWORD PTR _vIntersect$[esp+176]
  0026f	d9 44 24 34	 fld	 DWORD PTR _vIntersect$[esp+180]
  00273	d8 65 04	 fsub	 DWORD PTR [ebp+4]
  00276	d9 5c 24 34	 fstp	 DWORD PTR _vIntersect$[esp+180]
  0027a	d9 44 24 38	 fld	 DWORD PTR _vIntersect$[esp+184]
  0027e	d8 65 08	 fsub	 DWORD PTR [ebp+8]
  00281	d9 54 24 38	 fst	 DWORD PTR _vIntersect$[esp+184]

; 31   : 			fDist = D3DXVec3LengthSq( &vIntersect );	//  

  00285	d8 4c 24 38	 fmul	 DWORD PTR _vIntersect$[esp+184]
  00289	d9 44 24 34	 fld	 DWORD PTR _vIntersect$[esp+180]
  0028d	d8 4c 24 34	 fmul	 DWORD PTR _vIntersect$[esp+180]
  00291	de c1		 faddp	 ST(1), ST(0)
  00293	d9 44 24 30	 fld	 DWORD PTR _vIntersect$[esp+176]
  00297	d8 4c 24 30	 fmul	 DWORD PTR _vIntersect$[esp+176]
  0029b	de c1		 faddp	 ST(1), ST(0)
  0029d	d9 54 24 28	 fst	 DWORD PTR _fDist$[esp+176]

; 32   : 			if( fDist < fDistMin )						//        .

  002a1	d8 5c 24 48	 fcomp	 DWORD PTR _fDistMin$[esp+176]
  002a5	df e0		 fnstsw	 ax
  002a7	f6 c4 05	 test	 ah, 5
  002aa	7a 0c		 jp	 SHORT $L228784

; 33   : 			{
; 34   : 				fDistMin = fDist;

  002ac	8b 54 24 28	 mov	 edx, DWORD PTR _fDist$[esp+176]
  002b0	89 54 24 48	 mov	 DWORD PTR _fDistMin$[esp+176], edx

; 35   : 				pMinObj = pObj;

  002b4	89 5c 24 44	 mov	 DWORD PTR _pMinObj$[esp+176], ebx
$L228784:

; 36   : 			}
; 37   : 		}
; 38   : 	}
; 39   : 	END_LINKMAP

  002b8	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  002be	85 db		 test	 ebx, ebx
  002c0	0f 85 52 ff ff
	ff		 jne	 $L231375
$L228776:

; 21   : 	CModel* pModel;
; 22   : 	int nRange = 0;
; 23   : 
; 24   : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  002c6	8b 4c 24 18	 mov	 ecx, DWORD PTR tv628[esp+176]
  002ca	8b 44 24 24	 mov	 eax, DWORD PTR tv237[esp+176]
  002ce	83 c1 04	 add	 ecx, 4
  002d1	48		 dec	 eax
  002d2	89 4c 24 18	 mov	 DWORD PTR tv628[esp+176], ecx
  002d6	89 44 24 24	 mov	 DWORD PTR tv237[esp+176], eax
  002da	0f 85 23 ff ff
	ff		 jne	 $L231377
  002e0	8b 4c 24 40	 mov	 ecx, DWORD PTR __nLinkXMin$228750[esp+176]
  002e4	8b 44 24 14	 mov	 eax, DWORD PTR __nLinkXMax$228752[esp+176]
$L228772:
  002e8	8b 74 24 20	 mov	 esi, DWORD PTR tv674[esp+176]
  002ec	8b 7c 24 50	 mov	 edi, DWORD PTR tv678[esp+176]
  002f0	8b 54 24 10	 mov	 edx, DWORD PTR tv143[esp+176]
  002f4	03 f7		 add	 esi, edi
  002f6	4a		 dec	 edx
  002f7	89 74 24 20	 mov	 DWORD PTR tv674[esp+176], esi
  002fb	89 54 24 10	 mov	 DWORD PTR tv143[esp+176], edx
  002ff	0f 85 eb fe ff
	ff		 jne	 $L228771
$L228760:
  00305	8b 74 24 1c	 mov	 esi, DWORD PTR __i$228758[esp+176]
  00309	8b 5c 24 2c	 mov	 ebx, DWORD PTR _this$[esp+176]
  0030d	6a 00		 push	 0
  0030f	83 c3 24	 add	 ebx, 36			; 00000024H
  00312	46		 inc	 esi
  00313	6a 00		 push	 0
  00315	8b cb		 mov	 ecx, ebx
  00317	89 74 24 24	 mov	 DWORD PTR __i$228758[esp+184], esi
  0031b	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  00320	3b f0		 cmp	 esi, eax
  00322	0f 8c 8f fd ff
	ff		 jl	 $L231373

; 40   : 	
; 41   : 	if( pMinObj )	//      	

  00328	8b 44 24 44	 mov	 eax, DWORD PTR _pMinObj$[esp+176]
  0032c	85 c0		 test	 eax, eax
  0032e	74 5b		 je	 SHORT $L231376

; 42   : 	{
; 43   : 		pModel = pMinObj->m_pModel;
; 44   : 		//    
; 45   : 	#ifdef __CPU_UTILDOWN_060502
; 46   : 		D3DXVECTOR3	*pTris[3];
; 47   : 		((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTris, vPos, vEnd, pMinObj->GetMatrixWorld(), &fDist );

  00330	8d b0 e4 00 00
	00		 lea	 esi, DWORD PTR [eax+228]
  00336	8b 80 78 01 00
	00		 mov	 eax, DWORD PTR [eax+376]
  0033c	6a 01		 push	 1
  0033e	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  00343	8d 7c 24 74	 lea	 edi, DWORD PTR $T231294[esp+180]
  00347	f3 a5		 rep movsd
  00349	8d 4c 24 2c	 lea	 ecx, DWORD PTR _fDist$[esp+180]
  0034d	51		 push	 ecx
  0034e	8d 54 24 78	 lea	 edx, DWORD PTR $T231294[esp+184]
  00352	52		 push	 edx
  00353	8d 4c 24 64	 lea	 ecx, DWORD PTR _vEnd$[esp+188]
  00357	51		 push	 ecx
  00358	8b 88 d8 00 00
	00		 mov	 ecx, DWORD PTR [eax+216]
  0035e	55		 push	 ebp
  0035f	8d 54 24 78	 lea	 edx, DWORD PTR _pTris$228786[esp+196]
  00363	52		 push	 edx
  00364	e8 00 00 00 00	 call	 ?FindTouchTriLine@CObject3D@@QAEXPAPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@PAMH@Z ; CObject3D::FindTouchTriLine

; 48   : 		if( *pTris )

  00369	8b 44 24 64	 mov	 eax, DWORD PTR _pTris$228786[esp+176]
  0036d	85 c0		 test	 eax, eax
  0036f	74 1a		 je	 SHORT $L231376

; 49   : 		{
; 50   : 			D3DXVECTOR3 v = vPos + fDist * vDir;

  00371	d9 05 04 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+4
  00377	5f		 pop	 edi
  00378	d8 4c 24 24	 fmul	 DWORD PTR _fDist$[esp+172]
  0037c	5e		 pop	 esi
  0037d	d8 45 04	 fadd	 DWORD PTR [ebp+4]
  00380	5d		 pop	 ebp
  00381	5b		 pop	 ebx

; 60   : }

  00382	81 c4 a0 00 00
	00		 add	 esp, 160		; 000000a0H
  00388	c2 04 00	 ret	 4
$L231376:

; 48   : 		if( *pTris )

  0038b	8b 7c 24 2c	 mov	 edi, DWORD PTR _this$[esp+176]
$L228789:

; 51   : 			return v.y;
; 52   : 		}
; 53   : 	#else
; 54   : 		D3DXVECTOR3 *pTri = pModel->IntersectRayTri( vPos, vDir, pMinObj->GetMatrixWorld(), &vIntersect, &fDist );
; 55   : 		if( pTri )
; 56   : 			return vIntersect.y;
; 57   : 	#endif
; 58   : 	}
; 59   : 	return GetLandHeight( vPos.x, vPos.z );

  0038f	8b 4d 08	 mov	 ecx, DWORD PTR [ebp+8]
  00392	8b 55 00	 mov	 edx, DWORD PTR [ebp]
  00395	51		 push	 ecx
  00396	52		 push	 edx
  00397	8b cf		 mov	 ecx, edi
  00399	e8 00 00 00 00	 call	 ?GetLandHeight@CWorld@@QAEMMM@Z ; CWorld::GetLandHeight
  0039e	5f		 pop	 edi
  0039f	5e		 pop	 esi
  003a0	5d		 pop	 ebp
  003a1	5b		 pop	 ebx

; 60   : }

  003a2	81 c4 a0 00 00
	00		 add	 esp, 160		; 000000a0H
  003a8	c2 04 00	 ret	 4
?GetFullHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z ENDP	; CWorld::GetFullHeight
_TEXT	ENDS
PUBLIC	?GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z	; CWorld::GetUnderHeight
EXTRN	??0Segment3@@QAE@ABUD3DXVECTOR3@@0@Z:NEAR	; Segment3::Segment3
;	COMDAT ?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\dx_sdk\d3dx9math.inl
_BSS	SEGMENT
?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A DB 0cH DUP (?) ; `CWorld::GetUnderHeight'::`2'::vDir
_BSS	ENDS
;	COMDAT ?$S2@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA
_BSS	SEGMENT
?$S2@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA DD 01H DUP (?) ; `CWorld::GetUnderHeight'::`2'::$S2
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\worldintersect.cpp
_BSS	ENDS
;	COMDAT ?GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z
_TEXT	SEGMENT
_this$ = -160						; size = 4
tv359 = -156						; size = 4
__j$228837 = -156					; size = 4
tv593 = -152						; size = 4
tv508 = -152						; size = 4
__k$228841 = -148					; size = 4
__nX$228821 = -148					; size = 4
__nLinkZMax$228820 = -144				; size = 4
_fDist$228853 = -140					; size = 4
__pObjs$228829 = -140					; size = 4
tv596 = -136						; size = 4
__nMaxHeight$228815 = -136				; size = 4
__nLinkXMax$228819 = -132				; size = 4
__i$228825 = -128					; size = 4
__nLinkX$228809 = -124					; size = 4
__nLinkZ$228811 = -120					; size = 4
_vEnd$ = -116						; size = 12
_pTri$228854 = -104					; size = 12
_segment$ = -92						; size = 28
$T231381 = -64						; size = 64
_vPos$ = 8						; size = 4
?GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z PROC NEAR ; CWorld::GetUnderHeight, COMDAT
; _this$ = ecx

; 284  : {

  00000	81 ec a0 00 00
	00		 sub	 esp, 160		; 000000a0H

; 285  : 	static D3DXVECTOR3 vDir( 0.0f, -1000.0f, 0.0f );	

  00006	f6 05 00 00 00
	00 01		 test	 BYTE PTR ?$S2@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA, 1
  0000d	53		 push	 ebx
  0000e	55		 push	 ebp
  0000f	56		 push	 esi
  00010	8b e9		 mov	 ebp, ecx
  00012	57		 push	 edi
  00013	89 6c 24 10	 mov	 DWORD PTR _this$[esp+176], ebp
  00017	75 25		 jne	 SHORT $L231441
  00019	83 0d 00 00 00
	00 01		 or	 DWORD PTR ?$S2@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4IA, 1
  00020	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A, 0
  0002a	c7 05 04 00 00
	00 00 00 7a c4	 mov	 DWORD PTR ?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+4, -998637568 ; c47a0000H
  00034	c7 05 08 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+8, 0
$L231441:

; 286  : 	D3DXVECTOR3 vEnd = vPos + vDir;

  0003e	8b b4 24 b4 00
	00 00		 mov	 esi, DWORD PTR _vPos$[esp+172]
  00045	d9 05 00 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A
  0004b	d8 06		 fadd	 DWORD PTR [esi]

; 287  : 	Segment3 segment( vPos, vEnd );

  0004d	8d 44 24 3c	 lea	 eax, DWORD PTR _vEnd$[esp+176]
  00051	50		 push	 eax
  00052	56		 push	 esi
  00053	d9 5c 24 44	 fstp	 DWORD PTR _vEnd$[esp+184]
  00057	8d 4c 24 5c	 lea	 ecx, DWORD PTR _segment$[esp+184]
  0005b	d9 05 04 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+4
  00061	d8 46 04	 fadd	 DWORD PTR [esi+4]
  00064	d9 5c 24 48	 fstp	 DWORD PTR _vEnd$[esp+188]
  00068	d9 05 08 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+8
  0006e	d8 46 08	 fadd	 DWORD PTR [esi+8]
  00071	d9 5c 24 4c	 fstp	 DWORD PTR _vEnd$[esp+192]
  00075	e8 00 00 00 00	 call	 ??0Segment3@@QAE@ABUD3DXVECTOR3@@0@Z ; Segment3::Segment3

; 288  : 
; 289  : 	CObj* pObj;
; 290  : 	CObj* pMinObj = NULL;
; 291  : 	CModel* pModel;
; 292  : 
; 293  : 	int nRange = 0;
; 294  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  0007a	db 45 14	 fild	 DWORD PTR [ebp+20]
  0007d	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  00083	d9 c0		 fld	 ST(0)
  00085	d8 0e		 fmul	 DWORD PTR [esi]
  00087	e8 00 00 00 00	 call	 __ftol2
  0008c	d8 4e 08	 fmul	 DWORD PTR [esi+8]
  0008f	89 44 24 34	 mov	 DWORD PTR __nLinkX$228809[esp+176], eax
  00093	e8 00 00 00 00	 call	 __ftol2
  00098	33 db		 xor	 ebx, ebx
  0009a	53		 push	 ebx
  0009b	8d 7d 24	 lea	 edi, DWORD PTR [ebp+36]
  0009e	53		 push	 ebx
  0009f	8b cf		 mov	 ecx, edi
  000a1	89 44 24 40	 mov	 DWORD PTR __nLinkZ$228811[esp+184], eax
  000a5	89 5c 24 38	 mov	 DWORD PTR __i$228825[esp+184], ebx
  000a9	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  000ae	85 c0		 test	 eax, eax
  000b0	0f 8e 33 02 00
	00		 jle	 $L228857
$L228826:
  000b6	6a 00		 push	 0
  000b8	53		 push	 ebx
  000b9	6a 00		 push	 0
  000bb	8b cf		 mov	 ecx, edi
  000bd	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  000c2	6a 00		 push	 0
  000c4	53		 push	 ebx
  000c5	6a 00		 push	 0
  000c7	8b cf		 mov	 ecx, edi
  000c9	8b f0		 mov	 esi, eax
  000cb	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  000d0	89 44 24 24	 mov	 DWORD PTR __pObjs$228829[esp+176], eax
  000d4	8b 45 04	 mov	 eax, DWORD PTR [ebp+4]
  000d7	8b d8		 mov	 ebx, eax
  000d9	c1 e0 07	 shl	 eax, 7
  000dc	0f af de	 imul	 ebx, esi
  000df	99		 cdq
  000e0	f7 fb		 idiv	 ebx
  000e2	8b 4d 08	 mov	 ecx, DWORD PTR [ebp+8]
  000e5	0f af ce	 imul	 ecx, esi
  000e8	89 4c 24 28	 mov	 DWORD PTR __nMaxHeight$228815[esp+176], ecx
  000ec	8b 4d 14	 mov	 ecx, DWORD PTR [ebp+20]
  000ef	8b f0		 mov	 esi, eax
  000f1	8b c1		 mov	 eax, ecx
  000f3	0f af c6	 imul	 eax, esi
  000f6	99		 cdq
  000f7	2b c2		 sub	 eax, edx
  000f9	8b f8		 mov	 edi, eax
  000fb	8b 44 24 34	 mov	 eax, DWORD PTR __nLinkX$228809[esp+176]
  000ff	99		 cdq
  00100	f7 fe		 idiv	 esi
  00102	d1 ff		 sar	 edi, 1

; 318  : 		}
; 319  : 	}
; 320  : 	return GetLandHeight( vPos.x, vPos.z );

  00104	8b e8		 mov	 ebp, eax
  00106	0f af e9	 imul	 ebp, ecx
  00109	8b 8c 24 b4 00
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+172]
  00110	0f af ee	 imul	 ebp, esi
  00113	d9 01		 fld	 DWORD PTR [ecx]
  00115	89 44 24 14	 mov	 DWORD PTR tv359[esp+176], eax
  00119	e8 00 00 00 00	 call	 __ftol2
  0011e	2b c5		 sub	 eax, ebp
  00120	33 d2		 xor	 edx, edx
  00122	3b c7		 cmp	 eax, edi
  00124	8b 44 24 38	 mov	 eax, DWORD PTR __nLinkZ$228811[esp+176]
  00128	0f 9f c2	 setg	 dl
  0012b	8b 4c 24 10	 mov	 ecx, DWORD PTR _this$[esp+176]
  0012f	89 54 24 1c	 mov	 DWORD PTR __nX$228821[esp+176], edx
  00133	99		 cdq
  00134	f7 fe		 idiv	 esi
  00136	8b 94 24 b4 00
	00 00		 mov	 edx, DWORD PTR _vPos$[esp+172]
  0013d	d9 42 08	 fld	 DWORD PTR [edx+8]
  00140	8b e8		 mov	 ebp, eax
  00142	0f af 41 14	 imul	 eax, DWORD PTR [ecx+20]
  00146	0f af c6	 imul	 eax, esi
  00149	89 44 24 18	 mov	 DWORD PTR tv508[esp+176], eax
  0014d	e8 00 00 00 00	 call	 __ftol2
  00152	8b 4c 24 18	 mov	 ecx, DWORD PTR tv508[esp+176]
  00156	8b 54 24 1c	 mov	 edx, DWORD PTR __nX$228821[esp+176]
  0015a	2b c1		 sub	 eax, ecx
  0015c	33 c9		 xor	 ecx, ecx
  0015e	3b c7		 cmp	 eax, edi
  00160	8b 44 24 14	 mov	 eax, DWORD PTR tv359[esp+176]
  00164	0f 9f c1	 setg	 cl
  00167	03 c2		 add	 eax, edx
  00169	8d 78 ff	 lea	 edi, DWORD PTR [eax-1]
  0016c	85 ff		 test	 edi, edi
  0016e	7d 02		 jge	 SHORT $L228833

; 288  : 
; 289  : 	CObj* pObj;
; 290  : 	CObj* pMinObj = NULL;
; 291  : 	CModel* pModel;
; 292  : 
; 293  : 	int nRange = 0;
; 294  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00170	33 ff		 xor	 edi, edi
$L228833:
  00172	03 e9		 add	 ebp, ecx
  00174	8d 4d ff	 lea	 ecx, DWORD PTR [ebp-1]
  00177	85 c9		 test	 ecx, ecx
  00179	7d 02		 jge	 SHORT $L228834
  0017b	33 c9		 xor	 ecx, ecx
$L228834:
  0017d	3b c3		 cmp	 eax, ebx
  0017f	89 44 24 2c	 mov	 DWORD PTR __nLinkXMax$228819[esp+176], eax
  00183	7c 07		 jl	 SHORT $L228835
  00185	8d 43 ff	 lea	 eax, DWORD PTR [ebx-1]
  00188	89 44 24 2c	 mov	 DWORD PTR __nLinkXMax$228819[esp+176], eax
$L228835:
  0018c	8b 44 24 28	 mov	 eax, DWORD PTR __nMaxHeight$228815[esp+176]
  00190	3b e8		 cmp	 ebp, eax
  00192	89 6c 24 20	 mov	 DWORD PTR __nLinkZMax$228820[esp+176], ebp
  00196	7c 05		 jl	 SHORT $L228836
  00198	48		 dec	 eax
  00199	89 44 24 20	 mov	 DWORD PTR __nLinkZMax$228820[esp+176], eax
$L228836:
  0019d	3b 4c 24 20	 cmp	 ecx, DWORD PTR __nLinkZMax$228820[esp+176]
  001a1	89 4c 24 14	 mov	 DWORD PTR __j$228837[esp+176], ecx
  001a5	0f 8f a1 00 00
	00		 jg	 $L228827
  001ab	8b 44 24 24	 mov	 eax, DWORD PTR __pObjs$228829[esp+176]
  001af	0f af cb	 imul	 ecx, ebx
  001b2	03 cf		 add	 ecx, edi
  001b4	8d 34 88	 lea	 esi, DWORD PTR [eax+ecx*4]
  001b7	8b 4c 24 2c	 mov	 ecx, DWORD PTR __nLinkXMax$228819[esp+176]
  001bb	8d 14 9d 00 00
	00 00		 lea	 edx, DWORD PTR [ebx*4]
  001c2	89 54 24 28	 mov	 DWORD PTR tv596[esp+176], edx
  001c6	89 74 24 18	 mov	 DWORD PTR tv593[esp+176], esi
  001ca	8d 9b 00 00 00
	00		 npad	 6
$L228838:
  001d0	3b f9		 cmp	 edi, ecx
  001d2	89 7c 24 1c	 mov	 DWORD PTR __k$228841[esp+176], edi
  001d6	7f 55		 jg	 SHORT $L228839
  001d8	eb 06 8d 9b 00
	00 00 00	 npad	 8
$L228842:
  001e0	8b 1e		 mov	 ebx, DWORD PTR [esi]
  001e2	85 db		 test	 ebx, ebx
  001e4	bd e8 03 00 00	 mov	 ebp, 1000		; 000003e8H
  001e9	74 2e		 je	 SHORT $L228843
  001eb	eb 03 8d 49 00	 npad	 5
$L228847:
  001f0	8b cd		 mov	 ecx, ebp
  001f2	4d		 dec	 ebp
  001f3	85 c9		 test	 ecx, ecx
  001f5	74 22		 je	 SHORT $L228843

; 295  : 	{
; 296  : 		// (vPos-vDir) OBB .  
; 297  : 		pModel = pObj->m_pModel;

  001f7	8b 8b 78 01 00
	00		 mov	 ecx, DWORD PTR [ebx+376]

; 298  : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  001fd	8b 11		 mov	 edx, DWORD PTR [ecx]
  001ff	6a 01		 push	 1
  00201	53		 push	 ebx
  00202	8d 44 24 5c	 lea	 eax, DWORD PTR _segment$[esp+184]
  00206	50		 push	 eax
  00207	ff 52 74	 call	 DWORD PTR [edx+116]
  0020a	83 f8 01	 cmp	 eax, 1
  0020d	74 66		 je	 SHORT $L231435

; 299  : 		{
; 300  : 			pMinObj = pObj;		//    -  ...
; 301  : 			goto LP1;
; 302  : 		}
; 303  : 	}
; 304  : 	END_LINKMAP

  0020f	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  00215	85 db		 test	 ebx, ebx
  00217	75 d7		 jne	 SHORT $L228847
$L228843:

; 288  : 
; 289  : 	CObj* pObj;
; 290  : 	CObj* pMinObj = NULL;
; 291  : 	CModel* pModel;
; 292  : 
; 293  : 	int nRange = 0;
; 294  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00219	8b 44 24 1c	 mov	 eax, DWORD PTR __k$228841[esp+176]
  0021d	8b 4c 24 2c	 mov	 ecx, DWORD PTR __nLinkXMax$228819[esp+176]
  00221	40		 inc	 eax
  00222	83 c6 04	 add	 esi, 4
  00225	3b c1		 cmp	 eax, ecx
  00227	89 44 24 1c	 mov	 DWORD PTR __k$228841[esp+176], eax
  0022b	7e b3		 jle	 SHORT $L228842
$L228839:
  0022d	8b 44 24 14	 mov	 eax, DWORD PTR __j$228837[esp+176]
  00231	8b 74 24 18	 mov	 esi, DWORD PTR tv593[esp+176]
  00235	8b 5c 24 28	 mov	 ebx, DWORD PTR tv596[esp+176]
  00239	8b 54 24 20	 mov	 edx, DWORD PTR __nLinkZMax$228820[esp+176]
  0023d	40		 inc	 eax
  0023e	03 f3		 add	 esi, ebx
  00240	3b c2		 cmp	 eax, edx
  00242	89 44 24 14	 mov	 DWORD PTR __j$228837[esp+176], eax
  00246	89 74 24 18	 mov	 DWORD PTR tv593[esp+176], esi
  0024a	7e 84		 jle	 SHORT $L228838
$L228827:
  0024c	8b 5c 24 30	 mov	 ebx, DWORD PTR __i$228825[esp+176]
  00250	8b 7c 24 10	 mov	 edi, DWORD PTR _this$[esp+176]
  00254	6a 00		 push	 0
  00256	83 c7 24	 add	 edi, 36			; 00000024H
  00259	43		 inc	 ebx
  0025a	6a 00		 push	 0
  0025c	8b cf		 mov	 ecx, edi
  0025e	89 5c 24 38	 mov	 DWORD PTR __i$228825[esp+184], ebx
  00262	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  00267	3b d8		 cmp	 ebx, eax

; 298  : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  00269	8b 6c 24 10	 mov	 ebp, DWORD PTR _this$[esp+176]
  0026d	0f 8c 43 fe ff
	ff		 jl	 $L228826
  00273	eb 6d		 jmp	 SHORT $L231445
$L231435:

; 305  : 
; 306  : LP1:
; 307  : 	if( pMinObj )	//      	
; 308  : 	{
; 309  : 		FLOAT fDist;
; 310  : 		pModel = pMinObj->m_pModel;
; 311  : 		//    
; 312  : 		D3DXVECTOR3	*pTri[3];
; 313  : 		((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTri, vPos, vEnd, pMinObj->GetMatrixWorld(), &fDist );

  00275	6a 01		 push	 1
  00277	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  0027d	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  00282	8d 7c 24 74	 lea	 edi, DWORD PTR $T231381[esp+180]
  00286	f3 a5		 rep movsd
  00288	8d 4c 24 28	 lea	 ecx, DWORD PTR _fDist$228853[esp+180]
  0028c	51		 push	 ecx
  0028d	8b 8c 24 bc 00
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+180]
  00294	8d 54 24 78	 lea	 edx, DWORD PTR $T231381[esp+184]
  00298	52		 push	 edx
  00299	8d 44 24 48	 lea	 eax, DWORD PTR _vEnd$[esp+188]
  0029d	50		 push	 eax
  0029e	8b 83 78 01 00
	00		 mov	 eax, DWORD PTR [ebx+376]
  002a4	51		 push	 ecx
  002a5	8b 88 d8 00 00
	00		 mov	 ecx, DWORD PTR [eax+216]
  002ab	8d 54 24 5c	 lea	 edx, DWORD PTR _pTri$228854[esp+196]
  002af	52		 push	 edx
$LP1$228850:
  002b0	e8 00 00 00 00	 call	 ?FindTouchTriLine@CObject3D@@QAEXPAPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@PAMH@Z ; CObject3D::FindTouchTriLine

; 314  : 		if( *pTri )

  002b5	8b 44 24 48	 mov	 eax, DWORD PTR _pTri$228854[esp+176]
  002b9	85 c0		 test	 eax, eax
  002bb	74 21		 je	 SHORT $L231443

; 315  : 		{
; 316  : 			D3DXVECTOR3 vIntersect = vPos + fDist * vDir;

  002bd	d9 05 04 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z@4U3@A+4
  002c3	8b 8c 24 b4 00
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+172]
  002ca	d8 4c 24 24	 fmul	 DWORD PTR _fDist$228853[esp+176]
  002ce	5f		 pop	 edi
  002cf	5e		 pop	 esi
  002d0	5d		 pop	 ebp
  002d1	d8 41 04	 fadd	 DWORD PTR [ecx+4]
  002d4	5b		 pop	 ebx

; 321  : }

  002d5	81 c4 a0 00 00
	00		 add	 esp, 160		; 000000a0H
  002db	c2 04 00	 ret	 4
$L231443:

; 317  : 			return vIntersect.y;

  002de	8b 6c 24 10	 mov	 ebp, DWORD PTR _this$[esp+176]
$L231445:
  002e2	8b b4 24 b4 00
	00 00		 mov	 esi, DWORD PTR _vPos$[esp+172]
$L228857:

; 318  : 		}
; 319  : 	}
; 320  : 	return GetLandHeight( vPos.x, vPos.z );

  002e9	8b 56 08	 mov	 edx, DWORD PTR [esi+8]
  002ec	8b 06		 mov	 eax, DWORD PTR [esi]
  002ee	52		 push	 edx
  002ef	50		 push	 eax
  002f0	8b cd		 mov	 ecx, ebp
  002f2	e8 00 00 00 00	 call	 ?GetLandHeight@CWorld@@QAEMMM@Z ; CWorld::GetLandHeight
  002f7	5f		 pop	 edi
  002f8	5e		 pop	 esi
  002f9	5d		 pop	 ebp
  002fa	5b		 pop	 ebx

; 321  : }

  002fb	81 c4 a0 00 00
	00		 add	 esp, 160		; 000000a0H
  00301	c2 04 00	 ret	 4
?GetUnderHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z ENDP	; CWorld::GetUnderHeight
_TEXT	ENDS
PUBLIC	__real@c77fff00
PUBLIC	__real@40400000
PUBLIC	?GetItemHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z	; CWorld::GetItemHeight
EXTRN	?GetLandHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z:NEAR ; CWorld::GetLandHeight
EXTRN	?SlideVectorUnder@CObject3D@@QAEHPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@0@Z:NEAR ; CObject3D::SlideVectorUnder
;	COMDAT __real@40400000
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\obj.h
CONST	SEGMENT
__real@40400000 DD 040400000r			; 3
CONST	ENDS
;	COMDAT __real@c77fff00
CONST	SEGMENT
__real@c77fff00 DD 0c77fff00r			; -65535
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\worldintersect.cpp
CONST	ENDS
;	COMDAT ?GetItemHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z
_TEXT	SEGMENT
tv545 = -180						; size = 4
__nMaxHeight$228881 = -180				; size = 4
tv495 = -176						; size = 4
tv277 = -176						; size = 4
_this$ = -172						; size = 4
tv154 = -168						; size = 4
__nX$228887 = -168					; size = 4
_fMaxY$ = -164						; size = 4
tv591 = -160						; size = 4
tv356 = -160						; size = 4
___limit$228911 = -156					; size = 4
__pObjs$228895 = -156					; size = 4
__nLinkXMin$228883 = -152				; size = 4
__i$228891 = -148					; size = 4
__nLinkXMax$228885 = -144				; size = 4
__nLinkX$228875 = -140					; size = 4
tv595 = -136						; size = 4
__nLinkZ$228877 = -132					; size = 4
_vEnd$ = -128						; size = 12
_vOut$ = -116						; size = 12
_vIntersect$ = -104					; size = 12
_segment$ = -92						; size = 28
$T231449 = -64						; size = 64
_vPos$ = 8						; size = 4
?GetItemHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z PROC NEAR	; CWorld::GetItemHeight, COMDAT
; _this$ = ecx

; 324  : {

  00000	81 ec b4 00 00
	00		 sub	 esp, 180		; 000000b4H
  00006	53		 push	 ebx
  00007	55		 push	 ebp
  00008	56		 push	 esi

; 325  : 	D3DXVECTOR3 vDir( 0.0f, -3.0f, 0.0f );
; 326  : 	D3DXVECTOR3 vIntersect;
; 327  : 	float fMaxY	= -65535.0f;
; 328  : 	D3DXVECTOR3 vOut( 0.0f, 0.0f, 0.0f );
; 329  : 	CObj* pObj;
; 330  : 	CModel* pModel;
; 331  : 	int nRange = 0;
; 332  : 
; 333  : 	D3DXVECTOR3 vEnd( vPos + vDir );

  00009	8b b4 24 c4 00
	00 00		 mov	 esi, DWORD PTR _vPos$[esp+188]
  00010	d9 46 04	 fld	 DWORD PTR [esi+4]
  00013	8b 06		 mov	 eax, DWORD PTR [esi]
  00015	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@40400000
  0001b	8b e9		 mov	 ebp, ecx
  0001d	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]
  00020	57		 push	 edi

; 334  : 	Segment3 segment( vPos, vEnd );

  00021	8d 54 24 44	 lea	 edx, DWORD PTR _vEnd$[esp+196]
  00025	d9 5c 24 48	 fstp	 DWORD PTR _vEnd$[esp+200]
  00029	52		 push	 edx
  0002a	89 4c 24 50	 mov	 DWORD PTR _vEnd$[esp+208], ecx
  0002e	56		 push	 esi
  0002f	8d 4c 24 70	 lea	 ecx, DWORD PTR _segment$[esp+204]
  00033	89 6c 24 20	 mov	 DWORD PTR _this$[esp+204], ebp
  00037	c7 44 24 28 00
	ff 7f c7	 mov	 DWORD PTR _fMaxY$[esp+204], -947912960 ; c77fff00H
  0003f	c7 44 24 58 00
	00 00 00	 mov	 DWORD PTR _vOut$[esp+204], 0
  00047	c7 44 24 5c 00
	00 00 00	 mov	 DWORD PTR _vOut$[esp+208], 0
  0004f	c7 44 24 60 00
	00 00 00	 mov	 DWORD PTR _vOut$[esp+212], 0
  00057	89 44 24 4c	 mov	 DWORD PTR _vEnd$[esp+204], eax
  0005b	e8 00 00 00 00	 call	 ??0Segment3@@QAE@ABUD3DXVECTOR3@@0@Z ; Segment3::Segment3

; 335  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00060	db 45 14	 fild	 DWORD PTR [ebp+20]
  00063	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  00069	d9 c0		 fld	 ST(0)
  0006b	d8 0e		 fmul	 DWORD PTR [esi]
  0006d	e8 00 00 00 00	 call	 __ftol2
  00072	d8 4e 08	 fmul	 DWORD PTR [esi+8]
  00075	89 44 24 38	 mov	 DWORD PTR __nLinkX$228875[esp+196], eax
  00079	e8 00 00 00 00	 call	 __ftol2
  0007e	33 db		 xor	 ebx, ebx
  00080	53		 push	 ebx
  00081	8d 7d 24	 lea	 edi, DWORD PTR [ebp+36]
  00084	53		 push	 ebx
  00085	8b cf		 mov	 ecx, edi
  00087	89 44 24 48	 mov	 DWORD PTR __nLinkZ$228877[esp+204], eax
  0008b	89 5c 24 38	 mov	 DWORD PTR __i$228891[esp+204], ebx
  0008f	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  00094	85 c0		 test	 eax, eax
  00096	0f 8e 83 02 00
	00		 jle	 $L228920
  0009c	eb 08		 jmp	 SHORT $L228892
$L231494:
  0009e	8b 6c 24 18	 mov	 ebp, DWORD PTR _this$[esp+196]
  000a2	8b 5c 24 30	 mov	 ebx, DWORD PTR __i$228891[esp+196]
$L228892:
  000a6	6a 00		 push	 0
  000a8	53		 push	 ebx
  000a9	6a 00		 push	 0
  000ab	8b cf		 mov	 ecx, edi
  000ad	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  000b2	6a 00		 push	 0
  000b4	53		 push	 ebx
  000b5	6a 00		 push	 0
  000b7	8b cf		 mov	 ecx, edi
  000b9	8b f0		 mov	 esi, eax
  000bb	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  000c0	89 44 24 28	 mov	 DWORD PTR __pObjs$228895[esp+196], eax
  000c4	8b 45 04	 mov	 eax, DWORD PTR [ebp+4]
  000c7	8b d8		 mov	 ebx, eax
  000c9	c1 e0 07	 shl	 eax, 7
  000cc	0f af de	 imul	 ebx, esi
  000cf	99		 cdq
  000d0	f7 fb		 idiv	 ebx
  000d2	8b 4d 08	 mov	 ecx, DWORD PTR [ebp+8]
  000d5	0f af ce	 imul	 ecx, esi
  000d8	89 4c 24 10	 mov	 DWORD PTR __nMaxHeight$228881[esp+196], ecx
  000dc	8b 4d 14	 mov	 ecx, DWORD PTR [ebp+20]
  000df	8b f0		 mov	 esi, eax
  000e1	8b c1		 mov	 eax, ecx
  000e3	0f af c6	 imul	 eax, esi
  000e6	99		 cdq
  000e7	2b c2		 sub	 eax, edx
  000e9	8b f8		 mov	 edi, eax
  000eb	8b 44 24 38	 mov	 eax, DWORD PTR __nLinkX$228875[esp+196]
  000ef	99		 cdq
  000f0	f7 fe		 idiv	 esi
  000f2	d1 ff		 sar	 edi, 1

; 352  : 	return GetLandHeight( vPos );

  000f4	8b e8		 mov	 ebp, eax
  000f6	0f af e9	 imul	 ebp, ecx
  000f9	89 44 24 24	 mov	 DWORD PTR tv356[esp+196], eax
  000fd	0f af ee	 imul	 ebp, esi
  00100	8b 84 24 c8 00
	00 00		 mov	 eax, DWORD PTR _vPos$[esp+192]
  00107	d9 00		 fld	 DWORD PTR [eax]
  00109	e8 00 00 00 00	 call	 __ftol2
  0010e	2b c5		 sub	 eax, ebp
  00110	33 c9		 xor	 ecx, ecx
  00112	3b c7		 cmp	 eax, edi
  00114	8b 44 24 40	 mov	 eax, DWORD PTR __nLinkZ$228877[esp+196]
  00118	0f 9f c1	 setg	 cl
  0011b	99		 cdq
  0011c	f7 fe		 idiv	 esi
  0011e	8b 54 24 18	 mov	 edx, DWORD PTR _this$[esp+196]
  00122	89 4c 24 1c	 mov	 DWORD PTR __nX$228887[esp+196], ecx
  00126	8b 8c 24 c8 00
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+192]
  0012d	d9 41 08	 fld	 DWORD PTR [ecx+8]
  00130	8b e8		 mov	 ebp, eax
  00132	0f af 42 14	 imul	 eax, DWORD PTR [edx+20]
  00136	0f af c6	 imul	 eax, esi
  00139	89 44 24 14	 mov	 DWORD PTR tv495[esp+196], eax
  0013d	e8 00 00 00 00	 call	 __ftol2
  00142	8b 4c 24 14	 mov	 ecx, DWORD PTR tv495[esp+196]
  00146	2b c1		 sub	 eax, ecx
  00148	8b 4c 24 24	 mov	 ecx, DWORD PTR tv356[esp+196]
  0014c	33 d2		 xor	 edx, edx
  0014e	3b c7		 cmp	 eax, edi
  00150	0f 9f c2	 setg	 dl
  00153	8b c2		 mov	 eax, edx
  00155	8b 54 24 1c	 mov	 edx, DWORD PTR __nX$228887[esp+196]
  00159	03 ca		 add	 ecx, edx
  0015b	8d 51 ff	 lea	 edx, DWORD PTR [ecx-1]
  0015e	85 d2		 test	 edx, edx
  00160	89 54 24 2c	 mov	 DWORD PTR __nLinkXMin$228883[esp+196], edx
  00164	7d 08		 jge	 SHORT $L228899

; 335  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00166	c7 44 24 2c 00
	00 00 00	 mov	 DWORD PTR __nLinkXMin$228883[esp+196], 0
$L228899:
  0016e	03 c5		 add	 eax, ebp
  00170	8d 50 ff	 lea	 edx, DWORD PTR [eax-1]
  00173	85 d2		 test	 edx, edx
  00175	7d 02		 jge	 SHORT $L228900
  00177	33 d2		 xor	 edx, edx
$L228900:
  00179	3b cb		 cmp	 ecx, ebx
  0017b	89 4c 24 34	 mov	 DWORD PTR __nLinkXMax$228885[esp+196], ecx
  0017f	7c 07		 jl	 SHORT $L228901
  00181	8d 4b ff	 lea	 ecx, DWORD PTR [ebx-1]
  00184	89 4c 24 34	 mov	 DWORD PTR __nLinkXMax$228885[esp+196], ecx
$L228901:
  00188	8b 4c 24 10	 mov	 ecx, DWORD PTR __nMaxHeight$228881[esp+196]
  0018c	3b c1		 cmp	 eax, ecx
  0018e	7c 03		 jl	 SHORT $L228902
  00190	8d 41 ff	 lea	 eax, DWORD PTR [ecx-1]
$L228902:
  00193	3b d0		 cmp	 edx, eax
  00195	0f 8f 32 01 00
	00		 jg	 $L228893
  0019b	8b 7c 24 28	 mov	 edi, DWORD PTR __pObjs$228895[esp+196]
  0019f	8b f2		 mov	 esi, edx
  001a1	0f af f3	 imul	 esi, ebx
  001a4	8d 0c 9d 00 00
	00 00		 lea	 ecx, DWORD PTR [ebx*4]
  001ab	89 4c 24 3c	 mov	 DWORD PTR tv595[esp+196], ecx
  001af	8b 4c 24 2c	 mov	 ecx, DWORD PTR __nLinkXMin$228883[esp+196]
  001b3	03 f1		 add	 esi, ecx
  001b5	2b c2		 sub	 eax, edx
  001b7	8d 34 b7	 lea	 esi, DWORD PTR [edi+esi*4]
  001ba	40		 inc	 eax
  001bb	89 74 24 24	 mov	 DWORD PTR tv591[esp+196], esi
  001bf	89 44 24 14	 mov	 DWORD PTR tv277[esp+196], eax
$L228904:
  001c3	8b 44 24 34	 mov	 eax, DWORD PTR __nLinkXMax$228885[esp+196]
  001c7	3b c8		 cmp	 ecx, eax
  001c9	0f 8f e1 00 00
	00		 jg	 $L228905
  001cf	2b c1		 sub	 eax, ecx
  001d1	40		 inc	 eax
  001d2	89 74 24 10	 mov	 DWORD PTR tv545[esp+196], esi
  001d6	89 44 24 1c	 mov	 DWORD PTR tv154[esp+196], eax
  001da	8d 9b 00 00 00
	00		 npad	 6
$L231496:
  001e0	8b 54 24 10	 mov	 edx, DWORD PTR tv545[esp+196]
  001e4	8b 1a		 mov	 ebx, DWORD PTR [edx]
  001e6	85 db		 test	 ebx, ebx
  001e8	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  001ed	0f 84 9f 00 00
	00		 je	 $L228909
  001f3	eb 0b		 jmp	 SHORT $L228913
$L231492:
  001f5	8b 44 24 28	 mov	 eax, DWORD PTR ___limit$228911[esp+196]
  001f9	8d a4 24 00 00
	00 00		 npad	 7
$L228913:
  00200	8b c8		 mov	 ecx, eax
  00202	48		 dec	 eax
  00203	85 c9		 test	 ecx, ecx
  00205	89 44 24 28	 mov	 DWORD PTR ___limit$228911[esp+196], eax
  00209	0f 84 83 00 00
	00		 je	 $L228909

; 336  : 	{
; 337  : 		// (vPos-vDir) OBB .  
; 338  : 		pModel	= pObj->m_pModel;

  0020f	8b ab 78 01 00
	00		 mov	 ebp, DWORD PTR [ebx+376]

; 339  : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  00215	8b 55 00	 mov	 edx, DWORD PTR [ebp]
  00218	6a 01		 push	 1
  0021a	53		 push	 ebx
  0021b	8d 44 24 70	 lea	 eax, DWORD PTR _segment$[esp+204]
  0021f	50		 push	 eax
  00220	8b cd		 mov	 ecx, ebp
  00222	ff 52 74	 call	 DWORD PTR [edx+116]
  00225	83 f8 01	 cmp	 eax, 1
  00228	75 5a		 jne	 SHORT $L231491

; 340  : 		{
; 341  : 			//      ()     vOut .
; 342  : 			if( ((CModelObject *)pModel)->GetObject3D()->SlideVectorUnder( &vOut, vPos, vEnd, pObj->GetMatrixWorld(), &vIntersect ) == TRUE )

  0022a	8d 54 24 5c	 lea	 edx, DWORD PTR _vIntersect$[esp+196]
  0022e	52		 push	 edx
  0022f	8d 84 24 88 00
	00 00		 lea	 eax, DWORD PTR $T231449[esp+200]
  00236	50		 push	 eax
  00237	8b 84 24 d0 00
	00 00		 mov	 eax, DWORD PTR _vPos$[esp+200]
  0023e	8d 54 24 4c	 lea	 edx, DWORD PTR _vEnd$[esp+204]
  00242	52		 push	 edx
  00243	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  00249	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  0024e	8d bc 24 90 00
	00 00		 lea	 edi, DWORD PTR $T231449[esp+208]
  00255	50		 push	 eax
  00256	8d 54 24 60	 lea	 edx, DWORD PTR _vOut$[esp+212]
  0025a	f3 a5		 rep movsd
  0025c	8b 8d d8 00 00
	00		 mov	 ecx, DWORD PTR [ebp+216]
  00262	52		 push	 edx
  00263	e8 00 00 00 00	 call	 ?SlideVectorUnder@CObject3D@@QAEHPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@0@Z ; CObject3D::SlideVectorUnder
  00268	83 f8 01	 cmp	 eax, 1
  0026b	75 17		 jne	 SHORT $L231491

; 343  : 			{
; 344  : 				if( vIntersect.y > fMaxY )

  0026d	d9 44 24 60	 fld	 DWORD PTR _vIntersect$[esp+200]
  00271	d8 5c 24 20	 fcomp	 DWORD PTR _fMaxY$[esp+196]
  00275	df e0		 fnstsw	 ax
  00277	f6 c4 41	 test	 ah, 65			; 00000041H
  0027a	75 08		 jne	 SHORT $L231491

; 345  : 					fMaxY = vIntersect.y;	//      ....   .

  0027c	8b 44 24 60	 mov	 eax, DWORD PTR _vIntersect$[esp+200]
  00280	89 44 24 20	 mov	 DWORD PTR _fMaxY$[esp+196], eax
$L231491:

; 346  : 			}
; 347  : 		}
; 348  : 	}
; 349  : 	END_LINKMAP

  00284	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  0028a	85 db		 test	 ebx, ebx
  0028c	0f 85 63 ff ff
	ff		 jne	 $L231492
$L228909:

; 335  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00292	8b 4c 24 10	 mov	 ecx, DWORD PTR tv545[esp+196]
  00296	8b 44 24 1c	 mov	 eax, DWORD PTR tv154[esp+196]
  0029a	83 c1 04	 add	 ecx, 4
  0029d	48		 dec	 eax
  0029e	89 4c 24 10	 mov	 DWORD PTR tv545[esp+196], ecx
  002a2	89 44 24 1c	 mov	 DWORD PTR tv154[esp+196], eax
  002a6	0f 85 34 ff ff
	ff		 jne	 $L231496
  002ac	8b 4c 24 2c	 mov	 ecx, DWORD PTR __nLinkXMin$228883[esp+196]
$L228905:
  002b0	8b 74 24 24	 mov	 esi, DWORD PTR tv591[esp+196]
  002b4	8b 54 24 3c	 mov	 edx, DWORD PTR tv595[esp+196]
  002b8	8b 44 24 14	 mov	 eax, DWORD PTR tv277[esp+196]
  002bc	03 f2		 add	 esi, edx
  002be	48		 dec	 eax
  002bf	89 74 24 24	 mov	 DWORD PTR tv591[esp+196], esi
  002c3	89 44 24 14	 mov	 DWORD PTR tv277[esp+196], eax
  002c7	0f 85 f6 fe ff
	ff		 jne	 $L228904
$L228893:
  002cd	8b 74 24 30	 mov	 esi, DWORD PTR __i$228891[esp+196]
  002d1	8b 7c 24 18	 mov	 edi, DWORD PTR _this$[esp+196]
  002d5	6a 00		 push	 0
  002d7	83 c7 24	 add	 edi, 36			; 00000024H
  002da	46		 inc	 esi
  002db	6a 00		 push	 0
  002dd	8b cf		 mov	 ecx, edi
  002df	89 74 24 38	 mov	 DWORD PTR __i$228891[esp+204], esi
  002e3	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  002e8	3b f0		 cmp	 esi, eax
  002ea	0f 8c ae fd ff
	ff		 jl	 $L231494

; 350  : 	if( fMaxY != -65535.0f )

  002f0	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@c77fff00
  002f6	d9 44 24 20	 fld	 DWORD PTR _fMaxY$[esp+196]
  002fa	da e9		 fucompp
  002fc	df e0		 fnstsw	 ax
  002fe	f6 c4 44	 test	 ah, 68			; 00000044H
  00301	7b 11		 jnp	 SHORT $L231495

; 351  : 		return fMaxY;

  00303	d9 44 24 20	 fld	 DWORD PTR _fMaxY$[esp+196]
  00307	5f		 pop	 edi
  00308	5e		 pop	 esi
  00309	5d		 pop	 ebp
  0030a	5b		 pop	 ebx

; 353  : }

  0030b	81 c4 b4 00 00
	00		 add	 esp, 180		; 000000b4H
  00311	c2 04 00	 ret	 4
$L231495:

; 350  : 	if( fMaxY != -65535.0f )

  00314	8b 6c 24 18	 mov	 ebp, DWORD PTR _this$[esp+196]
  00318	8b b4 24 c8 00
	00 00		 mov	 esi, DWORD PTR _vPos$[esp+192]
$L228920:

; 352  : 	return GetLandHeight( vPos );

  0031f	56		 push	 esi
  00320	8b cd		 mov	 ecx, ebp
  00322	e8 00 00 00 00	 call	 ?GetLandHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z ; CWorld::GetLandHeight
  00327	5f		 pop	 edi
  00328	5e		 pop	 esi
  00329	5d		 pop	 ebp
  0032a	5b		 pop	 ebx

; 353  : }

  0032b	81 c4 b4 00 00
	00		 add	 esp, 180		; 000000b4H
  00331	c2 04 00	 ret	 4
?GetItemHeight@CWorld@@QAEMABUD3DXVECTOR3@@@Z ENDP	; CWorld::GetItemHeight
_TEXT	ENDS
PUBLIC	__real@477fff00
PUBLIC	?GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z ; CWorld::GetOverHeightForPlayer
;	COMDAT ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\dx_sdk\d3dx9math.inl
_BSS	SEGMENT
?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A DB 0cH DUP (?) ; `CWorld::GetOverHeightForPlayer'::`2'::vDir
_BSS	ENDS
;	COMDAT ?$S3@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA
_BSS	SEGMENT
?$S3@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA DD 01H DUP (?) ; `CWorld::GetOverHeightForPlayer'::`2'::$S3
_BSS	ENDS
;	COMDAT __real@477fff00
CONST	SEGMENT
__real@477fff00 DD 0477fff00r			; 65535
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\worldintersect.cpp
CONST	ENDS
;	COMDAT ?GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z
_TEXT	SEGMENT
__k$228973 = -200					; size = 4
__nX$228953 = -200					; size = 4
tv391 = -196						; size = 4
__j$228969 = -196					; size = 4
tv633 = -192						; size = 4
tv535 = -192						; size = 4
$T231503 = -188						; size = 12
_pTri$228987 = -188					; size = 12
$T231500 = -188						; size = 12
__nLinkXMin$228949 = -176				; size = 4
_fDist$ = -172						; size = 4
__nLinkZMax$228952 = -168				; size = 4
__nLinkXMax$228951 = -164				; size = 4
_this$ = -160						; size = 4
tv636 = -156						; size = 4
__nMaxHeight$228947 = -156				; size = 4
$T231502 = -152						; size = 12
_vEnd$ = -152						; size = 12
_vIntersect$ = -152					; size = 12
_pMinObj$ = -140					; size = 4
__i$228957 = -136					; size = 4
__nLinkZ$228943 = -132					; size = 4
__nLinkX$228941 = -128					; size = 4
__pObjs$228961 = -124					; size = 4
_segment$ = -120					; size = 28
_point$ = -92						; size = 28
$T231501 = -64						; size = 64
_vPos$ = 8						; size = 4
_pExceptionObj$ = 12					; size = 4
?GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z PROC NEAR ; CWorld::GetOverHeightForPlayer, COMDAT
; _this$ = ecx

; 357  : {

  00000	81 ec c8 00 00
	00		 sub	 esp, 200		; 000000c8H

; 358  : 	static D3DXVECTOR3 vDir( 0.0f, 1.0f, 0.0f );

  00006	f6 05 00 00 00
	00 01		 test	 BYTE PTR ?$S3@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA, 1
  0000d	53		 push	 ebx
  0000e	55		 push	 ebp
  0000f	56		 push	 esi
  00010	8b e9		 mov	 ebp, ecx
  00012	57		 push	 edi
  00013	89 6c 24 38	 mov	 DWORD PTR _this$[esp+216], ebp
  00017	75 25		 jne	 SHORT $L231567
  00019	83 0d 00 00 00
	00 01		 or	 DWORD PTR ?$S3@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA, 1
  00020	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A, 0
  0002a	c7 05 04 00 00
	00 00 00 80 3f	 mov	 DWORD PTR ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+4, 1065353216 ; 3f800000H
  00034	c7 05 08 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+8, 0
$L231567:

; 359  : 	D3DXVECTOR3 vIntersect, vEnd;
; 360  : 	FLOAT fDist;
; 361  : 
; 362  : 	CObj* pObj;
; 363  : 	CObj* pMinObj = NULL;
; 364  : 	CModel* pModel;
; 365  : 	int nRange = 0;
; 366  : 	vEnd = vPos + vDir;

  0003e	8b b4 24 dc 00
	00 00		 mov	 esi, DWORD PTR _vPos$[esp+212]
  00045	d9 05 00 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A
  0004b	d8 06		 fadd	 DWORD PTR [esi]
  0004d	33 db		 xor	 ebx, ebx
  0004f	89 5c 24 4c	 mov	 DWORD PTR _pMinObj$[esp+216], ebx
  00053	d9 5c 24 1c	 fstp	 DWORD PTR $T231500[esp+216]
  00057	8b 44 24 1c	 mov	 eax, DWORD PTR $T231500[esp+216]
  0005b	d9 05 04 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+4
  00061	89 44 24 40	 mov	 DWORD PTR _vEnd$[esp+216], eax
  00065	d8 46 04	 fadd	 DWORD PTR [esi+4]

; 367  : 	Segment3 segment( vPos, vEnd );

  00068	8d 44 24 40	 lea	 eax, DWORD PTR _vEnd$[esp+216]
  0006c	50		 push	 eax
  0006d	56		 push	 esi
  0006e	d9 5c 24 28	 fstp	 DWORD PTR $T231500[esp+228]
  00072	8b 4c 24 28	 mov	 ecx, DWORD PTR $T231500[esp+228]
  00076	d9 05 08 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+8
  0007c	89 4c 24 4c	 mov	 DWORD PTR _vEnd$[esp+228], ecx
  00080	d8 46 08	 fadd	 DWORD PTR [esi+8]
  00083	8d 4c 24 68	 lea	 ecx, DWORD PTR _segment$[esp+224]
  00087	d9 5c 24 2c	 fstp	 DWORD PTR $T231500[esp+232]
  0008b	8b 54 24 2c	 mov	 edx, DWORD PTR $T231500[esp+232]
  0008f	89 54 24 50	 mov	 DWORD PTR _vEnd$[esp+232], edx
  00093	e8 00 00 00 00	 call	 ??0Segment3@@QAE@ABUD3DXVECTOR3@@0@Z ; Segment3::Segment3

; 368  : 	Segment3 point( vPos, vPos );

  00098	56		 push	 esi
  00099	56		 push	 esi
  0009a	8d 8c 24 84 00
	00 00		 lea	 ecx, DWORD PTR _point$[esp+224]
  000a1	e8 00 00 00 00	 call	 ??0Segment3@@QAE@ABUD3DXVECTOR3@@0@Z ; Segment3::Segment3

; 369  : 
; 370  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  000a6	db 45 14	 fild	 DWORD PTR [ebp+20]
  000a9	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  000af	d9 c0		 fld	 ST(0)
  000b1	d8 0e		 fmul	 DWORD PTR [esi]
  000b3	e8 00 00 00 00	 call	 __ftol2
  000b8	d8 4e 08	 fmul	 DWORD PTR [esi+8]
  000bb	89 44 24 58	 mov	 DWORD PTR __nLinkX$228941[esp+216], eax
  000bf	e8 00 00 00 00	 call	 __ftol2
  000c4	53		 push	 ebx
  000c5	8d 7d 24	 lea	 edi, DWORD PTR [ebp+36]
  000c8	53		 push	 ebx
  000c9	8b cf		 mov	 ecx, edi
  000cb	89 44 24 5c	 mov	 DWORD PTR __nLinkZ$228943[esp+224], eax
  000cf	89 5c 24 58	 mov	 DWORD PTR __i$228957[esp+224], ebx
  000d3	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  000d8	85 c0		 test	 eax, eax
  000da	7f 17		 jg	 SHORT $L228958
$L228990:

; 398  : 		}
; 399  : 	}
; 400  : 	return 65535.0f;	//     

  000dc	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@477fff00
  000e2	5f		 pop	 edi
  000e3	5e		 pop	 esi
  000e4	5d		 pop	 ebp
  000e5	5b		 pop	 ebx

; 401  : }

  000e6	81 c4 c8 00 00
	00		 add	 esp, 200		; 000000c8H
  000ec	c2 08 00	 ret	 8
$L231568:

; 369  : 
; 370  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  000ef	8b 6c 24 38	 mov	 ebp, DWORD PTR _this$[esp+216]
$L228958:
  000f3	6a 00		 push	 0
  000f5	53		 push	 ebx
  000f6	6a 00		 push	 0
  000f8	8b cf		 mov	 ecx, edi
  000fa	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  000ff	6a 00		 push	 0
  00101	53		 push	 ebx
  00102	6a 00		 push	 0
  00104	8b cf		 mov	 ecx, edi
  00106	8b f0		 mov	 esi, eax
  00108	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  0010d	89 44 24 5c	 mov	 DWORD PTR __pObjs$228961[esp+216], eax
  00111	8b 45 04	 mov	 eax, DWORD PTR [ebp+4]
  00114	8b d8		 mov	 ebx, eax
  00116	c1 e0 07	 shl	 eax, 7
  00119	0f af de	 imul	 ebx, esi
  0011c	99		 cdq
  0011d	f7 fb		 idiv	 ebx
  0011f	8b 4d 08	 mov	 ecx, DWORD PTR [ebp+8]
  00122	0f af ce	 imul	 ecx, esi
  00125	89 4c 24 3c	 mov	 DWORD PTR __nMaxHeight$228947[esp+216], ecx
  00129	8b 4d 14	 mov	 ecx, DWORD PTR [ebp+20]
  0012c	8b f0		 mov	 esi, eax
  0012e	8b c1		 mov	 eax, ecx
  00130	0f af c6	 imul	 eax, esi
  00133	99		 cdq
  00134	2b c2		 sub	 eax, edx
  00136	8b f8		 mov	 edi, eax
  00138	8b 44 24 58	 mov	 eax, DWORD PTR __nLinkX$228941[esp+216]
  0013c	99		 cdq
  0013d	f7 fe		 idiv	 esi
  0013f	d1 ff		 sar	 edi, 1

; 398  : 		}
; 399  : 	}
; 400  : 	return 65535.0f;	//     

  00141	8b e8		 mov	 ebp, eax
  00143	0f af e9	 imul	 ebp, ecx
  00146	8b 8c 24 dc 00
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+212]
  0014d	0f af ee	 imul	 ebp, esi
  00150	d9 01		 fld	 DWORD PTR [ecx]
  00152	89 44 24 14	 mov	 DWORD PTR tv391[esp+216], eax
  00156	e8 00 00 00 00	 call	 __ftol2
  0015b	2b c5		 sub	 eax, ebp
  0015d	33 d2		 xor	 edx, edx
  0015f	3b c7		 cmp	 eax, edi
  00161	8b 44 24 54	 mov	 eax, DWORD PTR __nLinkZ$228943[esp+216]
  00165	0f 9f c2	 setg	 dl
  00168	8b 4c 24 38	 mov	 ecx, DWORD PTR _this$[esp+216]
  0016c	89 54 24 10	 mov	 DWORD PTR __nX$228953[esp+216], edx
  00170	99		 cdq
  00171	f7 fe		 idiv	 esi
  00173	8b 94 24 dc 00
	00 00		 mov	 edx, DWORD PTR _vPos$[esp+212]
  0017a	d9 42 08	 fld	 DWORD PTR [edx+8]
  0017d	8b e8		 mov	 ebp, eax
  0017f	0f af 41 14	 imul	 eax, DWORD PTR [ecx+20]
  00183	0f af c6	 imul	 eax, esi
  00186	89 44 24 18	 mov	 DWORD PTR tv535[esp+216], eax
  0018a	e8 00 00 00 00	 call	 __ftol2
  0018f	8b 4c 24 18	 mov	 ecx, DWORD PTR tv535[esp+216]
  00193	8b 54 24 10	 mov	 edx, DWORD PTR __nX$228953[esp+216]
  00197	2b c1		 sub	 eax, ecx
  00199	33 c9		 xor	 ecx, ecx
  0019b	3b c7		 cmp	 eax, edi
  0019d	8b 44 24 14	 mov	 eax, DWORD PTR tv391[esp+216]
  001a1	0f 9f c1	 setg	 cl
  001a4	03 c2		 add	 eax, edx
  001a6	8d 50 ff	 lea	 edx, DWORD PTR [eax-1]
  001a9	85 d2		 test	 edx, edx
  001ab	89 54 24 28	 mov	 DWORD PTR __nLinkXMin$228949[esp+216], edx
  001af	7d 08		 jge	 SHORT $L228965

; 369  : 
; 370  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  001b1	c7 44 24 28 00
	00 00 00	 mov	 DWORD PTR __nLinkXMin$228949[esp+216], 0
$L228965:
  001b9	8d 14 29	 lea	 edx, DWORD PTR [ecx+ebp]
  001bc	8d 4a ff	 lea	 ecx, DWORD PTR [edx-1]
  001bf	85 c9		 test	 ecx, ecx
  001c1	7d 02		 jge	 SHORT $L228966
  001c3	33 c9		 xor	 ecx, ecx
$L228966:
  001c5	3b c3		 cmp	 eax, ebx
  001c7	89 44 24 34	 mov	 DWORD PTR __nLinkXMax$228951[esp+216], eax
  001cb	7c 07		 jl	 SHORT $L228967
  001cd	8d 43 ff	 lea	 eax, DWORD PTR [ebx-1]
  001d0	89 44 24 34	 mov	 DWORD PTR __nLinkXMax$228951[esp+216], eax
$L228967:
  001d4	8b 44 24 3c	 mov	 eax, DWORD PTR __nMaxHeight$228947[esp+216]
  001d8	3b d0		 cmp	 edx, eax
  001da	89 54 24 30	 mov	 DWORD PTR __nLinkZMax$228952[esp+216], edx
  001de	7c 05		 jl	 SHORT $L228968
  001e0	48		 dec	 eax
  001e1	89 44 24 30	 mov	 DWORD PTR __nLinkZMax$228952[esp+216], eax
$L228968:
  001e5	3b 4c 24 30	 cmp	 ecx, DWORD PTR __nLinkZMax$228952[esp+216]
  001e9	89 4c 24 14	 mov	 DWORD PTR __j$228969[esp+216], ecx
  001ed	0f 8f bd 00 00
	00		 jg	 $L228959
  001f3	8b 44 24 28	 mov	 eax, DWORD PTR __nLinkXMin$228949[esp+216]
  001f7	0f af cb	 imul	 ecx, ebx
  001fa	8d 14 9d 00 00
	00 00		 lea	 edx, DWORD PTR [ebx*4]
  00201	89 54 24 3c	 mov	 DWORD PTR tv636[esp+216], edx
  00205	8b 54 24 5c	 mov	 edx, DWORD PTR __pObjs$228961[esp+216]
  00209	03 c8		 add	 ecx, eax
  0020b	8d 1c 8a	 lea	 ebx, DWORD PTR [edx+ecx*4]
  0020e	8b 4c 24 34	 mov	 ecx, DWORD PTR __nLinkXMax$228951[esp+216]
  00212	89 5c 24 18	 mov	 DWORD PTR tv633[esp+216], ebx
$L228970:
  00216	3b c1		 cmp	 eax, ecx
  00218	89 44 24 10	 mov	 DWORD PTR __k$228973[esp+216], eax
  0021c	7f 6f		 jg	 SHORT $L228971
  0021e	8b ff		 npad	 2
$L228974:
  00220	8b 33		 mov	 esi, DWORD PTR [ebx]
  00222	85 f6		 test	 esi, esi
  00224	bd e8 03 00 00	 mov	 ebp, 1000		; 000003e8H
  00229	74 4a		 je	 SHORT $L228975
  0022b	eb 03 8d 49 00	 npad	 5
$L228979:
  00230	8b c5		 mov	 eax, ebp
  00232	4d		 dec	 ebp
  00233	85 c0		 test	 eax, eax
  00235	74 3e		 je	 SHORT $L228975

; 371  : 	{
; 372  : 		pModel = pObj->m_pModel;

  00237	8b be 78 01 00
	00		 mov	 edi, DWORD PTR [esi+376]

; 373  : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  0023d	8b 17		 mov	 edx, DWORD PTR [edi]
  0023f	6a 01		 push	 1
  00241	56		 push	 esi
  00242	8d 44 24 68	 lea	 eax, DWORD PTR _segment$[esp+224]
  00246	50		 push	 eax
  00247	8b cf		 mov	 ecx, edi
  00249	ff 52 74	 call	 DWORD PTR [edx+116]
  0024c	83 f8 01	 cmp	 eax, 1
  0024f	75 1a		 jne	 SHORT $L228983

; 374  : 		{
; 375  : 			if( pModel->TestIntersectionOBB_Line( point, pObj ) == TRUE )

  00251	8b 17		 mov	 edx, DWORD PTR [edi]
  00253	50		 push	 eax
  00254	56		 push	 esi
  00255	8d 84 24 84 00
	00 00		 lea	 eax, DWORD PTR _point$[esp+224]
  0025c	50		 push	 eax
  0025d	8b cf		 mov	 ecx, edi
  0025f	ff 52 74	 call	 DWORD PTR [edx+116]
  00262	83 f8 01	 cmp	 eax, 1
  00265	75 72		 jne	 SHORT $L228982

; 376  : 			{
; 377  : 				pMinObj = pObj;

  00267	89 74 24 4c	 mov	 DWORD PTR _pMinObj$[esp+216], esi
$L228983:

; 382  : 				goto LP1;
; 383  : 			}
; 384  : 		}
; 385  : 	}
; 386  : 	END_LINKMAP

  0026b	8b b6 80 01 00
	00		 mov	 esi, DWORD PTR [esi+384]
  00271	85 f6		 test	 esi, esi
  00273	75 bb		 jne	 SHORT $L228979
$L228975:

; 369  : 
; 370  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00275	8b 44 24 10	 mov	 eax, DWORD PTR __k$228973[esp+216]
  00279	8b 4c 24 34	 mov	 ecx, DWORD PTR __nLinkXMax$228951[esp+216]
  0027d	40		 inc	 eax
  0027e	83 c3 04	 add	 ebx, 4
  00281	3b c1		 cmp	 eax, ecx
  00283	89 44 24 10	 mov	 DWORD PTR __k$228973[esp+216], eax
  00287	7e 97		 jle	 SHORT $L228974
  00289	8b 44 24 28	 mov	 eax, DWORD PTR __nLinkXMin$228949[esp+216]
$L228971:
  0028d	8b 54 24 14	 mov	 edx, DWORD PTR __j$228969[esp+216]
  00291	8b 5c 24 18	 mov	 ebx, DWORD PTR tv633[esp+216]
  00295	8b 7c 24 3c	 mov	 edi, DWORD PTR tv636[esp+216]
  00299	8b 74 24 30	 mov	 esi, DWORD PTR __nLinkZMax$228952[esp+216]
  0029d	42		 inc	 edx
  0029e	03 df		 add	 ebx, edi
  002a0	3b d6		 cmp	 edx, esi
  002a2	89 54 24 14	 mov	 DWORD PTR __j$228969[esp+216], edx
  002a6	89 5c 24 18	 mov	 DWORD PTR tv633[esp+216], ebx
  002aa	0f 8e 66 ff ff
	ff		 jle	 $L228970
$L228959:
  002b0	8b 5c 24 50	 mov	 ebx, DWORD PTR __i$228957[esp+216]
  002b4	8b 7c 24 38	 mov	 edi, DWORD PTR _this$[esp+216]
  002b8	6a 00		 push	 0
  002ba	83 c7 24	 add	 edi, 36			; 00000024H
  002bd	43		 inc	 ebx
  002be	6a 00		 push	 0
  002c0	8b cf		 mov	 ecx, edi
  002c2	89 5c 24 58	 mov	 DWORD PTR __i$228957[esp+224], ebx
  002c6	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  002cb	3b d8		 cmp	 ebx, eax
  002cd	0f 8c 1c fe ff
	ff		 jl	 $L231568
  002d3	8b 44 24 4c	 mov	 eax, DWORD PTR _pMinObj$[esp+216]
  002d7	eb 02		 jmp	 SHORT $LP1$228984
$L228982:

; 378  : 			}
; 379  : 			else
; 380  : 			{
; 381  : 				pMinObj = pObj;

  002d9	8b c6		 mov	 eax, esi
$LP1$228984:

; 387  : LP1:
; 388  : 	if( pMinObj )	//      

  002db	85 c0		 test	 eax, eax
  002dd	0f 84 f9 fd ff
	ff		 je	 $L228990

; 389  : 	{
; 390  : 		pModel = pMinObj->m_pModel;
; 391  : 		//    
; 392  : 		D3DXVECTOR3	*pTri[3];
; 393  : 		((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTri, vPos, vEnd, pMinObj->GetMatrixWorld(), &fDist );

  002e3	8d b0 e4 00 00
	00		 lea	 esi, DWORD PTR [eax+228]
  002e9	8b 80 78 01 00
	00		 mov	 eax, DWORD PTR [eax+376]
  002ef	6a 01		 push	 1
  002f1	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  002f6	8d bc 24 9c 00
	00 00		 lea	 edi, DWORD PTR $T231501[esp+220]
  002fd	f3 a5		 rep movsd
  002ff	8b b4 24 e0 00
	00 00		 mov	 esi, DWORD PTR _vPos$[esp+216]
  00306	8d 4c 24 30	 lea	 ecx, DWORD PTR _fDist$[esp+220]
  0030a	51		 push	 ecx
  0030b	8d 94 24 a0 00
	00 00		 lea	 edx, DWORD PTR $T231501[esp+224]
  00312	52		 push	 edx
  00313	8d 4c 24 4c	 lea	 ecx, DWORD PTR _vEnd$[esp+228]
  00317	51		 push	 ecx
  00318	8b 88 d8 00 00
	00		 mov	 ecx, DWORD PTR [eax+216]
  0031e	56		 push	 esi
  0031f	8d 54 24 30	 lea	 edx, DWORD PTR _pTri$228987[esp+236]
  00323	52		 push	 edx
  00324	e8 00 00 00 00	 call	 ?FindTouchTriLine@CObject3D@@QAEXPAPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@PAMH@Z ; CObject3D::FindTouchTriLine

; 394  : 		if( *pTri )

  00329	8b 44 24 1c	 mov	 eax, DWORD PTR _pTri$228987[esp+216]
  0032d	85 c0		 test	 eax, eax
  0032f	0f 84 a7 fd ff
	ff		 je	 $L228990

; 395  : 		{
; 396  : 			vIntersect = vPos + fDist * vDir;

  00335	d9 44 24 2c	 fld	 DWORD PTR _fDist$[esp+216]
  00339	5f		 pop	 edi
  0033a	d8 0d 00 00 00
	00		 fmul	 DWORD PTR ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A
  00340	d9 44 24 28	 fld	 DWORD PTR _fDist$[esp+212]
  00344	d8 0d 04 00 00
	00		 fmul	 DWORD PTR ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+4
  0034a	d9 44 24 28	 fld	 DWORD PTR _fDist$[esp+212]
  0034e	d8 0d 08 00 00
	00		 fmul	 DWORD PTR ?vDir@?1??GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+8
  00354	d9 5c 24 44	 fstp	 DWORD PTR $T231502[esp+220]
  00358	d9 c9		 fxch	 ST(1)
  0035a	d8 06		 fadd	 DWORD PTR [esi]
  0035c	d9 5c 24 18	 fstp	 DWORD PTR $T231503[esp+212]
  00360	8b 4c 24 18	 mov	 ecx, DWORD PTR $T231503[esp+212]
  00364	89 4c 24 3c	 mov	 DWORD PTR _vIntersect$[esp+212], ecx
  00368	d8 46 04	 fadd	 DWORD PTR [esi+4]
  0036b	d9 5c 24 1c	 fstp	 DWORD PTR $T231503[esp+216]
  0036f	8b 54 24 1c	 mov	 edx, DWORD PTR $T231503[esp+216]
  00373	d9 44 24 44	 fld	 DWORD PTR $T231502[esp+220]
  00377	89 54 24 40	 mov	 DWORD PTR _vIntersect$[esp+216], edx
  0037b	d8 46 08	 fadd	 DWORD PTR [esi+8]
  0037e	5e		 pop	 esi
  0037f	5d		 pop	 ebp
  00380	5b		 pop	 ebx
  00381	d9 5c 24 14	 fstp	 DWORD PTR $T231503[esp+208]
  00385	8b 44 24 14	 mov	 eax, DWORD PTR $T231503[esp+208]

; 397  : 			return vIntersect.y;

  00389	d9 44 24 34	 fld	 DWORD PTR _vIntersect$[esp+204]
  0038d	89 44 24 38	 mov	 DWORD PTR _vIntersect$[esp+208], eax

; 401  : }

  00391	81 c4 c8 00 00
	00		 add	 esp, 200		; 000000c8H
  00397	c2 08 00	 ret	 8
?GetOverHeightForPlayer@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z ENDP ; CWorld::GetOverHeightForPlayer
_TEXT	ENDS
PUBLIC	?GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z ; CWorld::GetOverHeight
;	COMDAT ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\dx_sdk\d3dx9math.inl
_BSS	SEGMENT
?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A DB 0cH DUP (?) ; `CWorld::GetOverHeight'::`2'::vDir
_BSS	ENDS
;	COMDAT ?$S4@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA
_BSS	SEGMENT
?$S4@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA DD 01H DUP (?) ; `CWorld::GetOverHeight'::`2'::$S4
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\worldintersect.cpp
_BSS	ENDS
;	COMDAT ?GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z
_TEXT	SEGMENT
__k$229044 = -164					; size = 4
__nX$229024 = -164					; size = 4
tv391 = -160						; size = 4
__j$229040 = -160					; size = 4
tv644 = -156						; size = 4
tv549 = -156						; size = 4
$T231578 = -152						; size = 12
_pTri$229056 = -152					; size = 12
$T231575 = -152						; size = 12
__nLinkZMax$229023 = -140				; size = 4
__nLinkXMax$229022 = -136				; size = 4
_this$ = -132						; size = 4
tv647 = -128						; size = 4
__nMaxHeight$229018 = -128				; size = 4
_fDist$ = -124						; size = 4
$T231577 = -120						; size = 12
_vEnd$ = -120						; size = 12
_vIntersect$ = -120					; size = 12
__i$229028 = -108					; size = 4
__nLinkX$229012 = -104					; size = 4
__pObjs$229032 = -100					; size = 4
__nLinkZ$229014 = -96					; size = 4
_segment$ = -92						; size = 28
$T231576 = -64						; size = 64
_vPos$ = 8						; size = 4
_pExceptionObj$ = 12					; size = 4
?GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z PROC NEAR ; CWorld::GetOverHeight, COMDAT
; _this$ = ecx

; 408  : {

  00000	81 ec a4 00 00
	00		 sub	 esp, 164		; 000000a4H

; 409  : 	static D3DXVECTOR3 vDir( 0.0f, 1.0f, 0.0f );	

  00006	f6 05 00 00 00
	00 01		 test	 BYTE PTR ?$S4@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA, 1
  0000d	53		 push	 ebx
  0000e	55		 push	 ebp
  0000f	56		 push	 esi
  00010	8b e9		 mov	 ebp, ecx
  00012	57		 push	 edi
  00013	89 6c 24 30	 mov	 DWORD PTR _this$[esp+180], ebp
  00017	75 25		 jne	 SHORT $L231641
  00019	83 0d 00 00 00
	00 01		 or	 DWORD PTR ?$S4@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4IA, 1
  00020	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A, 0
  0002a	c7 05 04 00 00
	00 00 00 80 3f	 mov	 DWORD PTR ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+4, 1065353216 ; 3f800000H
  00034	c7 05 08 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+8, 0
$L231641:

; 410  : 	D3DXVECTOR3 vIntersect, vEnd;
; 411  : 	FLOAT fDist;
; 412  : 
; 413  : 	CObj* pObj;
; 414  : 	CObj* pMinObj = NULL;
; 415  : 	CModel* pModel;
; 416  : 	int nRange = 0;
; 417  : 	vEnd = vPos + vDir;

  0003e	8b b4 24 b8 00
	00 00		 mov	 esi, DWORD PTR _vPos$[esp+176]
  00045	d9 05 00 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A
  0004b	d8 06		 fadd	 DWORD PTR [esi]
  0004d	d9 5c 24 1c	 fstp	 DWORD PTR $T231575[esp+180]
  00051	8b 44 24 1c	 mov	 eax, DWORD PTR $T231575[esp+180]
  00055	d9 05 04 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+4
  0005b	89 44 24 3c	 mov	 DWORD PTR _vEnd$[esp+180], eax
  0005f	d8 46 04	 fadd	 DWORD PTR [esi+4]

; 418  : 	Segment3 segment( vPos, vEnd );

  00062	8d 44 24 3c	 lea	 eax, DWORD PTR _vEnd$[esp+180]
  00066	50		 push	 eax
  00067	56		 push	 esi
  00068	d9 5c 24 28	 fstp	 DWORD PTR $T231575[esp+192]
  0006c	8b 4c 24 28	 mov	 ecx, DWORD PTR $T231575[esp+192]
  00070	d9 05 08 00 00
	00		 fld	 DWORD PTR ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+8
  00076	89 4c 24 48	 mov	 DWORD PTR _vEnd$[esp+192], ecx
  0007a	d8 46 08	 fadd	 DWORD PTR [esi+8]
  0007d	8d 4c 24 60	 lea	 ecx, DWORD PTR _segment$[esp+188]
  00081	d9 5c 24 2c	 fstp	 DWORD PTR $T231575[esp+196]
  00085	8b 54 24 2c	 mov	 edx, DWORD PTR $T231575[esp+196]
  00089	89 54 24 4c	 mov	 DWORD PTR _vEnd$[esp+196], edx
  0008d	e8 00 00 00 00	 call	 ??0Segment3@@QAE@ABUD3DXVECTOR3@@0@Z ; Segment3::Segment3

; 419  : 
; 420  : #if __VER >= 15 // __BOUND_BOX_COLLISION
; 421  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00092	db 45 14	 fild	 DWORD PTR [ebp+20]
  00095	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  0009b	d9 c0		 fld	 ST(0)
  0009d	d8 0e		 fmul	 DWORD PTR [esi]
  0009f	e8 00 00 00 00	 call	 __ftol2
  000a4	d8 4e 08	 fmul	 DWORD PTR [esi+8]
  000a7	89 44 24 4c	 mov	 DWORD PTR __nLinkX$229012[esp+180], eax
  000ab	e8 00 00 00 00	 call	 __ftol2
  000b0	33 db		 xor	 ebx, ebx
  000b2	53		 push	 ebx
  000b3	8d 7d 24	 lea	 edi, DWORD PTR [ebp+36]
  000b6	53		 push	 ebx
  000b7	8b cf		 mov	 ecx, edi
  000b9	89 44 24 5c	 mov	 DWORD PTR __nLinkZ$229014[esp+188], eax
  000bd	89 5c 24 50	 mov	 DWORD PTR __i$229028[esp+188], ebx
  000c1	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  000c6	85 c0		 test	 eax, eax
  000c8	7f 17		 jg	 SHORT $L229029
$L229059:

; 488  : 		}
; 489  : 	}
; 490  : 	return 65535.0f;	//    

  000ca	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@477fff00
  000d0	5f		 pop	 edi
  000d1	5e		 pop	 esi
  000d2	5d		 pop	 ebp
  000d3	5b		 pop	 ebx

; 491  : }

  000d4	81 c4 a4 00 00
	00		 add	 esp, 164		; 000000a4H
  000da	c2 08 00	 ret	 8
$L231642:

; 419  : 
; 420  : #if __VER >= 15 // __BOUND_BOX_COLLISION
; 421  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  000dd	8b 6c 24 30	 mov	 ebp, DWORD PTR _this$[esp+180]
$L229029:
  000e1	6a 00		 push	 0
  000e3	53		 push	 ebx
  000e4	6a 00		 push	 0
  000e6	8b cf		 mov	 ecx, edi
  000e8	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  000ed	6a 00		 push	 0
  000ef	53		 push	 ebx
  000f0	6a 00		 push	 0
  000f2	8b cf		 mov	 ecx, edi
  000f4	8b f0		 mov	 esi, eax
  000f6	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  000fb	89 44 24 50	 mov	 DWORD PTR __pObjs$229032[esp+180], eax
  000ff	8b 45 04	 mov	 eax, DWORD PTR [ebp+4]
  00102	8b d8		 mov	 ebx, eax
  00104	c1 e0 07	 shl	 eax, 7
  00107	0f af de	 imul	 ebx, esi
  0010a	99		 cdq
  0010b	f7 fb		 idiv	 ebx
  0010d	8b 4d 08	 mov	 ecx, DWORD PTR [ebp+8]
  00110	0f af ce	 imul	 ecx, esi
  00113	89 4c 24 34	 mov	 DWORD PTR __nMaxHeight$229018[esp+180], ecx
  00117	8b 4d 14	 mov	 ecx, DWORD PTR [ebp+20]
  0011a	8b f0		 mov	 esi, eax
  0011c	8b c1		 mov	 eax, ecx
  0011e	0f af c6	 imul	 eax, esi
  00121	99		 cdq
  00122	2b c2		 sub	 eax, edx
  00124	8b f8		 mov	 edi, eax
  00126	8b 44 24 4c	 mov	 eax, DWORD PTR __nLinkX$229012[esp+180]
  0012a	99		 cdq
  0012b	f7 fe		 idiv	 esi
  0012d	d1 ff		 sar	 edi, 1

; 488  : 		}
; 489  : 	}
; 490  : 	return 65535.0f;	//    

  0012f	8b e8		 mov	 ebp, eax
  00131	0f af e9	 imul	 ebp, ecx
  00134	8b 8c 24 b8 00
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+176]
  0013b	0f af ee	 imul	 ebp, esi
  0013e	d9 01		 fld	 DWORD PTR [ecx]
  00140	89 44 24 14	 mov	 DWORD PTR tv391[esp+180], eax
  00144	e8 00 00 00 00	 call	 __ftol2
  00149	2b c5		 sub	 eax, ebp
  0014b	33 d2		 xor	 edx, edx
  0014d	3b c7		 cmp	 eax, edi
  0014f	8b 44 24 54	 mov	 eax, DWORD PTR __nLinkZ$229014[esp+180]
  00153	0f 9f c2	 setg	 dl
  00156	8b 4c 24 30	 mov	 ecx, DWORD PTR _this$[esp+180]
  0015a	89 54 24 10	 mov	 DWORD PTR __nX$229024[esp+180], edx
  0015e	99		 cdq
  0015f	f7 fe		 idiv	 esi
  00161	8b 94 24 b8 00
	00 00		 mov	 edx, DWORD PTR _vPos$[esp+176]
  00168	d9 42 08	 fld	 DWORD PTR [edx+8]
  0016b	8b e8		 mov	 ebp, eax
  0016d	0f af 41 14	 imul	 eax, DWORD PTR [ecx+20]
  00171	0f af c6	 imul	 eax, esi
  00174	89 44 24 18	 mov	 DWORD PTR tv549[esp+180], eax
  00178	e8 00 00 00 00	 call	 __ftol2
  0017d	8b 4c 24 18	 mov	 ecx, DWORD PTR tv549[esp+180]
  00181	8b 54 24 10	 mov	 edx, DWORD PTR __nX$229024[esp+180]
  00185	2b c1		 sub	 eax, ecx
  00187	33 c9		 xor	 ecx, ecx
  00189	3b c7		 cmp	 eax, edi
  0018b	8b 44 24 14	 mov	 eax, DWORD PTR tv391[esp+180]
  0018f	0f 9f c1	 setg	 cl
  00192	03 c2		 add	 eax, edx
  00194	8d 78 ff	 lea	 edi, DWORD PTR [eax-1]
  00197	85 ff		 test	 edi, edi
  00199	7d 02		 jge	 SHORT $L229036

; 419  : 
; 420  : #if __VER >= 15 // __BOUND_BOX_COLLISION
; 421  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  0019b	33 ff		 xor	 edi, edi
$L229036:
  0019d	03 e9		 add	 ebp, ecx
  0019f	8d 4d ff	 lea	 ecx, DWORD PTR [ebp-1]
  001a2	85 c9		 test	 ecx, ecx
  001a4	7d 02		 jge	 SHORT $L229037
  001a6	33 c9		 xor	 ecx, ecx
$L229037:
  001a8	3b c3		 cmp	 eax, ebx
  001aa	89 44 24 2c	 mov	 DWORD PTR __nLinkXMax$229022[esp+180], eax
  001ae	7c 07		 jl	 SHORT $L229038
  001b0	8d 43 ff	 lea	 eax, DWORD PTR [ebx-1]
  001b3	89 44 24 2c	 mov	 DWORD PTR __nLinkXMax$229022[esp+180], eax
$L229038:
  001b7	8b 44 24 34	 mov	 eax, DWORD PTR __nMaxHeight$229018[esp+180]
  001bb	3b e8		 cmp	 ebp, eax
  001bd	89 6c 24 28	 mov	 DWORD PTR __nLinkZMax$229023[esp+180], ebp
  001c1	7c 05		 jl	 SHORT $L229039
  001c3	48		 dec	 eax
  001c4	89 44 24 28	 mov	 DWORD PTR __nLinkZMax$229023[esp+180], eax
$L229039:
  001c8	3b 4c 24 28	 cmp	 ecx, DWORD PTR __nLinkZMax$229023[esp+180]
  001cc	89 4c 24 14	 mov	 DWORD PTR __j$229040[esp+180], ecx
  001d0	0f 8f 96 00 00
	00		 jg	 $L229030
  001d6	8b 44 24 50	 mov	 eax, DWORD PTR __pObjs$229032[esp+180]
  001da	0f af cb	 imul	 ecx, ebx
  001dd	03 cf		 add	 ecx, edi
  001df	8d 34 88	 lea	 esi, DWORD PTR [eax+ecx*4]
  001e2	8b 4c 24 2c	 mov	 ecx, DWORD PTR __nLinkXMax$229022[esp+180]
  001e6	8d 14 9d 00 00
	00 00		 lea	 edx, DWORD PTR [ebx*4]
  001ed	89 54 24 34	 mov	 DWORD PTR tv647[esp+180], edx
  001f1	89 74 24 18	 mov	 DWORD PTR tv644[esp+180], esi
$L229041:
  001f5	3b f9		 cmp	 edi, ecx
  001f7	89 7c 24 10	 mov	 DWORD PTR __k$229044[esp+180], edi
  001fb	7f 50		 jg	 SHORT $L229042
  001fd	8d 49 00	 npad	 3
$L229045:
  00200	8b 1e		 mov	 ebx, DWORD PTR [esi]
  00202	85 db		 test	 ebx, ebx
  00204	bd e8 03 00 00	 mov	 ebp, 1000		; 000003e8H
  00209	74 2e		 je	 SHORT $L229046
  0020b	eb 03 8d 49 00	 npad	 5
$L229050:
  00210	8b cd		 mov	 ecx, ebp
  00212	4d		 dec	 ebp
  00213	85 c9		 test	 ecx, ecx
  00215	74 22		 je	 SHORT $L229046

; 422  : 	{
; 423  : 		pModel = pObj->m_pModel;

  00217	8b 8b 78 01 00
	00		 mov	 ecx, DWORD PTR [ebx+376]

; 424  : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  0021d	8b 11		 mov	 edx, DWORD PTR [ecx]
  0021f	6a 01		 push	 1
  00221	53		 push	 ebx
  00222	8d 44 24 60	 lea	 eax, DWORD PTR _segment$[esp+188]
  00226	50		 push	 eax
  00227	ff 52 74	 call	 DWORD PTR [edx+116]
  0022a	83 f8 01	 cmp	 eax, 1
  0022d	74 73		 je	 SHORT $L231637

; 425  : 		{
; 426  : 			pMinObj = pObj;		//   
; 427  : 			goto LP1;
; 428  : 		}
; 429  : 	}
; 430  : 	END_LINKMAP

  0022f	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  00235	85 db		 test	 ebx, ebx
  00237	75 d7		 jne	 SHORT $L229050
$L229046:

; 419  : 
; 420  : #if __VER >= 15 // __BOUND_BOX_COLLISION
; 421  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00239	8b 44 24 10	 mov	 eax, DWORD PTR __k$229044[esp+180]
  0023d	8b 4c 24 2c	 mov	 ecx, DWORD PTR __nLinkXMax$229022[esp+180]
  00241	40		 inc	 eax
  00242	83 c6 04	 add	 esi, 4
  00245	3b c1		 cmp	 eax, ecx
  00247	89 44 24 10	 mov	 DWORD PTR __k$229044[esp+180], eax
  0024b	7e b3		 jle	 SHORT $L229045
$L229042:
  0024d	8b 44 24 14	 mov	 eax, DWORD PTR __j$229040[esp+180]
  00251	8b 74 24 18	 mov	 esi, DWORD PTR tv644[esp+180]
  00255	8b 5c 24 34	 mov	 ebx, DWORD PTR tv647[esp+180]
  00259	8b 54 24 28	 mov	 edx, DWORD PTR __nLinkZMax$229023[esp+180]
  0025d	40		 inc	 eax
  0025e	03 f3		 add	 esi, ebx
  00260	3b c2		 cmp	 eax, edx
  00262	89 44 24 14	 mov	 DWORD PTR __j$229040[esp+180], eax
  00266	89 74 24 18	 mov	 DWORD PTR tv644[esp+180], esi
  0026a	7e 89		 jle	 SHORT $L229041
$L229030:
  0026c	8b 5c 24 48	 mov	 ebx, DWORD PTR __i$229028[esp+180]
  00270	8b 7c 24 30	 mov	 edi, DWORD PTR _this$[esp+180]
  00274	6a 00		 push	 0
  00276	83 c7 24	 add	 edi, 36			; 00000024H
  00279	43		 inc	 ebx
  0027a	6a 00		 push	 0
  0027c	8b cf		 mov	 ecx, edi
  0027e	89 5c 24 50	 mov	 DWORD PTR __i$229028[esp+188], ebx
  00282	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  00287	3b d8		 cmp	 ebx, eax
  00289	0f 8c 4e fe ff
	ff		 jl	 $L231642

; 488  : 		}
; 489  : 	}
; 490  : 	return 65535.0f;	//    

  0028f	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@477fff00
  00295	5f		 pop	 edi
  00296	5e		 pop	 esi
  00297	5d		 pop	 ebp
  00298	5b		 pop	 ebx

; 491  : }

  00299	81 c4 a4 00 00
	00		 add	 esp, 164		; 000000a4H
  0029f	c2 08 00	 ret	 8
$L231637:

; 431  : #else // __BOUND_BOX_COLLISION
; 432  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )
; 433  : 	{
; 434  : 		// (vPos-vDir) OBB .  
; 435  : 		pModel = pObj->m_pModel;
; 436  : #if __VER >= 13 &&  defined(__CLIENT) // __HOUSING
; 437  : 		if(GetID() == WI_WORLD_MINIROOM)
; 438  : 		{
; 439  : 			if(pObj != GetObjByName("obj_miniwall01.o3d") &&pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE)
; 440  : 			{
; 441  : 				pMinObj = pObj;		//   
; 442  : 				goto LP1;
; 443  : 			}
; 444  : 		}
; 445  : #if __VER >= 14 // __INSTANCE_DUNGEON
; 446  : 		else if(GetID() == WI_INSTANCE_OMINOUS || GetID() == WI_INSTANCE_OMINOUS_1 )
; 447  : 		{
; 448  : 			char* pString = ((CModelObject *)pObj->m_pModel)->GetObject3D()->m_szFileName;
; 449  : 			if(strcmp(pString, "obj_ceiling_01.o3d") == 0 || strcmp(pString, "obj_ceiling_02.o3d") == 0)
; 450  : 			{
; 451  : 				if(pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE)
; 452  : 				{
; 453  : 					pMinObj = pObj;		//   
; 454  : 					goto LP1;
; 455  : 				}
; 456  : 			}
; 457  : 		}
; 458  : #endif // __INSTANCE_DUNGEON
; 459  : 		else
; 460  : 		{
; 461  : 			if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )
; 462  : 			{
; 463  : 				pMinObj = pObj;		//   
; 464  : 				goto LP1;
; 465  : 			}
; 466  : 		}
; 467  : #else
; 468  : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )
; 469  : 		{
; 470  : 			pMinObj = pObj;		//   
; 471  : 			goto LP1;
; 472  : 		}
; 473  : #endif
; 474  : 	}
; 475  : 	END_LINKMAP
; 476  : #endif // __BOUND_BOX_COLLISION
; 477  : LP1:
; 478  : 	if( pMinObj )	//      
; 479  : 	{
; 480  : 		pModel = pMinObj->m_pModel;
; 481  : 		//    
; 482  : 		D3DXVECTOR3	*pTri[3];
; 483  : 		((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTri, vPos, vEnd, pMinObj->GetMatrixWorld(), &fDist );

  002a2	6a 01		 push	 1
  002a4	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  002aa	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  002af	8d 7c 24 78	 lea	 edi, DWORD PTR $T231576[esp+184]
  002b3	f3 a5		 rep movsd
  002b5	8b b4 24 bc 00
	00 00		 mov	 esi, DWORD PTR _vPos$[esp+180]
  002bc	8d 4c 24 3c	 lea	 ecx, DWORD PTR _fDist$[esp+184]
  002c0	51		 push	 ecx
  002c1	8d 54 24 7c	 lea	 edx, DWORD PTR $T231576[esp+188]
  002c5	52		 push	 edx
  002c6	8b 93 78 01 00
	00		 mov	 edx, DWORD PTR [ebx+376]
  002cc	8d 44 24 48	 lea	 eax, DWORD PTR _vEnd$[esp+192]
  002d0	50		 push	 eax
  002d1	56		 push	 esi
  002d2	8d 4c 24 30	 lea	 ecx, DWORD PTR _pTri$229056[esp+200]
  002d6	51		 push	 ecx
  002d7	8b 8a d8 00 00
	00		 mov	 ecx, DWORD PTR [edx+216]
$LP1$229053:
  002dd	e8 00 00 00 00	 call	 ?FindTouchTriLine@CObject3D@@QAEXPAPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@PAMH@Z ; CObject3D::FindTouchTriLine

; 484  : 		if( *pTri )

  002e2	8b 44 24 1c	 mov	 eax, DWORD PTR _pTri$229056[esp+180]
  002e6	85 c0		 test	 eax, eax
  002e8	0f 84 dc fd ff
	ff		 je	 $L229059

; 485  : 		{
; 486  : 			vIntersect = vPos + fDist * vDir;

  002ee	d9 44 24 38	 fld	 DWORD PTR _fDist$[esp+180]
  002f2	5f		 pop	 edi
  002f3	d8 0d 00 00 00
	00		 fmul	 DWORD PTR ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A
  002f9	d9 44 24 34	 fld	 DWORD PTR _fDist$[esp+176]
  002fd	d8 0d 04 00 00
	00		 fmul	 DWORD PTR ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+4
  00303	d9 44 24 34	 fld	 DWORD PTR _fDist$[esp+176]
  00307	d8 0d 08 00 00
	00		 fmul	 DWORD PTR ?vDir@?1??GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z@4U3@A+8
  0030d	d9 5c 24 40	 fstp	 DWORD PTR $T231577[esp+184]
  00311	d9 c9		 fxch	 ST(1)
  00313	d8 06		 fadd	 DWORD PTR [esi]
  00315	d9 5c 24 18	 fstp	 DWORD PTR $T231578[esp+176]
  00319	8b 44 24 18	 mov	 eax, DWORD PTR $T231578[esp+176]
  0031d	89 44 24 38	 mov	 DWORD PTR _vIntersect$[esp+176], eax
  00321	d8 46 04	 fadd	 DWORD PTR [esi+4]
  00324	d9 5c 24 1c	 fstp	 DWORD PTR $T231578[esp+180]
  00328	8b 4c 24 1c	 mov	 ecx, DWORD PTR $T231578[esp+180]
  0032c	d9 44 24 40	 fld	 DWORD PTR $T231577[esp+184]
  00330	89 4c 24 3c	 mov	 DWORD PTR _vIntersect$[esp+180], ecx
  00334	d8 46 08	 fadd	 DWORD PTR [esi+8]
  00337	5e		 pop	 esi
  00338	5d		 pop	 ebp
  00339	5b		 pop	 ebx
  0033a	d9 5c 24 14	 fstp	 DWORD PTR $T231578[esp+172]
  0033e	8b 54 24 14	 mov	 edx, DWORD PTR $T231578[esp+172]

; 487  : 			return vIntersect.y;

  00342	d9 44 24 30	 fld	 DWORD PTR _vIntersect$[esp+168]
  00346	89 54 24 34	 mov	 DWORD PTR _vIntersect$[esp+172], edx

; 491  : }

  0034a	81 c4 a4 00 00
	00		 add	 esp, 164		; 000000a4H
  00350	c2 08 00	 ret	 8
?GetOverHeight@CWorld@@QAEMAAUD3DXVECTOR3@@PAVCObj@@@Z ENDP ; CWorld::GetOverHeight
_TEXT	ENDS
PUBLIC	?ProcessCollision@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HH@Z ; CWorld::ProcessCollision
EXTRN	?SlideVectorXZ2@CObject3D@@QAEHPAUD3DXVECTOR3@@0ABU2@1ABUD3DXMATRIX@@H@Z:NEAR ; CObject3D::SlideVectorXZ2
; Function compile flags: /Ogty
;	COMDAT ?ProcessCollision@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HH@Z
_TEXT	SEGMENT
tv660 = -244						; size = 4
__nLinkXMax$229143 = -244				; size = 4
__nLinkZMax$229089 = -244				; size = 4
tv1080 = -240						; size = 4
__pObjs$229153 = -240					; size = 4
__i$229094 = -240					; size = 4
tv1004 = -236						; size = 4
__i$229149 = -236					; size = 4
__nMaxHeight$229084 = -236				; size = 4
tv1119 = -232						; size = 4
__nMaxHeight$229139 = -232				; size = 4
__k$229110 = -232					; size = 4
__nX$229090 = -232					; size = 4
tv893 = -228						; size = 4
tv891 = -228						; size = 4
___limit$229169 = -228					; size = 4
___limit$229114 = -228					; size = 4
__pObjs$229098 = -228					; size = 4
tv1043 = -224						; size = 4
tv895 = -224						; size = 4
__k$229165 = -224					; size = 4
__nX$229145 = -224					; size = 4
tv761 = -220						; size = 4
tv654 = -220						; size = 4
__j$229161 = -220					; size = 4
__j$229106 = -220					; size = 4
__nLinkXMin$229141 = -216				; size = 4
__nLinkXMin$229086 = -216				; size = 4
__nLinkZMax$229144 = -212				; size = 4
__nLinkXMax$229088 = -212				; size = 4
_this$ = -208						; size = 4
tv1122 = -204						; size = 4
tv756 = -204						; size = 4
__nLinkX$229078 = -204					; size = 4
$T231647 = -200						; size = 12
_vSlide$ = -200						; size = 12
tv1046 = -188						; size = 4
__nLinkX$229133 = -188					; size = 4
__nLinkZ$229135 = -184					; size = 4
__nLinkZ$229080 = -184					; size = 4
_vEnd$ = -180						; size = 12
_vIntersect$ = -168					; size = 12
_segment$ = -156					; size = 28
$T231650 = -128						; size = 64
$T231649 = -128						; size = 64
$T231648 = -64						; size = 64
_pOut$ = 8						; size = 4
_vPos$ = 12						; size = 4
_vDir$ = 16						; size = 4
_nSlideCnt$ = 20					; size = 4
_nLayer$ = 24						; size = 4
?ProcessCollision@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HH@Z PROC NEAR ; CWorld::ProcessCollision, COMDAT
; _this$ = ecx

; 502  : {

  00000	81 ec f4 00 00
	00		 sub	 esp, 244		; 000000f4H
  00006	53		 push	 ebx

; 503  : 	_PROFILE("CWorld::ProcessCollision()");
; 504  : 
; 505  : 	int nRange = 0;
; 506  : 	CObj	*pObj = NULL;
; 507  : 	CModel	*pModel = NULL;
; 508  : 	D3DXVECTOR3	vEnd, vIntersect, vSlide;
; 509  : 	
; 510  : 	vEnd = vPos + vDir;		//   .

  00007	8b 9c 24 00 01
	00 00		 mov	 ebx, DWORD PTR _vPos$[esp+244]
  0000e	d9 03		 fld	 DWORD PTR [ebx]
  00010	55		 push	 ebp
  00011	56		 push	 esi
  00012	8b b4 24 0c 01
	00 00		 mov	 esi, DWORD PTR _vDir$[esp+252]
  00019	d8 06		 fadd	 DWORD PTR [esi]
  0001b	57		 push	 edi
  0001c	8b f9		 mov	 edi, ecx
  0001e	89 7c 24 34	 mov	 DWORD PTR _this$[esp+260], edi
  00022	d9 5c 24 3c	 fstp	 DWORD PTR $T231647[esp+260]
  00026	8b 44 24 3c	 mov	 eax, DWORD PTR $T231647[esp+260]
  0002a	d9 43 04	 fld	 DWORD PTR [ebx+4]
  0002d	89 44 24 50	 mov	 DWORD PTR _vEnd$[esp+260], eax
  00031	d8 46 04	 fadd	 DWORD PTR [esi+4]

; 511  : 	Segment3 segment( vPos, vEnd );

  00034	8d 44 24 50	 lea	 eax, DWORD PTR _vEnd$[esp+260]
  00038	50		 push	 eax
  00039	53		 push	 ebx
  0003a	d9 5c 24 48	 fstp	 DWORD PTR $T231647[esp+272]
  0003e	8b 4c 24 48	 mov	 ecx, DWORD PTR $T231647[esp+272]
  00042	d9 46 08	 fld	 DWORD PTR [esi+8]
  00045	89 4c 24 5c	 mov	 DWORD PTR _vEnd$[esp+272], ecx
  00049	d8 43 08	 fadd	 DWORD PTR [ebx+8]
  0004c	8d 4c 24 70	 lea	 ecx, DWORD PTR _segment$[esp+268]
  00050	d9 5c 24 4c	 fstp	 DWORD PTR $T231647[esp+276]
  00054	8b 54 24 4c	 mov	 edx, DWORD PTR $T231647[esp+276]
  00058	89 54 24 60	 mov	 DWORD PTR _vEnd$[esp+276], edx
  0005c	e8 00 00 00 00	 call	 ??0Segment3@@QAE@ABUD3DXVECTOR3@@0@Z ; Segment3::Segment3

; 512  : 	
; 513  : 	*pOut = vDir;

  00061	8b 16		 mov	 edx, DWORD PTR [esi]
  00063	8b 8c 24 08 01
	00 00		 mov	 ecx, DWORD PTR _pOut$[esp+256]
  0006a	89 11		 mov	 DWORD PTR [ecx], edx
  0006c	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  0006f	89 41 04	 mov	 DWORD PTR [ecx+4], eax
  00072	8b 56 08	 mov	 edx, DWORD PTR [esi+8]
  00075	89 51 08	 mov	 DWORD PTR [ecx+8], edx

; 514  : 
; 515  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkDynamic, nLayer )

  00078	db 47 14	 fild	 DWORD PTR [edi+20]
  0007b	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  00081	d9 c0		 fld	 ST(0)
  00083	d8 0b		 fmul	 DWORD PTR [ebx]
  00085	e8 00 00 00 00	 call	 __ftol2
  0008a	d8 4b 08	 fmul	 DWORD PTR [ebx+8]
  0008d	89 44 24 38	 mov	 DWORD PTR __nLinkX$229078[esp+260], eax
  00091	e8 00 00 00 00	 call	 __ftol2
  00096	89 44 24 4c	 mov	 DWORD PTR __nLinkZ$229080[esp+260], eax
  0009a	8b 84 24 18 01
	00 00		 mov	 eax, DWORD PTR _nLayer$[esp+256]
  000a1	50		 push	 eax
  000a2	8d 77 24	 lea	 esi, DWORD PTR [edi+36]
  000a5	33 ed		 xor	 ebp, ebp
  000a7	6a 01		 push	 1
  000a9	8b ce		 mov	 ecx, esi
  000ab	89 6c 24 1c	 mov	 DWORD PTR __i$229094[esp+268], ebp
  000af	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  000b4	85 c0		 test	 eax, eax
  000b6	7f 4c		 jg	 SHORT $L229095
$L229097:

; 557  : 		
; 558  : 		
; 559  :  	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  000b8	db 47 14	 fild	 DWORD PTR [edi+20]
  000bb	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  000c1	d9 c0		 fld	 ST(0)
  000c3	d8 0b		 fmul	 DWORD PTR [ebx]
  000c5	e8 00 00 00 00	 call	 __ftol2
  000ca	d8 4b 08	 fmul	 DWORD PTR [ebx+8]
  000cd	89 44 24 48	 mov	 DWORD PTR __nLinkX$229133[esp+260], eax
  000d1	e8 00 00 00 00	 call	 __ftol2
  000d6	33 ed		 xor	 ebp, ebp
  000d8	55		 push	 ebp
  000d9	55		 push	 ebp
  000da	8b ce		 mov	 ecx, esi
  000dc	89 44 24 54	 mov	 DWORD PTR __nLinkZ$229135[esp+268], eax
  000e0	89 6c 24 20	 mov	 DWORD PTR __i$229149[esp+268], ebp
  000e4	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  000e9	85 c0		 test	 eax, eax
  000eb	0f 8f 2f 03 00
	00		 jg	 $L229150
  000f1	5f		 pop	 edi
  000f2	5e		 pop	 esi
  000f3	5d		 pop	 ebp

; 620  : 		
; 621  : 	return FALSE;

  000f4	33 c0		 xor	 eax, eax
  000f6	5b		 pop	 ebx

; 622  : }

  000f7	81 c4 f4 00 00
	00		 add	 esp, 244		; 000000f4H
  000fd	c2 14 00	 ret	 20			; 00000014H
$L231744:

; 514  : 
; 515  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkDynamic, nLayer )

  00100	8b 6c 24 14	 mov	 ebp, DWORD PTR __i$229094[esp+260]
$L229095:
  00104	8b 8c 24 18 01
	00 00		 mov	 ecx, DWORD PTR _nLayer$[esp+256]
  0010b	51		 push	 ecx
  0010c	55		 push	 ebp
  0010d	6a 01		 push	 1
  0010f	8b ce		 mov	 ecx, esi
  00111	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  00116	8b 94 24 18 01
	00 00		 mov	 edx, DWORD PTR _nLayer$[esp+256]
  0011d	52		 push	 edx
  0011e	55		 push	 ebp
  0011f	6a 01		 push	 1
  00121	8b ce		 mov	 ecx, esi
  00123	8b d8		 mov	 ebx, eax
  00125	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  0012a	89 44 24 20	 mov	 DWORD PTR __pObjs$229098[esp+260], eax
  0012e	8b 47 04	 mov	 eax, DWORD PTR [edi+4]
  00131	8b e8		 mov	 ebp, eax
  00133	c1 e0 07	 shl	 eax, 7
  00136	0f af eb	 imul	 ebp, ebx
  00139	99		 cdq
  0013a	f7 fd		 idiv	 ebp
  0013c	8b 4f 08	 mov	 ecx, DWORD PTR [edi+8]
  0013f	0f af cb	 imul	 ecx, ebx
  00142	89 4c 24 18	 mov	 DWORD PTR __nMaxHeight$229084[esp+260], ecx
  00146	8b 4f 14	 mov	 ecx, DWORD PTR [edi+20]
  00149	8b f0		 mov	 esi, eax
  0014b	8b c1		 mov	 eax, ecx
  0014d	0f af c6	 imul	 eax, esi
  00150	99		 cdq
  00151	2b c2		 sub	 eax, edx
  00153	8b d8		 mov	 ebx, eax
  00155	8b 44 24 38	 mov	 eax, DWORD PTR __nLinkX$229078[esp+260]
  00159	99		 cdq
  0015a	f7 fe		 idiv	 esi
  0015c	d1 fb		 sar	 ebx, 1

; 620  : 		
; 621  : 	return FALSE;

  0015e	8b f8		 mov	 edi, eax
  00160	0f af f9	 imul	 edi, ecx
  00163	89 44 24 28	 mov	 DWORD PTR tv654[esp+260], eax
  00167	0f af fe	 imul	 edi, esi
  0016a	8b 84 24 0c 01
	00 00		 mov	 eax, DWORD PTR _vPos$[esp+256]
  00171	d9 00		 fld	 DWORD PTR [eax]
  00173	e8 00 00 00 00	 call	 __ftol2
  00178	2b c7		 sub	 eax, edi
  0017a	33 c9		 xor	 ecx, ecx
  0017c	3b c3		 cmp	 eax, ebx
  0017e	8b 44 24 4c	 mov	 eax, DWORD PTR __nLinkZ$229080[esp+260]
  00182	99		 cdq
  00183	0f 9f c1	 setg	 cl
  00186	f7 fe		 idiv	 esi
  00188	8b 7c 24 34	 mov	 edi, DWORD PTR _this$[esp+260]
  0018c	8b 94 24 0c 01
	00 00		 mov	 edx, DWORD PTR _vPos$[esp+256]
  00193	89 4c 24 1c	 mov	 DWORD PTR __nX$229090[esp+260], ecx
  00197	d9 42 08	 fld	 DWORD PTR [edx+8]
  0019a	89 44 24 10	 mov	 DWORD PTR tv660[esp+260], eax
  0019e	0f af 47 14	 imul	 eax, DWORD PTR [edi+20]
  001a2	0f af c6	 imul	 eax, esi
  001a5	89 44 24 24	 mov	 DWORD PTR tv895[esp+260], eax
  001a9	e8 00 00 00 00	 call	 __ftol2
  001ae	8b 4c 24 24	 mov	 ecx, DWORD PTR tv895[esp+260]
  001b2	8b 54 24 1c	 mov	 edx, DWORD PTR __nX$229090[esp+260]
  001b6	2b c1		 sub	 eax, ecx
  001b8	33 c9		 xor	 ecx, ecx
  001ba	3b c3		 cmp	 eax, ebx
  001bc	8b 44 24 28	 mov	 eax, DWORD PTR tv654[esp+260]
  001c0	0f 9f c1	 setg	 cl
  001c3	03 c2		 add	 eax, edx
  001c5	8d 70 ff	 lea	 esi, DWORD PTR [eax-1]
  001c8	85 f6		 test	 esi, esi
  001ca	89 74 24 2c	 mov	 DWORD PTR __nLinkXMin$229086[esp+260], esi
  001ce	7d 0c		 jge	 SHORT $L229102
  001d0	c7 44 24 2c 00
	00 00 00	 mov	 DWORD PTR __nLinkXMin$229086[esp+260], 0
  001d8	8b 74 24 2c	 mov	 esi, DWORD PTR __nLinkXMin$229086[esp+260]
$L229102:
  001dc	8b 54 24 10	 mov	 edx, DWORD PTR tv660[esp+260]
  001e0	03 d1		 add	 edx, ecx
  001e2	8d 4a ff	 lea	 ecx, DWORD PTR [edx-1]
  001e5	85 c9		 test	 ecx, ecx
  001e7	7d 02		 jge	 SHORT $L229103

; 514  : 
; 515  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkDynamic, nLayer )

  001e9	33 c9		 xor	 ecx, ecx
$L229103:
  001eb	3b c5		 cmp	 eax, ebp
  001ed	89 44 24 30	 mov	 DWORD PTR __nLinkXMax$229088[esp+260], eax
  001f1	7c 07		 jl	 SHORT $L229104
  001f3	8d 45 ff	 lea	 eax, DWORD PTR [ebp-1]
  001f6	89 44 24 30	 mov	 DWORD PTR __nLinkXMax$229088[esp+260], eax
$L229104:
  001fa	8b 44 24 18	 mov	 eax, DWORD PTR __nMaxHeight$229084[esp+260]
  001fe	3b d0		 cmp	 edx, eax
  00200	89 54 24 10	 mov	 DWORD PTR __nLinkZMax$229089[esp+260], edx
  00204	7c 05		 jl	 SHORT $L229105
  00206	48		 dec	 eax
  00207	89 44 24 10	 mov	 DWORD PTR __nLinkZMax$229089[esp+260], eax
$L229105:
  0020b	3b 4c 24 10	 cmp	 ecx, DWORD PTR __nLinkZMax$229089[esp+260]
  0020f	89 4c 24 28	 mov	 DWORD PTR __j$229106[esp+260], ecx
  00213	0f 8f 63 01 00
	00		 jg	 $L229096
  00219	8b 44 24 20	 mov	 eax, DWORD PTR __pObjs$229098[esp+260]
  0021d	0f af cd	 imul	 ecx, ebp
  00220	03 ce		 add	 ecx, esi
  00222	8d 14 ad 00 00
	00 00		 lea	 edx, DWORD PTR [ebp*4]
  00229	8d 0c 88	 lea	 ecx, DWORD PTR [eax+ecx*4]
  0022c	89 54 24 48	 mov	 DWORD PTR tv1046[esp+260], edx
  00230	89 4c 24 24	 mov	 DWORD PTR tv1043[esp+260], ecx
  00234	eb 0a 8d a4 24
	00 00 00 00 8d
	49 00		 npad	 12
$L229107:
  00240	3b 74 24 30	 cmp	 esi, DWORD PTR __nLinkXMax$229088[esp+260]
  00244	89 74 24 1c	 mov	 DWORD PTR __k$229110[esp+260], esi
  00248	0f 8f 0b 01 00
	00		 jg	 $L229108
  0024e	89 4c 24 18	 mov	 DWORD PTR tv1004[esp+260], ecx
$L229111:
  00252	8b 4c 24 18	 mov	 ecx, DWORD PTR tv1004[esp+260]
  00256	8b 19		 mov	 ebx, DWORD PTR [ecx]
  00258	85 db		 test	 ebx, ebx
  0025a	be e8 03 00 00	 mov	 esi, 1000		; 000003e8H
  0025f	0f 84 d0 00 00
	00		 je	 $L229112
$L229116:
  00265	8b d6		 mov	 edx, esi
  00267	4e		 dec	 esi
  00268	85 d2		 test	 edx, edx
  0026a	89 74 24 20	 mov	 DWORD PTR ___limit$229114[esp+260], esi
  0026e	0f 84 c1 00 00
	00		 je	 $L229112

; 516  : 	{
; 517  : 		if( pObj->GetType() == OT_CTRL ) 

  00274	83 bb 70 01 00
	00 02		 cmp	 DWORD PTR [ebx+368], 2
  0027b	0f 85 a6 00 00
	00		 jne	 $L231747

; 518  : 		{
; 519  : 			//  OBB .
; 520  : 			pModel = pObj->m_pModel;

  00281	8b ab 78 01 00
	00		 mov	 ebp, DWORD PTR [ebx+376]

; 521  : 			if( pModel->TestIntersectionOBB_Line( segment, pObj, FALSE ) == TRUE )

  00287	8b 45 00	 mov	 eax, DWORD PTR [ebp]
  0028a	6a 00		 push	 0
  0028c	53		 push	 ebx
  0028d	8d 4c 24 70	 lea	 ecx, DWORD PTR _segment$[esp+268]
  00291	51		 push	 ecx
  00292	8b cd		 mov	 ecx, ebp
  00294	ff 50 74	 call	 DWORD PTR [eax+116]
  00297	83 f8 01	 cmp	 eax, 1
  0029a	0f 85 87 00 00
	00		 jne	 $L231747

; 522  : 			{
; 523  : #if __VER >= 13 // __HOUSING
; 524  : 				BOOL IsColl;
; 525  : 
; 526  : 				if(GetID() == WI_WORLD_MINIROOM)

  002a0	81 3f d1 00 00
	00		 cmp	 DWORD PTR [edi], 209	; 000000d1H

; 527  : 					IsColl = ((CModelObject *)pModel)->GetObject3D()->SlideVectorXZ2( &vSlide, &vIntersect, vPos, vEnd, pObj->GetMatrixWorld());

  002a6	8b ad d8 00 00
	00		 mov	 ebp, DWORD PTR [ebp+216]
  002ac	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  002b1	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  002b7	75 2c		 jne	 SHORT $L229121
  002b9	6a 01		 push	 1
  002bb	8d 94 24 c8 00
	00 00		 lea	 edx, DWORD PTR $T231648[esp+264]
  002c2	52		 push	 edx
  002c3	8d bc 24 cc 00
	00 00		 lea	 edi, DWORD PTR $T231648[esp+268]
  002ca	8d 44 24 58	 lea	 eax, DWORD PTR _vEnd$[esp+268]
  002ce	50		 push	 eax
  002cf	f3 a5		 rep movsd
  002d1	8b 8c 24 18 01
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+268]
  002d8	51		 push	 ecx
  002d9	8d 54 24 6c	 lea	 edx, DWORD PTR _vIntersect$[esp+276]
  002dd	52		 push	 edx
  002de	8d 44 24 50	 lea	 eax, DWORD PTR _vSlide$[esp+280]
  002e2	50		 push	 eax

; 528  : 				else

  002e3	eb 2a		 jmp	 SHORT $L231749
$L229121:

; 529  : 					IsColl = ((CModelObject *)pModel)->GetObject3D()->SlideVectorXZ2( &vSlide, &vIntersect, vPos, vEnd, pObj->GetMatrixWorld(), 0);

  002e5	8b 84 24 0c 01
	00 00		 mov	 eax, DWORD PTR _vPos$[esp+256]
  002ec	6a 00		 push	 0
  002ee	8d bc 24 88 00
	00 00		 lea	 edi, DWORD PTR $T231649[esp+264]
  002f5	f3 a5		 rep movsd
  002f7	8d 8c 24 88 00
	00 00		 lea	 ecx, DWORD PTR $T231649[esp+264]
  002fe	51		 push	 ecx
  002ff	8d 54 24 58	 lea	 edx, DWORD PTR _vEnd$[esp+268]
  00303	52		 push	 edx
  00304	50		 push	 eax
  00305	8d 4c 24 6c	 lea	 ecx, DWORD PTR _vIntersect$[esp+276]
  00309	51		 push	 ecx
  0030a	8d 54 24 50	 lea	 edx, DWORD PTR _vSlide$[esp+280]
  0030e	52		 push	 edx
$L231749:
  0030f	8b cd		 mov	 ecx, ebp
  00311	e8 00 00 00 00	 call	 ?SlideVectorXZ2@CObject3D@@QAEHPAUD3DXVECTOR3@@0ABU2@1ABUD3DXMATRIX@@H@Z ; CObject3D::SlideVectorXZ2

; 530  : 
; 531  : 				if(IsColl == TRUE)

  00316	83 f8 01	 cmp	 eax, 1
  00319	0f 84 8e 00 00
	00		 je	 $L231734
  0031f	8b 7c 24 34	 mov	 edi, DWORD PTR _this$[esp+260]
  00323	8b 74 24 20	 mov	 esi, DWORD PTR ___limit$229114[esp+260]
$L231747:

; 552  : 				}
; 553  : 			}
; 554  : 		}
; 555  : 	}
; 556  : 	END_LINKMAP

  00327	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  0032d	85 db		 test	 ebx, ebx
  0032f	0f 85 30 ff ff
	ff		 jne	 $L229116
$L229112:

; 514  : 
; 515  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkDynamic, nLayer )

  00335	8b 44 24 1c	 mov	 eax, DWORD PTR __k$229110[esp+260]
  00339	8b 54 24 18	 mov	 edx, DWORD PTR tv1004[esp+260]
  0033d	8b 4c 24 30	 mov	 ecx, DWORD PTR __nLinkXMax$229088[esp+260]
  00341	40		 inc	 eax
  00342	83 c2 04	 add	 edx, 4
  00345	3b c1		 cmp	 eax, ecx
  00347	89 44 24 1c	 mov	 DWORD PTR __k$229110[esp+260], eax
  0034b	89 54 24 18	 mov	 DWORD PTR tv1004[esp+260], edx
  0034f	0f 8e fd fe ff
	ff		 jle	 $L229111
  00355	8b 74 24 2c	 mov	 esi, DWORD PTR __nLinkXMin$229086[esp+260]
$L229108:
  00359	8b 44 24 28	 mov	 eax, DWORD PTR __j$229106[esp+260]
  0035d	8b 4c 24 24	 mov	 ecx, DWORD PTR tv1043[esp+260]
  00361	8b 5c 24 48	 mov	 ebx, DWORD PTR tv1046[esp+260]
  00365	8b 54 24 10	 mov	 edx, DWORD PTR __nLinkZMax$229089[esp+260]
  00369	40		 inc	 eax
  0036a	03 cb		 add	 ecx, ebx
  0036c	3b c2		 cmp	 eax, edx
  0036e	89 44 24 28	 mov	 DWORD PTR __j$229106[esp+260], eax
  00372	89 4c 24 24	 mov	 DWORD PTR tv1043[esp+260], ecx
  00376	0f 8e c4 fe ff
	ff		 jle	 $L229107
$L229096:
  0037c	8b 84 24 18 01
	00 00		 mov	 eax, DWORD PTR _nLayer$[esp+256]
  00383	8b 5c 24 14	 mov	 ebx, DWORD PTR __i$229094[esp+260]
  00387	50		 push	 eax
  00388	8d 77 24	 lea	 esi, DWORD PTR [edi+36]
  0038b	43		 inc	 ebx
  0038c	6a 01		 push	 1
  0038e	8b ce		 mov	 ecx, esi
  00390	89 5c 24 1c	 mov	 DWORD PTR __i$229094[esp+268], ebx
  00394	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  00399	3b d8		 cmp	 ebx, eax
  0039b	0f 8c 5f fd ff
	ff		 jl	 $L231744

; 566  : 		{
; 567  : 			//    .   slide vector 
; 568  : 			//    FALSE .
; 569  : 			if( ((CModelObject *)pModel)->GetObject3D()->SlideVectorXZ2( &vSlide, &vIntersect, vPos, vEnd, pObj->GetMatrixWorld() ) == TRUE )

  003a1	8b 9c 24 0c 01
	00 00		 mov	 ebx, DWORD PTR _vPos$[esp+256]
  003a8	e9 0b fd ff ff	 jmp	 $L229097
$L231734:

; 532  : #else // __HOUSING
; 533  : 				if( ((CModelObject *)pModel)->GetObject3D()->SlideVectorXZ2( &vSlide, &vIntersect, vPos, vEnd, pObj->GetMatrixWorld(), 0 ) == TRUE )
; 534  : #endif // __HOUSING
; 535  : 				{
; 536  : 					//     . .
; 537  : 					D3DXVECTOR3 vE = vIntersect + vSlide;		//  .
; 538  : 					*pOut = vSlide;

  003ad	8b b4 24 08 01
	00 00		 mov	 esi, DWORD PTR _pOut$[esp+256]
  003b4	8b 54 24 3c	 mov	 edx, DWORD PTR _vSlide$[esp+260]
  003b8	8b 44 24 40	 mov	 eax, DWORD PTR _vSlide$[esp+264]
  003bc	8b ce		 mov	 ecx, esi
  003be	89 11		 mov	 DWORD PTR [ecx], edx
  003c0	8b 54 24 44	 mov	 edx, DWORD PTR _vSlide$[esp+268]
  003c4	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 539  : 					if( ++nSlideCnt <= 1 )

  003c7	8b 84 24 14 01
	00 00		 mov	 eax, DWORD PTR _nSlideCnt$[esp+256]
  003ce	40		 inc	 eax
  003cf	83 f8 01	 cmp	 eax, 1
  003d2	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  003d5	7f 2e		 jg	 SHORT $L229132

; 540  : 					{
; 541  : #ifdef __LAYER_1015
; 542  : 						int r = ProcessCollision( pOut, vPos, vSlide, nSlideCnt, nLayer );	//      .

  003d7	8b 8c 24 18 01
	00 00		 mov	 ecx, DWORD PTR _nLayer$[esp+256]
  003de	51		 push	 ecx
  003df	8b 4c 24 38	 mov	 ecx, DWORD PTR _this$[esp+264]
  003e3	50		 push	 eax
  003e4	8b 84 24 14 01
	00 00		 mov	 eax, DWORD PTR _vPos$[esp+264]
  003eb	8d 54 24 44	 lea	 edx, DWORD PTR _vSlide$[esp+268]
  003ef	52		 push	 edx
  003f0	50		 push	 eax
  003f1	56		 push	 esi
  003f2	e8 00 00 00 00	 call	 ?ProcessCollision@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HH@Z ; CWorld::ProcessCollision

; 543  : #else	//__LAYER_1015
; 544  : 						int r = ProcessCollision( pOut, vPos, vSlide, nSlideCnt );	//      .
; 545  : #endif	// __LAYER_1015
; 546  : 						if( r )

  003f7	85 c0		 test	 eax, eax
  003f9	74 0a		 je	 SHORT $L229132

; 547  : 						{
; 548  : 							pOut->x = pOut->y = pOut->z = 0;	// 2    .

  003fb	33 c0		 xor	 eax, eax
  003fd	89 46 08	 mov	 DWORD PTR [esi+8], eax
  00400	89 46 04	 mov	 DWORD PTR [esi+4], eax
  00403	89 06		 mov	 DWORD PTR [esi], eax
$L229132:
  00405	5f		 pop	 edi
  00406	5e		 pop	 esi
  00407	5d		 pop	 ebp

; 549  : 						}
; 550  : 					}
; 551  : 					return 1;

  00408	b8 01 00 00 00	 mov	 eax, 1
  0040d	5b		 pop	 ebx

; 622  : }

  0040e	81 c4 f4 00 00
	00		 add	 esp, 244		; 000000f4H
  00414	c2 14 00	 ret	 20			; 00000014H
$L231745:

; 557  : 		
; 558  : 		
; 559  :  	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00417	8b 6c 24 18	 mov	 ebp, DWORD PTR __i$229149[esp+260]
  0041b	eb 03 8d 49 00	 npad	 5
$L229150:
  00420	6a 00		 push	 0
  00422	55		 push	 ebp
  00423	6a 00		 push	 0
  00425	8b ce		 mov	 ecx, esi
  00427	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  0042c	6a 00		 push	 0
  0042e	55		 push	 ebp
  0042f	6a 00		 push	 0
  00431	8b ce		 mov	 ecx, esi
  00433	8b d8		 mov	 ebx, eax
  00435	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  0043a	89 44 24 14	 mov	 DWORD PTR __pObjs$229153[esp+260], eax
  0043e	8b 47 04	 mov	 eax, DWORD PTR [edi+4]
  00441	8b e8		 mov	 ebp, eax
  00443	c1 e0 07	 shl	 eax, 7
  00446	0f af eb	 imul	 ebp, ebx
  00449	99		 cdq
  0044a	f7 fd		 idiv	 ebp
  0044c	8b 4f 08	 mov	 ecx, DWORD PTR [edi+8]
  0044f	8b 7f 14	 mov	 edi, DWORD PTR [edi+20]
  00452	0f af cb	 imul	 ecx, ebx
  00455	89 4c 24 1c	 mov	 DWORD PTR __nMaxHeight$229139[esp+260], ecx
  00459	8b 8c 24 0c 01
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+256]
  00460	d9 01		 fld	 DWORD PTR [ecx]
  00462	8b f0		 mov	 esi, eax
  00464	8b c7		 mov	 eax, edi
  00466	0f af c6	 imul	 eax, esi
  00469	99		 cdq
  0046a	2b c2		 sub	 eax, edx
  0046c	8b d8		 mov	 ebx, eax
  0046e	8b 44 24 48	 mov	 eax, DWORD PTR __nLinkX$229133[esp+260]
  00472	99		 cdq
  00473	f7 fe		 idiv	 esi
  00475	d1 fb		 sar	 ebx, 1
  00477	89 44 24 38	 mov	 DWORD PTR tv756[esp+260], eax

; 620  : 		
; 621  : 	return FALSE;

  0047b	0f af c7	 imul	 eax, edi
  0047e	0f af c6	 imul	 eax, esi
  00481	89 44 24 20	 mov	 DWORD PTR tv893[esp+260], eax
  00485	e8 00 00 00 00	 call	 __ftol2
  0048a	8b 4c 24 20	 mov	 ecx, DWORD PTR tv893[esp+260]
  0048e	2b c1		 sub	 eax, ecx
  00490	33 d2		 xor	 edx, edx
  00492	3b c3		 cmp	 eax, ebx
  00494	8b 44 24 4c	 mov	 eax, DWORD PTR __nLinkZ$229135[esp+260]
  00498	0f 9f c2	 setg	 dl
  0049b	8b 7c 24 34	 mov	 edi, DWORD PTR _this$[esp+260]
  0049f	8b 8c 24 0c 01
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+256]
  004a6	d9 41 08	 fld	 DWORD PTR [ecx+8]
  004a9	89 54 24 24	 mov	 DWORD PTR __nX$229145[esp+260], edx
  004ad	99		 cdq
  004ae	f7 fe		 idiv	 esi
  004b0	89 44 24 28	 mov	 DWORD PTR tv761[esp+260], eax
  004b4	0f af 47 14	 imul	 eax, DWORD PTR [edi+20]
  004b8	0f af c6	 imul	 eax, esi
  004bb	89 44 24 20	 mov	 DWORD PTR tv891[esp+260], eax
  004bf	e8 00 00 00 00	 call	 __ftol2
  004c4	8b 4c 24 20	 mov	 ecx, DWORD PTR tv891[esp+260]
  004c8	8b 54 24 38	 mov	 edx, DWORD PTR tv756[esp+260]
  004cc	2b c1		 sub	 eax, ecx
  004ce	33 c9		 xor	 ecx, ecx
  004d0	3b c3		 cmp	 eax, ebx
  004d2	8b 44 24 24	 mov	 eax, DWORD PTR __nX$229145[esp+260]
  004d6	0f 9f c1	 setg	 cl
  004d9	03 c2		 add	 eax, edx
  004db	8d 70 ff	 lea	 esi, DWORD PTR [eax-1]
  004de	85 f6		 test	 esi, esi
  004e0	89 74 24 2c	 mov	 DWORD PTR __nLinkXMin$229141[esp+260], esi
  004e4	7d 0c		 jge	 SHORT $L229157
  004e6	c7 44 24 2c 00
	00 00 00	 mov	 DWORD PTR __nLinkXMin$229141[esp+260], 0
  004ee	8b 74 24 2c	 mov	 esi, DWORD PTR __nLinkXMin$229141[esp+260]
$L229157:
  004f2	8b 54 24 28	 mov	 edx, DWORD PTR tv761[esp+260]
  004f6	03 d1		 add	 edx, ecx
  004f8	8d 4a ff	 lea	 ecx, DWORD PTR [edx-1]
  004fb	85 c9		 test	 ecx, ecx
  004fd	7d 02		 jge	 SHORT $L229158

; 557  : 		
; 558  : 		
; 559  :  	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  004ff	33 c9		 xor	 ecx, ecx
$L229158:
  00501	3b c5		 cmp	 eax, ebp
  00503	89 44 24 10	 mov	 DWORD PTR __nLinkXMax$229143[esp+260], eax
  00507	7c 07		 jl	 SHORT $L229159
  00509	8d 45 ff	 lea	 eax, DWORD PTR [ebp-1]
  0050c	89 44 24 10	 mov	 DWORD PTR __nLinkXMax$229143[esp+260], eax
$L229159:
  00510	8b 44 24 1c	 mov	 eax, DWORD PTR __nMaxHeight$229139[esp+260]
  00514	3b d0		 cmp	 edx, eax
  00516	89 54 24 30	 mov	 DWORD PTR __nLinkZMax$229144[esp+260], edx
  0051a	7c 05		 jl	 SHORT $L229160
  0051c	48		 dec	 eax
  0051d	89 44 24 30	 mov	 DWORD PTR __nLinkZMax$229144[esp+260], eax
$L229160:
  00521	3b 4c 24 30	 cmp	 ecx, DWORD PTR __nLinkZMax$229144[esp+260]
  00525	89 4c 24 28	 mov	 DWORD PTR __j$229161[esp+260], ecx
  00529	0f 8f 0d 01 00
	00		 jg	 $L229151
  0052f	8b 44 24 14	 mov	 eax, DWORD PTR __pObjs$229153[esp+260]
  00533	0f af cd	 imul	 ecx, ebp
  00536	03 ce		 add	 ecx, esi
  00538	8d 14 ad 00 00
	00 00		 lea	 edx, DWORD PTR [ebp*4]
  0053f	8d 0c 88	 lea	 ecx, DWORD PTR [eax+ecx*4]
  00542	89 54 24 38	 mov	 DWORD PTR tv1122[esp+260], edx
  00546	89 4c 24 1c	 mov	 DWORD PTR tv1119[esp+260], ecx
  0054a	8d 9b 00 00 00
	00		 npad	 6
$L229162:
  00550	3b 74 24 10	 cmp	 esi, DWORD PTR __nLinkXMax$229143[esp+260]
  00554	89 74 24 24	 mov	 DWORD PTR __k$229165[esp+260], esi
  00558	0f 8f bb 00 00
	00		 jg	 $L229163
  0055e	89 4c 24 14	 mov	 DWORD PTR tv1080[esp+260], ecx
$L229166:
  00562	8b 4c 24 14	 mov	 ecx, DWORD PTR tv1080[esp+260]
  00566	8b 19		 mov	 ebx, DWORD PTR [ecx]
  00568	85 db		 test	 ebx, ebx
  0056a	be e8 03 00 00	 mov	 esi, 1000		; 000003e8H
  0056f	0f 84 80 00 00
	00		 je	 $L229167
$L229171:
  00575	8b d6		 mov	 edx, esi
  00577	4e		 dec	 esi
  00578	85 d2		 test	 edx, edx
  0057a	89 74 24 20	 mov	 DWORD PTR ___limit$229169[esp+260], esi
  0057e	74 75		 je	 SHORT $L229167

; 560  : 	{
; 561  : 		//  OBB .
; 562  : 		pModel = pObj->m_pModel;

  00580	8b ab 78 01 00
	00		 mov	 ebp, DWORD PTR [ebx+376]

; 563  : 		
; 564  : 		//sun!!
; 565  : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  00586	8b 45 00	 mov	 eax, DWORD PTR [ebp]
  00589	6a 01		 push	 1
  0058b	53		 push	 ebx
  0058c	8d 4c 24 70	 lea	 ecx, DWORD PTR _segment$[esp+268]
  00590	51		 push	 ecx
  00591	8b cd		 mov	 ecx, ebp
  00593	ff 50 74	 call	 DWORD PTR [eax+116]
  00596	83 f8 01	 cmp	 eax, 1
  00599	75 50		 jne	 SHORT $L229176

; 566  : 		{
; 567  : 			//    .   slide vector 
; 568  : 			//    FALSE .
; 569  : 			if( ((CModelObject *)pModel)->GetObject3D()->SlideVectorXZ2( &vSlide, &vIntersect, vPos, vEnd, pObj->GetMatrixWorld() ) == TRUE )

  0059b	50		 push	 eax
  0059c	8d 94 24 88 00
	00 00		 lea	 edx, DWORD PTR $T231650[esp+264]
  005a3	52		 push	 edx
  005a4	8b 94 24 14 01
	00 00		 mov	 edx, DWORD PTR _vPos$[esp+264]
  005ab	8d 44 24 58	 lea	 eax, DWORD PTR _vEnd$[esp+268]
  005af	50		 push	 eax
  005b0	52		 push	 edx
  005b1	8d 44 24 6c	 lea	 eax, DWORD PTR _vIntersect$[esp+276]
  005b5	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  005bb	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  005c0	8d bc 24 94 00
	00 00		 lea	 edi, DWORD PTR $T231650[esp+276]
  005c7	50		 push	 eax
  005c8	8d 54 24 50	 lea	 edx, DWORD PTR _vSlide$[esp+280]
  005cc	f3 a5		 rep movsd
  005ce	8b 8d d8 00 00
	00		 mov	 ecx, DWORD PTR [ebp+216]
  005d4	52		 push	 edx
  005d5	e8 00 00 00 00	 call	 ?SlideVectorXZ2@CObject3D@@QAEHPAUD3DXVECTOR3@@0ABU2@1ABUD3DXMATRIX@@H@Z ; CObject3D::SlideVectorXZ2
  005da	83 f8 01	 cmp	 eax, 1
  005dd	0f 84 87 00 00
	00		 je	 $L231735
  005e3	8b 7c 24 34	 mov	 edi, DWORD PTR _this$[esp+260]
  005e7	8b 74 24 20	 mov	 esi, DWORD PTR ___limit$229169[esp+260]
$L229176:

; 578  : #else	// __LAYER_1015
; 579  : 					int r = ProcessCollision( pOut, vPos, vSlide, nSlideCnt );	//      .
; 580  : #endif	// __LAYER_1015
; 581  : 					if( r )	//      .
; 582  : 					{
; 583  : 						pOut->x = pOut->y = pOut->z = 0;	// 2    .
; 584  : 					}
; 585  : 				}
; 586  : 				else if( nSlideCnt <= 1 )
; 587  : 				{	
; 588  : #ifdef __LAYER_1015
; 589  : 					int r = ProcessCollision( pOut, vPos, vSlide, nSlideCnt, nLayer );	//      .
; 590  : #else	// __LAYER_1015
; 591  : 					int r = ProcessCollision( pOut, vPos, vSlide, nSlideCnt );	//      .
; 592  : #endif	// __LAYER_1015
; 593  : 					if( r )	//      .
; 594  : 					{
; 595  : 						pOut->x = pOut->y = pOut->z = 0;	// 2    .
; 596  : 					}
; 597  : 				}
; 598  : 			#else
; 599  : 				D3DXVECTOR3 vE = vIntersect + vSlide;
; 600  : 				*pOut = vSlide;
; 601  : 
; 602  : 				if( ++nSlideCnt <= 1 )
; 603  : 				{	
; 604  : #ifdef __LAYER_1015
; 605  : 					int r = ProcessCollision( pOut, vPos, vSlide, nSlideCnt, nLayer );	//      .
; 606  : #else	// __LAYER_1015
; 607  : 					int r = ProcessCollision( pOut, vPos, vSlide, nSlideCnt );	//      .
; 608  : #endif	// __LAYER_1015
; 609  : 					if( r )	//      .
; 610  : 					{
; 611  : 						pOut->x = pOut->y = pOut->z = 0;	// 2    .
; 612  : 					}
; 613  : 				}
; 614  : #endif
; 615  : 				return 2;
; 616  : 			}
; 617  : 		}
; 618  : 	}
; 619  : 	END_LINKMAP

  005eb	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  005f1	85 db		 test	 ebx, ebx
  005f3	75 80		 jne	 SHORT $L229171
$L229167:

; 557  : 		
; 558  : 		
; 559  :  	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  005f5	8b 44 24 24	 mov	 eax, DWORD PTR __k$229165[esp+260]
  005f9	8b 54 24 14	 mov	 edx, DWORD PTR tv1080[esp+260]
  005fd	8b 4c 24 10	 mov	 ecx, DWORD PTR __nLinkXMax$229143[esp+260]
  00601	40		 inc	 eax
  00602	83 c2 04	 add	 edx, 4
  00605	3b c1		 cmp	 eax, ecx
  00607	89 44 24 24	 mov	 DWORD PTR __k$229165[esp+260], eax
  0060b	89 54 24 14	 mov	 DWORD PTR tv1080[esp+260], edx
  0060f	0f 8e 4d ff ff
	ff		 jle	 $L229166
  00615	8b 74 24 2c	 mov	 esi, DWORD PTR __nLinkXMin$229141[esp+260]
$L229163:
  00619	8b 44 24 28	 mov	 eax, DWORD PTR __j$229161[esp+260]
  0061d	8b 4c 24 1c	 mov	 ecx, DWORD PTR tv1119[esp+260]
  00621	8b 5c 24 38	 mov	 ebx, DWORD PTR tv1122[esp+260]
  00625	8b 54 24 30	 mov	 edx, DWORD PTR __nLinkZMax$229144[esp+260]
  00629	40		 inc	 eax
  0062a	03 cb		 add	 ecx, ebx
  0062c	3b c2		 cmp	 eax, edx
  0062e	89 44 24 28	 mov	 DWORD PTR __j$229161[esp+260], eax
  00632	89 4c 24 1c	 mov	 DWORD PTR tv1119[esp+260], ecx
  00636	0f 8e 14 ff ff
	ff		 jle	 $L229162
$L229151:
  0063c	8b 5c 24 18	 mov	 ebx, DWORD PTR __i$229149[esp+260]
  00640	6a 00		 push	 0
  00642	8d 77 24	 lea	 esi, DWORD PTR [edi+36]
  00645	43		 inc	 ebx
  00646	6a 00		 push	 0
  00648	8b ce		 mov	 ecx, esi
  0064a	89 5c 24 20	 mov	 DWORD PTR __i$229149[esp+268], ebx
  0064e	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  00653	3b d8		 cmp	 ebx, eax
  00655	0f 8c bc fd ff
	ff		 jl	 $L231745
  0065b	5f		 pop	 edi
  0065c	5e		 pop	 esi
  0065d	5d		 pop	 ebp

; 620  : 		
; 621  : 	return FALSE;

  0065e	33 c0		 xor	 eax, eax
  00660	5b		 pop	 ebx

; 622  : }

  00661	81 c4 f4 00 00
	00		 add	 esp, 244		; 000000f4H
  00667	c2 14 00	 ret	 20			; 00000014H
$L231735:

; 570  : 			{
; 571  : 				//D3DXVECTOR3 vE = vIntersect + vSlide;
; 572  : 				*pOut = vSlide;

  0066a	8b b4 24 08 01
	00 00		 mov	 esi, DWORD PTR _pOut$[esp+256]
  00671	8b 4c 24 3c	 mov	 ecx, DWORD PTR _vSlide$[esp+260]
  00675	8b 54 24 40	 mov	 edx, DWORD PTR _vSlide$[esp+264]
  00679	8b c6		 mov	 eax, esi
  0067b	89 08		 mov	 DWORD PTR [eax], ecx
  0067d	8b 4c 24 44	 mov	 ecx, DWORD PTR _vSlide$[esp+268]
  00681	89 50 04	 mov	 DWORD PTR [eax+4], edx
  00684	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 573  : 			#if __VER >= 11 // __FIX_COLLISION	
; 574  : 				if( (++nSlideCnt <= 1) && ((D3DXVec3Length(&vDir) < 3.0f)) )

  00687	8b 8c 24 14 01
	00 00		 mov	 ecx, DWORD PTR _nSlideCnt$[esp+256]
  0068e	41		 inc	 ecx
  0068f	83 f9 01	 cmp	 ecx, 1
  00692	7f 60		 jg	 SHORT $L229183
  00694	8b 84 24 10 01
	00 00		 mov	 eax, DWORD PTR _vDir$[esp+256]
  0069b	d9 40 08	 fld	 DWORD PTR [eax+8]

; 575  : 				{
; 576  : #ifdef __LAYER_1015
; 577  : 					int r = ProcessCollision( pOut, vPos, vSlide, nSlideCnt, nLayer );	//      .

  0069e	8b 94 24 18 01
	00 00		 mov	 edx, DWORD PTR _nLayer$[esp+256]
  006a5	d9 40 04	 fld	 DWORD PTR [eax+4]
  006a8	52		 push	 edx
  006a9	d9 00		 fld	 DWORD PTR [eax]
  006ab	51		 push	 ecx
  006ac	d9 c0		 fld	 ST(0)
  006ae	8b 8c 24 14 01
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+264]
  006b5	d8 c9		 fmul	 ST(0), ST(1)
  006b7	d9 c2		 fld	 ST(2)
  006b9	d8 cb		 fmul	 ST(0), ST(3)

; 620  : 		
; 621  : 	return FALSE;

  006bb	de c1		 faddp	 ST(1), ST(0)
  006bd	d9 c3		 fld	 ST(3)
  006bf	d8 cc		 fmul	 ST(0), ST(4)
  006c1	de c1		 faddp	 ST(1), ST(0)
  006c3	d9 fa		 fsqrt
  006c5	dd db		 fstp	 ST(3)
  006c7	dd d8		 fstp	 ST(0)
  006c9	dd d8		 fstp	 ST(0)
  006cb	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@40400000
  006d1	df e0		 fnstsw	 ax
  006d3	f6 c4 05	 test	 ah, 5
  006d6	8d 44 24 44	 lea	 eax, DWORD PTR _vSlide$[esp+268]
  006da	50		 push	 eax
  006db	51		 push	 ecx
  006dc	8b 4c 24 44	 mov	 ecx, DWORD PTR _this$[esp+276]
  006e0	56		 push	 esi
  006e1	e8 00 00 00 00	 call	 ?ProcessCollision@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HH@Z ; CWorld::ProcessCollision
  006e6	85 c0		 test	 eax, eax
  006e8	74 0a		 je	 SHORT $L229183
  006ea	33 c0		 xor	 eax, eax
  006ec	89 46 08	 mov	 DWORD PTR [esi+8], eax
  006ef	89 46 04	 mov	 DWORD PTR [esi+4], eax
  006f2	89 06		 mov	 DWORD PTR [esi], eax
$L229183:
  006f4	5f		 pop	 edi
  006f5	5e		 pop	 esi
  006f6	5d		 pop	 ebp
  006f7	b8 02 00 00 00	 mov	 eax, 2
  006fc	5b		 pop	 ebx

; 622  : }

  006fd	81 c4 f4 00 00
	00		 add	 esp, 244		; 000000f4H
  00703	c2 14 00	 ret	 20			; 00000014H
?ProcessCollision@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HH@Z ENDP ; CWorld::ProcessCollision
_TEXT	ENDS
PUBLIC	?ProcessCollisionReflection@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1H@Z ; CWorld::ProcessCollisionReflection
EXTRN	_D3DXVec3Normalize@8:NEAR
EXTRN	_D3DXVec3TransformCoord@12:NEAR
; Function compile flags: /Ogty
;	COMDAT ?ProcessCollisionReflection@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1H@Z
_TEXT	SEGMENT
_vN$ = -272						; size = 12
_v$231898 = -260					; size = 12
$T231764 = -260						; size = 12
$T231762 = -260						; size = 12
$T231761 = -260						; size = 12
tv1471 = -248						; size = 4
__pObjs$229273 = -248					; size = 4
__k$229235 = -248					; size = 4
__nX$229215 = -248					; size = 4
tv780 = -244						; size = 4
__j$229281 = -244					; size = 4
__nMaxHeight$229259 = -244				; size = 4
__j$229231 = -244					; size = 4
tv1395 = -240						; size = 4
tv1198 = -240						; size = 4
__k$229285 = -240					; size = 4
__nX$229265 = -240					; size = 4
tv1356 = -236						; size = 4
__i$229269 = -236					; size = 4
__nMaxHeight$229209 = -236				; size = 4
_this$ = -232						; size = 4
tv1432 = -228						; size = 4
__i$229219 = -228					; size = 4
__nLinkXMin$229261 = -224				; size = 4
__nLinkXMin$229211 = -224				; size = 4
__nLinkZMax$229264 = -220				; size = 4
__nLinkXMax$229213 = -220				; size = 4
__nLinkXMax$229263 = -216				; size = 4
__nLinkZMax$229214 = -216				; size = 4
tv1196 = -212						; size = 4
___limit$229289 = -212					; size = 4
__nLinkZ$229205 = -212					; size = 4
tv1474 = -208						; size = 4
tv934 = -208						; size = 4
__nLinkX$229203 = -208					; size = 4
__nLinkZ$229255 = -204					; size = 4
___limit$229239 = -204					; size = 4
__pObjs$229223 = -204					; size = 4
_v1$ = -200						; size = 12
_pTri$ = -188						; size = 12
$T231754 = -188						; size = 12
tv1398 = -176						; size = 4
__nLinkX$229253 = -176					; size = 4
_vEnd$ = -172						; size = 12
_fDist$ = -160						; size = 4
_mTM$ = -156						; size = 64
_segment$ = -92						; size = 28
$T231760 = -64						; size = 64
$T231755 = -64						; size = 64
_pOut$ = 8						; size = 4
_vPos$ = 12						; size = 4
_vDir$ = 16						; size = 4
_nRecusCnt$ = 20					; size = 4
?ProcessCollisionReflection@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1H@Z PROC NEAR ; CWorld::ProcessCollisionReflection, COMDAT
; _this$ = ecx

; 630  : {

  00000	81 ec 10 01 00
	00		 sub	 esp, 272		; 00000110H

; 631  : 	int nRange = 0;
; 632  : 	CObj	*pObj = NULL;
; 633  : 	CModel	*pModel = NULL;
; 634  : 	D3DXVECTOR3	vEnd, vIntersect, vN, v1;
; 635  : 	D3DXMATRIX mTM;
; 636  : 	FLOAT	fDist;
; 637  : 	D3DXVECTOR3	*pTri[3];
; 638  : 
; 639  : 	vEnd = vPos + vDir;		//   .

  00006	8b 84 24 1c 01
	00 00		 mov	 eax, DWORD PTR _vDir$[esp+268]
  0000d	53		 push	 ebx
  0000e	55		 push	 ebp
  0000f	56		 push	 esi
  00010	57		 push	 edi
  00011	8b bc 24 28 01
	00 00		 mov	 edi, DWORD PTR _vPos$[esp+284]
  00018	d9 07		 fld	 DWORD PTR [edi]
  0001a	8b e9		 mov	 ebp, ecx
  0001c	d8 00		 fadd	 DWORD PTR [eax]
  0001e	89 6c 24 38	 mov	 DWORD PTR _this$[esp+288], ebp
  00022	d9 5c 24 64	 fstp	 DWORD PTR $T231754[esp+288]
  00026	d9 47 04	 fld	 DWORD PTR [edi+4]
  00029	d8 40 04	 fadd	 DWORD PTR [eax+4]
  0002c	d9 5c 24 68	 fstp	 DWORD PTR $T231754[esp+292]
  00030	8b 4c 24 68	 mov	 ecx, DWORD PTR $T231754[esp+292]
  00034	d9 40 08	 fld	 DWORD PTR [eax+8]
  00037	8b 44 24 64	 mov	 eax, DWORD PTR $T231754[esp+288]
  0003b	d8 47 08	 fadd	 DWORD PTR [edi+8]
  0003e	89 44 24 74	 mov	 DWORD PTR _vEnd$[esp+288], eax

; 640  : 	Segment3 segment( vPos, vEnd );

  00042	8d 44 24 74	 lea	 eax, DWORD PTR _vEnd$[esp+288]
  00046	50		 push	 eax
  00047	d9 5c 24 70	 fstp	 DWORD PTR $T231754[esp+300]
  0004b	8b 54 24 70	 mov	 edx, DWORD PTR $T231754[esp+300]
  0004f	89 4c 24 7c	 mov	 DWORD PTR _vEnd$[esp+296], ecx
  00053	57		 push	 edi
  00054	8d 8c 24 cc 00
	00 00		 lea	 ecx, DWORD PTR _segment$[esp+296]
  0005b	89 94 24 84 00
	00 00		 mov	 DWORD PTR _vEnd$[esp+304], edx
  00062	e8 00 00 00 00	 call	 ??0Segment3@@QAE@ABUD3DXVECTOR3@@0@Z ; Segment3::Segment3

; 641  : 
; 642  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00067	db 45 14	 fild	 DWORD PTR [ebp+20]
  0006a	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  00070	d9 c0		 fld	 ST(0)
  00072	d8 0f		 fmul	 DWORD PTR [edi]
  00074	e8 00 00 00 00	 call	 __ftol2
  00079	d8 4f 08	 fmul	 DWORD PTR [edi+8]
  0007c	89 44 24 50	 mov	 DWORD PTR __nLinkX$229203[esp+288], eax
  00080	e8 00 00 00 00	 call	 __ftol2
  00085	33 db		 xor	 ebx, ebx
  00087	53		 push	 ebx
  00088	8d 75 24	 lea	 esi, DWORD PTR [ebp+36]
  0008b	53		 push	 ebx
  0008c	8b ce		 mov	 ecx, esi
  0008e	89 44 24 54	 mov	 DWORD PTR __nLinkZ$229205[esp+296], eax
  00092	89 5c 24 44	 mov	 DWORD PTR __i$229219[esp+296], ebx
  00096	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  0009b	85 c0		 test	 eax, eax
  0009d	0f 8e 57 02 00
	00		 jle	 $L229222
  000a3	eb 0b		 jmp	 SHORT $L229220
$L231948:
  000a5	8b 5c 24 3c	 mov	 ebx, DWORD PTR __i$229219[esp+288]
  000a9	8d a4 24 00 00
	00 00		 npad	 7
$L229220:
  000b0	6a 00		 push	 0
  000b2	53		 push	 ebx
  000b3	6a 00		 push	 0
  000b5	8b ce		 mov	 ecx, esi
  000b7	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  000bc	6a 00		 push	 0
  000be	53		 push	 ebx
  000bf	6a 00		 push	 0
  000c1	8b ce		 mov	 ecx, esi
  000c3	8b f8		 mov	 edi, eax
  000c5	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  000ca	89 44 24 54	 mov	 DWORD PTR __pObjs$229223[esp+288], eax
  000ce	8b 45 04	 mov	 eax, DWORD PTR [ebp+4]
  000d1	8b d8		 mov	 ebx, eax
  000d3	c1 e0 07	 shl	 eax, 7
  000d6	0f af df	 imul	 ebx, edi
  000d9	99		 cdq
  000da	f7 fb		 idiv	 ebx
  000dc	8b 4d 08	 mov	 ecx, DWORD PTR [ebp+8]
  000df	0f af cf	 imul	 ecx, edi
  000e2	89 4c 24 34	 mov	 DWORD PTR __nMaxHeight$229209[esp+288], ecx
  000e6	8b 4d 14	 mov	 ecx, DWORD PTR [ebp+20]
  000e9	8b f0		 mov	 esi, eax
  000eb	8b c1		 mov	 eax, ecx
  000ed	0f af c6	 imul	 eax, esi
  000f0	99		 cdq
  000f1	2b c2		 sub	 eax, edx
  000f3	8b f8		 mov	 edi, eax
  000f5	8b 44 24 50	 mov	 eax, DWORD PTR __nLinkX$229203[esp+288]
  000f9	99		 cdq
  000fa	f7 fe		 idiv	 esi
  000fc	d1 ff		 sar	 edi, 1

; 707  : 
; 708  : 	return FALSE;

  000fe	8b e8		 mov	 ebp, eax
  00100	0f af e9	 imul	 ebp, ecx
  00103	8b 8c 24 28 01
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+284]
  0010a	0f af ee	 imul	 ebp, esi
  0010d	d9 01		 fld	 DWORD PTR [ecx]
  0010f	89 44 24 2c	 mov	 DWORD PTR tv780[esp+288], eax
  00113	e8 00 00 00 00	 call	 __ftol2
  00118	2b c5		 sub	 eax, ebp
  0011a	33 d2		 xor	 edx, edx
  0011c	3b c7		 cmp	 eax, edi
  0011e	8b 44 24 4c	 mov	 eax, DWORD PTR __nLinkZ$229205[esp+288]
  00122	0f 9f c2	 setg	 dl
  00125	8b 4c 24 38	 mov	 ecx, DWORD PTR _this$[esp+288]
  00129	89 54 24 28	 mov	 DWORD PTR __nX$229215[esp+288], edx
  0012d	99		 cdq
  0012e	f7 fe		 idiv	 esi
  00130	8b 94 24 28 01
	00 00		 mov	 edx, DWORD PTR _vPos$[esp+284]
  00137	d9 42 08	 fld	 DWORD PTR [edx+8]
  0013a	8b e8		 mov	 ebp, eax
  0013c	0f af 41 14	 imul	 eax, DWORD PTR [ecx+20]
  00140	0f af c6	 imul	 eax, esi
  00143	89 44 24 30	 mov	 DWORD PTR tv1198[esp+288], eax
  00147	e8 00 00 00 00	 call	 __ftol2
  0014c	8b 4c 24 30	 mov	 ecx, DWORD PTR tv1198[esp+288]
  00150	8b 54 24 28	 mov	 edx, DWORD PTR __nX$229215[esp+288]
  00154	2b c1		 sub	 eax, ecx
  00156	33 c9		 xor	 ecx, ecx
  00158	3b c7		 cmp	 eax, edi
  0015a	8b 44 24 2c	 mov	 eax, DWORD PTR tv780[esp+288]
  0015e	0f 9f c1	 setg	 cl
  00161	03 c2		 add	 eax, edx
  00163	8d 50 ff	 lea	 edx, DWORD PTR [eax-1]
  00166	85 d2		 test	 edx, edx
  00168	89 54 24 40	 mov	 DWORD PTR __nLinkXMin$229211[esp+288], edx
  0016c	7d 08		 jge	 SHORT $L229227

; 641  : 
; 642  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  0016e	c7 44 24 40 00
	00 00 00	 mov	 DWORD PTR __nLinkXMin$229211[esp+288], 0
$L229227:
  00176	03 e9		 add	 ebp, ecx
  00178	8d 4d ff	 lea	 ecx, DWORD PTR [ebp-1]
  0017b	85 c9		 test	 ecx, ecx
  0017d	7d 02		 jge	 SHORT $L229228
  0017f	33 c9		 xor	 ecx, ecx
$L229228:
  00181	3b c3		 cmp	 eax, ebx
  00183	89 44 24 44	 mov	 DWORD PTR __nLinkXMax$229213[esp+288], eax
  00187	7c 07		 jl	 SHORT $L229229
  00189	8d 43 ff	 lea	 eax, DWORD PTR [ebx-1]
  0018c	89 44 24 44	 mov	 DWORD PTR __nLinkXMax$229213[esp+288], eax
$L229229:
  00190	8b 44 24 34	 mov	 eax, DWORD PTR __nMaxHeight$229209[esp+288]
  00194	3b e8		 cmp	 ebp, eax
  00196	89 6c 24 48	 mov	 DWORD PTR __nLinkZMax$229214[esp+288], ebp
  0019a	7c 05		 jl	 SHORT $L229230
  0019c	48		 dec	 eax
  0019d	89 44 24 48	 mov	 DWORD PTR __nLinkZMax$229214[esp+288], eax
$L229230:
  001a1	3b 4c 24 48	 cmp	 ecx, DWORD PTR __nLinkZMax$229214[esp+288]
  001a5	89 4c 24 2c	 mov	 DWORD PTR __j$229231[esp+288], ecx
  001a9	0f 8f 1d 01 00
	00		 jg	 $L229221
  001af	8b 44 24 40	 mov	 eax, DWORD PTR __nLinkXMin$229211[esp+288]
  001b3	0f af cb	 imul	 ecx, ebx
  001b6	8d 14 9d 00 00
	00 00		 lea	 edx, DWORD PTR [ebx*4]
  001bd	89 54 24 70	 mov	 DWORD PTR tv1398[esp+288], edx
  001c1	8b 54 24 54	 mov	 edx, DWORD PTR __pObjs$229223[esp+288]
  001c5	03 c8		 add	 ecx, eax
  001c7	8d 0c 8a	 lea	 ecx, DWORD PTR [edx+ecx*4]
  001ca	89 4c 24 30	 mov	 DWORD PTR tv1395[esp+288], ecx
  001ce	8b ff		 npad	 2
$L229232:
  001d0	3b 44 24 44	 cmp	 eax, DWORD PTR __nLinkXMax$229213[esp+288]
  001d4	89 44 24 28	 mov	 DWORD PTR __k$229235[esp+288], eax
  001d8	0f 8f cb 00 00
	00		 jg	 $L229233
  001de	89 4c 24 34	 mov	 DWORD PTR tv1356[esp+288], ecx
$L229236:
  001e2	8b 44 24 34	 mov	 eax, DWORD PTR tv1356[esp+288]
  001e6	8b 18		 mov	 ebx, DWORD PTR [eax]
  001e8	85 db		 test	 ebx, ebx
  001ea	be e8 03 00 00	 mov	 esi, 1000		; 000003e8H
  001ef	0f 84 90 00 00
	00		 je	 $L229237
$L229241:
  001f5	8b ce		 mov	 ecx, esi
  001f7	4e		 dec	 esi
  001f8	85 c9		 test	 ecx, ecx
  001fa	89 74 24 54	 mov	 DWORD PTR ___limit$229239[esp+288], esi
  001fe	0f 84 81 00 00
	00		 je	 $L229237

; 643  : 	{
; 644  : 		//  OBB .
; 645  : 		pModel = pObj->m_pModel;

  00204	8b ab 78 01 00
	00		 mov	 ebp, DWORD PTR [ebx+376]

; 646  : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  0020a	8b 55 00	 mov	 edx, DWORD PTR [ebp]
  0020d	6a 01		 push	 1
  0020f	53		 push	 ebx
  00210	8d 84 24 cc 00
	00 00		 lea	 eax, DWORD PTR _segment$[esp+296]
  00217	50		 push	 eax
  00218	8b cd		 mov	 ecx, ebp
  0021a	ff 52 74	 call	 DWORD PTR [edx+116]
  0021d	83 f8 01	 cmp	 eax, 1
  00220	75 55		 jne	 SHORT $L229246

; 647  : 		{
; 648  : 			//    .  pTri .
; 649  : 			((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTri, vPos, vEnd, pObj->GetMatrixWorld(), &fDist );

  00222	50		 push	 eax
  00223	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  00229	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  0022e	8d bc 24 e4 00
	00 00		 lea	 edi, DWORD PTR $T231755[esp+292]
  00235	f3 a5		 rep movsd
  00237	8d 8c 24 84 00
	00 00		 lea	 ecx, DWORD PTR _fDist$[esp+292]
  0023e	51		 push	 ecx
  0023f	8b 8c 24 30 01
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+292]
  00246	8d 94 24 e8 00
	00 00		 lea	 edx, DWORD PTR $T231755[esp+296]
  0024d	52		 push	 edx
  0024e	8d 84 24 80 00
	00 00		 lea	 eax, DWORD PTR _vEnd$[esp+300]
  00255	50		 push	 eax
  00256	51		 push	 ecx
  00257	8b 8d d8 00 00
	00		 mov	 ecx, DWORD PTR [ebp+216]
  0025d	8d 54 24 78	 lea	 edx, DWORD PTR _pTri$[esp+308]
  00261	52		 push	 edx
  00262	e8 00 00 00 00	 call	 ?FindTouchTriLine@CObject3D@@QAEXPAPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@PAMH@Z ; CObject3D::FindTouchTriLine

; 650  : 			if( *pTri )

  00267	8b 44 24 64	 mov	 eax, DWORD PTR _pTri$[esp+288]
  0026b	85 c0		 test	 eax, eax
  0026d	0f 85 2b 03 00
	00		 jne	 $L231932
  00273	8b 74 24 54	 mov	 esi, DWORD PTR ___limit$229239[esp+288]
$L229246:

; 651  : 			{
; 652  : 				// (2*(-D dot N)) * N + D
; 653  : 				v1 = *pTri[1] - *pTri[0];
; 654  : 				vN = *pTri[2] - *pTri[0];
; 655  : 				D3DXVec3Cross( &vN, &v1, &vN );
; 656  : 				mTM = pObj->GetMatrixWorld();
; 657  : 				mTM._41 = mTM._42 = mTM._43 = 0;
; 658  : 				D3DXVec3TransformCoord( &vN, &vN, &mTM );	// mTM      Normalize   .
; 659  : 				D3DXVec3Normalize( &vN, &vN );
; 660  : 				
; 661  : 				v1.x = -vDir.x;	v1.y = -vDir.y;	v1.z = -vDir.z;	// -D
; 662  : 				FLOAT fLenN = D3DXVec3Dot( &v1, &vN );			// -D dot N
; 663  : 				vN *= (fLenN * 2.0f);							// (-D dot N) * 2   N  .
; 664  : 				*pOut = vDir + vN;								//  .
; 665  : 
; 666  : 				if( nRecusCnt++ < 3 )
; 667  : 					ProcessCollisionReflection( pOut, vPos, *pOut, nRecusCnt );
; 668  : 				
; 669  : 				return TRUE;
; 670  : 			}
; 671  : 		}
; 672  : 	}
; 673  : 	END_LINKMAP

  00277	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  0027d	85 db		 test	 ebx, ebx
  0027f	0f 85 70 ff ff
	ff		 jne	 $L229241
$L229237:

; 641  : 
; 642  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  00285	8b 44 24 28	 mov	 eax, DWORD PTR __k$229235[esp+288]
  00289	8b 54 24 34	 mov	 edx, DWORD PTR tv1356[esp+288]
  0028d	8b 4c 24 44	 mov	 ecx, DWORD PTR __nLinkXMax$229213[esp+288]
  00291	40		 inc	 eax
  00292	83 c2 04	 add	 edx, 4
  00295	3b c1		 cmp	 eax, ecx
  00297	89 44 24 28	 mov	 DWORD PTR __k$229235[esp+288], eax
  0029b	89 54 24 34	 mov	 DWORD PTR tv1356[esp+288], edx
  0029f	0f 8e 3d ff ff
	ff		 jle	 $L229236
  002a5	8b 44 24 40	 mov	 eax, DWORD PTR __nLinkXMin$229211[esp+288]
$L229233:
  002a9	8b 54 24 2c	 mov	 edx, DWORD PTR __j$229231[esp+288]
  002ad	8b 4c 24 30	 mov	 ecx, DWORD PTR tv1395[esp+288]
  002b1	8b 7c 24 70	 mov	 edi, DWORD PTR tv1398[esp+288]
  002b5	8b 74 24 48	 mov	 esi, DWORD PTR __nLinkZMax$229214[esp+288]
  002b9	42		 inc	 edx
  002ba	03 cf		 add	 ecx, edi
  002bc	3b d6		 cmp	 edx, esi
  002be	89 54 24 2c	 mov	 DWORD PTR __j$229231[esp+288], edx
  002c2	89 4c 24 30	 mov	 DWORD PTR tv1395[esp+288], ecx
  002c6	0f 8e 04 ff ff
	ff		 jle	 $L229232
$L229221:
  002cc	8b 7c 24 3c	 mov	 edi, DWORD PTR __i$229219[esp+288]
  002d0	8b 74 24 38	 mov	 esi, DWORD PTR _this$[esp+288]
  002d4	6a 00		 push	 0
  002d6	83 c6 24	 add	 esi, 36			; 00000024H
  002d9	47		 inc	 edi
  002da	6a 00		 push	 0
  002dc	8b ce		 mov	 ecx, esi
  002de	89 7c 24 44	 mov	 DWORD PTR __i$229219[esp+296], edi
  002e2	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  002e7	3b f8		 cmp	 edi, eax

; 683  : 			if( *pTri )

  002e9	8b 6c 24 38	 mov	 ebp, DWORD PTR _this$[esp+288]
  002ed	0f 8c b2 fd ff
	ff		 jl	 $L231948
  002f3	8b bc 24 28 01
	00 00		 mov	 edi, DWORD PTR _vPos$[esp+284]
$L229222:

; 674  : 
; 675  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkAirShip, nDefaultLayer )

  002fa	db 45 14	 fild	 DWORD PTR [ebp+20]
  002fd	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  00303	d9 c0		 fld	 ST(0)
  00305	d8 0f		 fmul	 DWORD PTR [edi]
  00307	e8 00 00 00 00	 call	 __ftol2
  0030c	d8 4f 08	 fmul	 DWORD PTR [edi+8]
  0030f	89 44 24 70	 mov	 DWORD PTR __nLinkX$229253[esp+288], eax
  00313	e8 00 00 00 00	 call	 __ftol2
  00318	33 db		 xor	 ebx, ebx
  0031a	53		 push	 ebx
  0031b	6a 03		 push	 3
  0031d	8b ce		 mov	 ecx, esi
  0031f	89 44 24 5c	 mov	 DWORD PTR __nLinkZ$229255[esp+296], eax
  00323	89 5c 24 3c	 mov	 DWORD PTR __i$229269[esp+296], ebx
  00327	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  0032c	85 c0		 test	 eax, eax
  0032e	7f 17		 jg	 SHORT $L229270
  00330	5f		 pop	 edi
  00331	5e		 pop	 esi
  00332	5d		 pop	 ebp

; 707  : 
; 708  : 	return FALSE;

  00333	33 c0		 xor	 eax, eax
  00335	5b		 pop	 ebx

; 709  : }

  00336	81 c4 10 01 00
	00		 add	 esp, 272		; 00000110H
  0033c	c2 10 00	 ret	 16			; 00000010H
$L231947:

; 674  : 
; 675  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkAirShip, nDefaultLayer )

  0033f	8b 6c 24 38	 mov	 ebp, DWORD PTR _this$[esp+288]
  00343	8b 5c 24 34	 mov	 ebx, DWORD PTR __i$229269[esp+288]
$L229270:
  00347	6a 00		 push	 0
  00349	53		 push	 ebx
  0034a	6a 03		 push	 3
  0034c	8b ce		 mov	 ecx, esi
  0034e	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  00353	6a 00		 push	 0
  00355	53		 push	 ebx
  00356	6a 03		 push	 3
  00358	8b ce		 mov	 ecx, esi
  0035a	8b f8		 mov	 edi, eax
  0035c	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  00361	89 44 24 28	 mov	 DWORD PTR __pObjs$229273[esp+288], eax
  00365	8b 45 04	 mov	 eax, DWORD PTR [ebp+4]
  00368	8b d8		 mov	 ebx, eax
  0036a	c1 e0 07	 shl	 eax, 7
  0036d	0f af df	 imul	 ebx, edi
  00370	99		 cdq
  00371	f7 fb		 idiv	 ebx
  00373	8b 4d 08	 mov	 ecx, DWORD PTR [ebp+8]
  00376	0f af cf	 imul	 ecx, edi
  00379	89 4c 24 2c	 mov	 DWORD PTR __nMaxHeight$229259[esp+288], ecx
  0037d	8b 4d 14	 mov	 ecx, DWORD PTR [ebp+20]
  00380	8b f0		 mov	 esi, eax
  00382	8b c1		 mov	 eax, ecx
  00384	0f af c6	 imul	 eax, esi
  00387	99		 cdq
  00388	2b c2		 sub	 eax, edx
  0038a	8b f8		 mov	 edi, eax
  0038c	8b 44 24 70	 mov	 eax, DWORD PTR __nLinkX$229253[esp+288]
  00390	99		 cdq
  00391	f7 fe		 idiv	 esi
  00393	8b 94 24 28 01
	00 00		 mov	 edx, DWORD PTR _vPos$[esp+284]
  0039a	d1 ff		 sar	 edi, 1
  0039c	d9 02		 fld	 DWORD PTR [edx]

; 707  : 
; 708  : 	return FALSE;

  0039e	8b e8		 mov	 ebp, eax
  003a0	0f af e9	 imul	 ebp, ecx
  003a3	89 44 24 50	 mov	 DWORD PTR tv934[esp+288], eax
  003a7	0f af ee	 imul	 ebp, esi
  003aa	e8 00 00 00 00	 call	 __ftol2
  003af	2b c5		 sub	 eax, ebp
  003b1	33 c9		 xor	 ecx, ecx
  003b3	3b c7		 cmp	 eax, edi
  003b5	8b 44 24 54	 mov	 eax, DWORD PTR __nLinkZ$229255[esp+288]
  003b9	0f 9f c1	 setg	 cl
  003bc	99		 cdq
  003bd	f7 fe		 idiv	 esi
  003bf	8b 54 24 38	 mov	 edx, DWORD PTR _this$[esp+288]
  003c3	89 4c 24 30	 mov	 DWORD PTR __nX$229265[esp+288], ecx
  003c7	8b 8c 24 28 01
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+284]
  003ce	d9 41 08	 fld	 DWORD PTR [ecx+8]
  003d1	8b e8		 mov	 ebp, eax
  003d3	0f af 42 14	 imul	 eax, DWORD PTR [edx+20]
  003d7	0f af c6	 imul	 eax, esi
  003da	89 44 24 4c	 mov	 DWORD PTR tv1196[esp+288], eax
  003de	e8 00 00 00 00	 call	 __ftol2
  003e3	8b 4c 24 4c	 mov	 ecx, DWORD PTR tv1196[esp+288]
  003e7	8b 54 24 50	 mov	 edx, DWORD PTR tv934[esp+288]
  003eb	2b c1		 sub	 eax, ecx
  003ed	33 c9		 xor	 ecx, ecx
  003ef	3b c7		 cmp	 eax, edi
  003f1	8b 44 24 30	 mov	 eax, DWORD PTR __nX$229265[esp+288]
  003f5	0f 9f c1	 setg	 cl
  003f8	03 c2		 add	 eax, edx
  003fa	8d 50 ff	 lea	 edx, DWORD PTR [eax-1]
  003fd	85 d2		 test	 edx, edx
  003ff	89 54 24 40	 mov	 DWORD PTR __nLinkXMin$229261[esp+288], edx
  00403	7d 08		 jge	 SHORT $L229277

; 674  : 
; 675  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkAirShip, nDefaultLayer )

  00405	c7 44 24 40 00
	00 00 00	 mov	 DWORD PTR __nLinkXMin$229261[esp+288], 0
$L229277:
  0040d	03 e9		 add	 ebp, ecx
  0040f	8d 4d ff	 lea	 ecx, DWORD PTR [ebp-1]
  00412	85 c9		 test	 ecx, ecx
  00414	7d 02		 jge	 SHORT $L229278
  00416	33 c9		 xor	 ecx, ecx
$L229278:
  00418	3b c3		 cmp	 eax, ebx
  0041a	89 44 24 48	 mov	 DWORD PTR __nLinkXMax$229263[esp+288], eax
  0041e	7c 07		 jl	 SHORT $L229279
  00420	8d 53 ff	 lea	 edx, DWORD PTR [ebx-1]
  00423	89 54 24 48	 mov	 DWORD PTR __nLinkXMax$229263[esp+288], edx
$L229279:
  00427	8b 44 24 2c	 mov	 eax, DWORD PTR __nMaxHeight$229259[esp+288]
  0042b	3b e8		 cmp	 ebp, eax
  0042d	89 6c 24 44	 mov	 DWORD PTR __nLinkZMax$229264[esp+288], ebp
  00431	7c 05		 jl	 SHORT $L229280
  00433	48		 dec	 eax
  00434	89 44 24 44	 mov	 DWORD PTR __nLinkZMax$229264[esp+288], eax
$L229280:
  00438	3b 4c 24 44	 cmp	 ecx, DWORD PTR __nLinkZMax$229264[esp+288]
  0043c	89 4c 24 2c	 mov	 DWORD PTR __j$229281[esp+288], ecx
  00440	0f 8f 26 01 00
	00		 jg	 $L229271
  00446	8b 54 24 28	 mov	 edx, DWORD PTR __pObjs$229273[esp+288]
  0044a	0f af cb	 imul	 ecx, ebx
  0044d	8d 04 9d 00 00
	00 00		 lea	 eax, DWORD PTR [ebx*4]
  00454	89 44 24 50	 mov	 DWORD PTR tv1474[esp+288], eax
  00458	8b 44 24 40	 mov	 eax, DWORD PTR __nLinkXMin$229261[esp+288]
  0045c	03 c8		 add	 ecx, eax
  0045e	8d 0c 8a	 lea	 ecx, DWORD PTR [edx+ecx*4]
  00461	89 4c 24 28	 mov	 DWORD PTR tv1471[esp+288], ecx
  00465	eb 09 8d a4 24
	00 00 00 00 8b
	ff		 npad	 11
$L229282:
  00470	3b 44 24 48	 cmp	 eax, DWORD PTR __nLinkXMax$229263[esp+288]
  00474	89 44 24 30	 mov	 DWORD PTR __k$229285[esp+288], eax
  00478	0f 8f cb 00 00
	00		 jg	 $L229283
  0047e	89 4c 24 3c	 mov	 DWORD PTR tv1432[esp+288], ecx
$L229286:
  00482	8b 44 24 3c	 mov	 eax, DWORD PTR tv1432[esp+288]
  00486	8b 18		 mov	 ebx, DWORD PTR [eax]
  00488	85 db		 test	 ebx, ebx
  0048a	be e8 03 00 00	 mov	 esi, 1000		; 000003e8H
  0048f	0f 84 90 00 00
	00		 je	 $L229287
$L229291:
  00495	8b ce		 mov	 ecx, esi
  00497	4e		 dec	 esi
  00498	85 c9		 test	 ecx, ecx
  0049a	89 74 24 4c	 mov	 DWORD PTR ___limit$229289[esp+288], esi
  0049e	0f 84 81 00 00
	00		 je	 $L229287

; 676  : 	{
; 677  : 		//  OBB .
; 678  : 		pModel = pObj->m_pModel;

  004a4	8b ab 78 01 00
	00		 mov	 ebp, DWORD PTR [ebx+376]

; 679  : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  004aa	8b 55 00	 mov	 edx, DWORD PTR [ebp]
  004ad	6a 01		 push	 1
  004af	53		 push	 ebx
  004b0	8d 84 24 cc 00
	00 00		 lea	 eax, DWORD PTR _segment$[esp+296]
  004b7	50		 push	 eax
  004b8	8b cd		 mov	 ecx, ebp
  004ba	ff 52 74	 call	 DWORD PTR [edx+116]
  004bd	83 f8 01	 cmp	 eax, 1
  004c0	75 55		 jne	 SHORT $L229296

; 680  : 		{
; 681  : 			//    .  pTri .
; 682  : 			((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTri, vPos, vEnd, pObj->GetMatrixWorld(), &fDist );

  004c2	50		 push	 eax
  004c3	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  004c9	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  004ce	8d bc 24 e4 00
	00 00		 lea	 edi, DWORD PTR $T231760[esp+292]
  004d5	f3 a5		 rep movsd
  004d7	8d 8c 24 84 00
	00 00		 lea	 ecx, DWORD PTR _fDist$[esp+292]
  004de	51		 push	 ecx
  004df	8b 8c 24 30 01
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+292]
  004e6	8d 94 24 e8 00
	00 00		 lea	 edx, DWORD PTR $T231760[esp+296]
  004ed	52		 push	 edx
  004ee	8d 84 24 80 00
	00 00		 lea	 eax, DWORD PTR _vEnd$[esp+300]
  004f5	50		 push	 eax
  004f6	51		 push	 ecx
  004f7	8b 8d d8 00 00
	00		 mov	 ecx, DWORD PTR [ebp+216]
  004fd	8d 54 24 78	 lea	 edx, DWORD PTR _pTri$[esp+308]
  00501	52		 push	 edx
  00502	e8 00 00 00 00	 call	 ?FindTouchTriLine@CObject3D@@QAEXPAPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@PAMH@Z ; CObject3D::FindTouchTriLine

; 683  : 			if( *pTri )

  00507	8b 44 24 64	 mov	 eax, DWORD PTR _pTri$[esp+288]
  0050b	85 c0		 test	 eax, eax
  0050d	0f 85 8b 00 00
	00		 jne	 $L231932
  00513	8b 74 24 4c	 mov	 esi, DWORD PTR ___limit$229289[esp+288]
$L229296:

; 696  : 				vN *= (fLenN * 2.0f);							// (-D dot N) * 2   N  .
; 697  : 				*pOut = vDir + vN;								//  .
; 698  : 
; 699  : 				if( nRecusCnt++ < 3 )
; 700  : 					ProcessCollisionReflection( pOut, vPos, *pOut, nRecusCnt );
; 701  : 				
; 702  : 				return TRUE;
; 703  : 			}
; 704  : 		}
; 705  : 	}
; 706  : 	END_LINKMAP

  00517	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  0051d	85 db		 test	 ebx, ebx
  0051f	0f 85 70 ff ff
	ff		 jne	 $L229291
$L229287:

; 674  : 
; 675  : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkAirShip, nDefaultLayer )

  00525	8b 44 24 30	 mov	 eax, DWORD PTR __k$229285[esp+288]
  00529	8b 54 24 3c	 mov	 edx, DWORD PTR tv1432[esp+288]
  0052d	8b 4c 24 48	 mov	 ecx, DWORD PTR __nLinkXMax$229263[esp+288]
  00531	40		 inc	 eax
  00532	83 c2 04	 add	 edx, 4
  00535	3b c1		 cmp	 eax, ecx
  00537	89 44 24 30	 mov	 DWORD PTR __k$229285[esp+288], eax
  0053b	89 54 24 3c	 mov	 DWORD PTR tv1432[esp+288], edx
  0053f	0f 8e 3d ff ff
	ff		 jle	 $L229286
  00545	8b 44 24 40	 mov	 eax, DWORD PTR __nLinkXMin$229261[esp+288]
$L229283:
  00549	8b 54 24 2c	 mov	 edx, DWORD PTR __j$229281[esp+288]
  0054d	8b 4c 24 28	 mov	 ecx, DWORD PTR tv1471[esp+288]
  00551	8b 7c 24 50	 mov	 edi, DWORD PTR tv1474[esp+288]
  00555	8b 74 24 44	 mov	 esi, DWORD PTR __nLinkZMax$229264[esp+288]
  00559	42		 inc	 edx
  0055a	03 cf		 add	 ecx, edi
  0055c	3b d6		 cmp	 edx, esi
  0055e	89 54 24 2c	 mov	 DWORD PTR __j$229281[esp+288], edx
  00562	89 4c 24 28	 mov	 DWORD PTR tv1471[esp+288], ecx
  00566	0f 8e 04 ff ff
	ff		 jle	 $L229282
$L229271:
  0056c	8b 7c 24 34	 mov	 edi, DWORD PTR __i$229269[esp+288]
  00570	8b 74 24 38	 mov	 esi, DWORD PTR _this$[esp+288]
  00574	6a 00		 push	 0
  00576	83 c6 24	 add	 esi, 36			; 00000024H
  00579	47		 inc	 edi
  0057a	6a 03		 push	 3
  0057c	8b ce		 mov	 ecx, esi
  0057e	89 7c 24 3c	 mov	 DWORD PTR __i$229269[esp+296], edi
  00582	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  00587	3b f8		 cmp	 edi, eax
  00589	0f 8c b0 fd ff
	ff		 jl	 $L231947
  0058f	5f		 pop	 edi
  00590	5e		 pop	 esi
  00591	5d		 pop	 ebp

; 707  : 
; 708  : 	return FALSE;

  00592	33 c0		 xor	 eax, eax
  00594	5b		 pop	 ebx

; 709  : }

  00595	81 c4 10 01 00
	00		 add	 esp, 272		; 00000110H
  0059b	c2 10 00	 ret	 16			; 00000010H
$L231932:

; 684  : 			{
; 685  : 				// (2*(-D dot N)) * N + D
; 686  : 				v1 = *pTri[1] - *pTri[0];

  0059e	8b 4c 24 68	 mov	 ecx, DWORD PTR _pTri$[esp+292]
  005a2	d9 01		 fld	 DWORD PTR [ecx]

; 687  : 				vN = *pTri[2] - *pTri[0];
; 688  : 				D3DXVec3Cross( &vN, &v1, &vN );
; 689  : 				mTM = pObj->GetMatrixWorld();

  005a4	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  005aa	d8 20		 fsub	 DWORD PTR [eax]
  005ac	8d bc 24 84 00
	00 00		 lea	 edi, DWORD PTR _mTM$[esp+288]
  005b3	d9 5c 24 1c	 fstp	 DWORD PTR $T231761[esp+288]
  005b7	d9 41 04	 fld	 DWORD PTR [ecx+4]
  005ba	d8 60 04	 fsub	 DWORD PTR [eax+4]
  005bd	d9 5c 24 20	 fstp	 DWORD PTR $T231761[esp+292]
  005c1	8b 54 24 20	 mov	 edx, DWORD PTR $T231761[esp+292]
  005c5	d9 41 08	 fld	 DWORD PTR [ecx+8]
  005c8	8b 4c 24 1c	 mov	 ecx, DWORD PTR $T231761[esp+288]
  005cc	d8 60 08	 fsub	 DWORD PTR [eax+8]
  005cf	89 4c 24 58	 mov	 DWORD PTR _v1$[esp+288], ecx
  005d3	89 54 24 5c	 mov	 DWORD PTR _v1$[esp+292], edx
  005d7	d9 5c 24 24	 fstp	 DWORD PTR $T231761[esp+296]
  005db	8b 4c 24 24	 mov	 ecx, DWORD PTR $T231761[esp+296]
  005df	89 4c 24 60	 mov	 DWORD PTR _v1$[esp+296], ecx
  005e3	8b 4c 24 6c	 mov	 ecx, DWORD PTR _pTri$[esp+296]
  005e7	d9 01		 fld	 DWORD PTR [ecx]
  005e9	d8 20		 fsub	 DWORD PTR [eax]
  005eb	d9 5c 24 1c	 fstp	 DWORD PTR $T231762[esp+288]
  005ef	8b 54 24 1c	 mov	 edx, DWORD PTR $T231762[esp+288]
  005f3	d9 41 04	 fld	 DWORD PTR [ecx+4]
  005f6	d8 60 04	 fsub	 DWORD PTR [eax+4]
  005f9	d9 5c 24 20	 fstp	 DWORD PTR $T231762[esp+292]
  005fd	d9 41 08	 fld	 DWORD PTR [ecx+8]
  00600	d8 60 08	 fsub	 DWORD PTR [eax+8]
  00603	8b 44 24 20	 mov	 eax, DWORD PTR $T231762[esp+292]
  00607	89 44 24 14	 mov	 DWORD PTR _vN$[esp+292], eax
  0060b	89 54 24 10	 mov	 DWORD PTR _vN$[esp+288], edx
  0060f	d9 5c 24 24	 fstp	 DWORD PTR $T231762[esp+296]
  00613	8b 4c 24 24	 mov	 ecx, DWORD PTR $T231762[esp+296]
  00617	89 4c 24 18	 mov	 DWORD PTR _vN$[esp+296], ecx
  0061b	d9 44 24 18	 fld	 DWORD PTR _vN$[esp+296]
  0061f	d8 4c 24 5c	 fmul	 DWORD PTR _v1$[esp+292]
  00623	d9 44 24 14	 fld	 DWORD PTR _vN$[esp+292]
  00627	d8 4c 24 60	 fmul	 DWORD PTR _v1$[esp+296]
  0062b	de e9		 fsubp	 ST(1), ST(0)
  0062d	d9 5c 24 1c	 fstp	 DWORD PTR _v$231898[esp+288]
  00631	8b 54 24 1c	 mov	 edx, DWORD PTR _v$231898[esp+288]
  00635	d9 44 24 10	 fld	 DWORD PTR _vN$[esp+288]
  00639	d8 4c 24 60	 fmul	 DWORD PTR _v1$[esp+296]
  0063d	d9 44 24 18	 fld	 DWORD PTR _vN$[esp+296]
  00641	d8 4c 24 58	 fmul	 DWORD PTR _v1$[esp+288]
  00645	de e9		 fsubp	 ST(1), ST(0)
  00647	d9 5c 24 20	 fstp	 DWORD PTR _v$231898[esp+292]
  0064b	8b 44 24 20	 mov	 eax, DWORD PTR _v$231898[esp+292]
  0064f	d9 44 24 14	 fld	 DWORD PTR _vN$[esp+292]
  00653	89 44 24 14	 mov	 DWORD PTR _vN$[esp+292], eax
  00657	d8 4c 24 58	 fmul	 DWORD PTR _v1$[esp+288]

; 690  : 				mTM._41 = mTM._42 = mTM._43 = 0;
; 691  : 				D3DXVec3TransformCoord( &vN, &vN, &mTM );	// mTM      Normalize   .

  0065b	8d 44 24 10	 lea	 eax, DWORD PTR _vN$[esp+288]
  0065f	d9 44 24 10	 fld	 DWORD PTR _vN$[esp+288]
  00663	89 54 24 10	 mov	 DWORD PTR _vN$[esp+288], edx
  00667	d8 4c 24 5c	 fmul	 DWORD PTR _v1$[esp+292]
  0066b	8d 94 24 84 00
	00 00		 lea	 edx, DWORD PTR _mTM$[esp+288]
  00672	52		 push	 edx
  00673	50		 push	 eax
  00674	de e9		 fsubp	 ST(1), ST(0)
  00676	d9 5c 24 2c	 fstp	 DWORD PTR _v$231898[esp+304]
  0067a	8b 4c 24 2c	 mov	 ecx, DWORD PTR _v$231898[esp+304]
  0067e	89 4c 24 20	 mov	 DWORD PTR _vN$[esp+304], ecx
  00682	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  00687	f3 a5		 rep movsd
  00689	8b c8		 mov	 ecx, eax
  0068b	51		 push	 ecx
  0068c	c7 84 24 c8 00
	00 00 00 00 00
	00		 mov	 DWORD PTR _mTM$[esp+356], 0
  00697	c7 84 24 c4 00
	00 00 00 00 00
	00		 mov	 DWORD PTR _mTM$[esp+352], 0
  006a2	c7 84 24 c0 00
	00 00 00 00 00
	00		 mov	 DWORD PTR _mTM$[esp+348], 0
  006ad	e8 00 00 00 00	 call	 _D3DXVec3TransformCoord@12

; 692  : 				D3DXVec3Normalize( &vN, &vN );

  006b2	8d 54 24 10	 lea	 edx, DWORD PTR _vN$[esp+288]
  006b6	52		 push	 edx
  006b7	8b c2		 mov	 eax, edx
  006b9	50		 push	 eax
  006ba	e8 00 00 00 00	 call	 _D3DXVec3Normalize@8

; 693  : 				
; 694  : 				v1.x = -vDir.x;	v1.y = -vDir.y;	v1.z = -vDir.z;	// -D

  006bf	8b 84 24 2c 01
	00 00		 mov	 eax, DWORD PTR _vDir$[esp+284]
  006c6	d9 00		 fld	 DWORD PTR [eax]
  006c8	d9 e0		 fchs
  006ca	d9 40 04	 fld	 DWORD PTR [eax+4]
  006cd	d9 e0		 fchs
  006cf	d9 40 08	 fld	 DWORD PTR [eax+8]
  006d2	d9 e0		 fchs

; 695  : 				FLOAT fLenN = D3DXVec3Dot( &v1, &vN );			// -D dot N

  006d4	d9 44 24 18	 fld	 DWORD PTR _vN$[esp+296]
  006d8	d8 c9		 fmul	 ST(0), ST(1)
  006da	d9 44 24 14	 fld	 DWORD PTR _vN$[esp+292]
  006de	d8 cb		 fmul	 ST(0), ST(3)

; 707  : 
; 708  : 	return FALSE;

  006e0	de c1		 faddp	 ST(1), ST(0)
  006e2	d9 44 24 10	 fld	 DWORD PTR _vN$[esp+288]
  006e6	d8 cc		 fmul	 ST(0), ST(4)
  006e8	de c1		 faddp	 ST(1), ST(0)
  006ea	dc c0		 fadd	 ST(0), ST(0)
  006ec	dd db		 fstp	 ST(3)
  006ee	dd d8		 fstp	 ST(0)
  006f0	dd d8		 fstp	 ST(0)
  006f2	d9 44 24 10	 fld	 DWORD PTR _vN$[esp+288]
  006f6	d8 c9		 fmul	 ST(0), ST(1)
  006f8	d9 5c 24 10	 fstp	 DWORD PTR _vN$[esp+288]
  006fc	d9 44 24 14	 fld	 DWORD PTR _vN$[esp+292]
  00700	d8 c9		 fmul	 ST(0), ST(1)
  00702	d9 5c 24 14	 fstp	 DWORD PTR _vN$[esp+292]
  00706	d9 44 24 18	 fld	 DWORD PTR _vN$[esp+296]
  0070a	d8 c9		 fmul	 ST(0), ST(1)
  0070c	d9 5c 24 18	 fstp	 DWORD PTR _vN$[esp+296]
  00710	dd d8		 fstp	 ST(0)
  00712	d9 44 24 10	 fld	 DWORD PTR _vN$[esp+288]
  00716	d8 00		 fadd	 DWORD PTR [eax]
  00718	d9 5c 24 1c	 fstp	 DWORD PTR $T231764[esp+288]
  0071c	8b 54 24 1c	 mov	 edx, DWORD PTR $T231764[esp+288]
  00720	d9 44 24 14	 fld	 DWORD PTR _vN$[esp+292]
  00724	d8 40 04	 fadd	 DWORD PTR [eax+4]
  00727	d9 5c 24 20	 fstp	 DWORD PTR $T231764[esp+292]
  0072b	d9 44 24 18	 fld	 DWORD PTR _vN$[esp+296]
  0072f	d8 40 08	 fadd	 DWORD PTR [eax+8]
  00732	8b 84 24 24 01
	00 00		 mov	 eax, DWORD PTR _pOut$[esp+284]
  00739	8b c8		 mov	 ecx, eax
  0073b	89 11		 mov	 DWORD PTR [ecx], edx
  0073d	8b 54 24 20	 mov	 edx, DWORD PTR $T231764[esp+292]
  00741	d9 5c 24 24	 fstp	 DWORD PTR $T231764[esp+296]
  00745	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00748	8b 54 24 24	 mov	 edx, DWORD PTR $T231764[esp+296]
  0074c	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  0074f	8b 8c 24 30 01
	00 00		 mov	 ecx, DWORD PTR _nRecusCnt$[esp+284]
  00756	83 f9 03	 cmp	 ecx, 3
  00759	7d 15		 jge	 SHORT $L229302
  0075b	41		 inc	 ecx
  0075c	51		 push	 ecx
  0075d	8b 8c 24 2c 01
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+288]
  00764	50		 push	 eax
  00765	51		 push	 ecx
  00766	8b 4c 24 44	 mov	 ecx, DWORD PTR _this$[esp+300]
  0076a	50		 push	 eax
  0076b	e8 00 00 00 00	 call	 ?ProcessCollisionReflection@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1H@Z ; CWorld::ProcessCollisionReflection
$L229302:
  00770	5f		 pop	 edi
  00771	5e		 pop	 esi
  00772	5d		 pop	 ebp
  00773	b8 01 00 00 00	 mov	 eax, 1
  00778	5b		 pop	 ebx

; 709  : }

  00779	81 c4 10 01 00
	00		 add	 esp, 272		; 00000110H
  0077f	c2 10 00	 ret	 16			; 00000010H
?ProcessCollisionReflection@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1H@Z ENDP ; CWorld::ProcessCollisionReflection
_TEXT	ENDS
PUBLIC	?FindTouchLandTri@@YAPAUD3DXVECTOR3@@PAU1@HABU1@1PAM@Z ; FindTouchLandTri
PUBLIC	__real@00000000
EXTRN	?IsTouchRayTri@@YAHPBUD3DXVECTOR3@@0000PAM@Z:NEAR ; IsTouchRayTri
;	COMDAT __real@00000000
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\dx_sdk\d3dx9math.h
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\worldintersect.cpp
CONST	ENDS
;	COMDAT ?FindTouchLandTri@@YAPAUD3DXVECTOR3@@PAU1@HABU1@1PAM@Z
_TEXT	SEGMENT
_i$ = -8						; size = 4
_fDist$ = -4						; size = 4
_pTris$ = 8						; size = 4
_nMaxTri$ = 12						; size = 4
_vPos$ = 16						; size = 4
_vDir$ = 20						; size = 4
_pfDist$ = 24						; size = 4
?FindTouchLandTri@@YAPAUD3DXVECTOR3@@PAU1@HABU1@1PAM@Z PROC NEAR ; FindTouchLandTri, COMDAT

; 714  : {

  00000	83 ec 08	 sub	 esp, 8

; 715  : 	int		i;
; 716  : 	D3DXVECTOR3	*pv0, *pv1, *pv2;
; 717  : 	D3DXVECTOR3	v1, v2;
; 718  : 	FLOAT	fDist;
; 719  : 	BOOL	bRet;
; 720  : 	
; 721  : 	for( i = 0; i < nMaxTri; i ++ )

  00003	8b 44 24 10	 mov	 eax, DWORD PTR _nMaxTri$[esp+4]
  00007	85 c0		 test	 eax, eax
  00009	53		 push	 ebx
  0000a	55		 push	 ebp
  0000b	56		 push	 esi
  0000c	57		 push	 edi
  0000d	c7 44 24 10 00
	00 00 00	 mov	 DWORD PTR _i$[esp+24], 0
  00015	7e 53		 jle	 SHORT $L229320
  00017	8b 5c 24 28	 mov	 ebx, DWORD PTR _vDir$[esp+20]
  0001b	8b 6c 24 24	 mov	 ebp, DWORD PTR _vPos$[esp+20]
  0001f	8b 74 24 1c	 mov	 esi, DWORD PTR _pTris$[esp+20]
$L229318:

; 722  : 	{
; 723  : 		pv0 = pTris++;		

  00023	8b fe		 mov	 edi, esi
  00025	83 c6 0c	 add	 esi, 12			; 0000000cH

; 724  : 		pv1 = pTris++;		
; 725  : 		pv2 = pTris++;
; 726  : 		
; 727  : 		bRet = IsTouchRayTri( pv0, pv1, pv2, &vPos, &vDir, &fDist );

  00028	8d 54 24 14	 lea	 edx, DWORD PTR _fDist$[esp+24]
  0002c	52		 push	 edx
  0002d	8b c6		 mov	 eax, esi
  0002f	53		 push	 ebx
  00030	83 c6 0c	 add	 esi, 12			; 0000000cH
  00033	8b ce		 mov	 ecx, esi
  00035	55		 push	 ebp
  00036	51		 push	 ecx
  00037	50		 push	 eax
  00038	57		 push	 edi
  00039	83 c6 0c	 add	 esi, 12			; 0000000cH
  0003c	e8 00 00 00 00	 call	 ?IsTouchRayTri@@YAHPBUD3DXVECTOR3@@0000PAM@Z ; IsTouchRayTri
  00041	83 c4 18	 add	 esp, 24			; 00000018H

; 728  : 		if( bRet && fDist >= 0.0f )	//    .

  00044	85 c0		 test	 eax, eax
  00046	74 11		 je	 SHORT $L229319
  00048	d9 44 24 14	 fld	 DWORD PTR _fDist$[esp+24]
  0004c	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  00052	df e0		 fnstsw	 ax
  00054	f6 c4 01	 test	 ah, 1
  00057	74 1b		 je	 SHORT $L231961
$L229319:

; 715  : 	int		i;
; 716  : 	D3DXVECTOR3	*pv0, *pv1, *pv2;
; 717  : 	D3DXVECTOR3	v1, v2;
; 718  : 	FLOAT	fDist;
; 719  : 	BOOL	bRet;
; 720  : 	
; 721  : 	for( i = 0; i < nMaxTri; i ++ )

  00059	8b 44 24 10	 mov	 eax, DWORD PTR _i$[esp+24]
  0005d	8b 4c 24 20	 mov	 ecx, DWORD PTR _nMaxTri$[esp+20]
  00061	40		 inc	 eax
  00062	3b c1		 cmp	 eax, ecx
  00064	89 44 24 10	 mov	 DWORD PTR _i$[esp+24], eax
  00068	7c b9		 jl	 SHORT $L229318
$L229320:
  0006a	5f		 pop	 edi
  0006b	5e		 pop	 esi
  0006c	5d		 pop	 ebp

; 732  : 		}
; 733  : 	}
; 734  : 	
; 735  : 	return NULL;

  0006d	33 c0		 xor	 eax, eax
  0006f	5b		 pop	 ebx

; 736  : }

  00070	83 c4 08	 add	 esp, 8
  00073	c3		 ret	 0
$L231961:

; 729  : 		{
; 730  : 			*pfDist = fDist;

  00074	8b 44 24 2c	 mov	 eax, DWORD PTR _pfDist$[esp+20]
  00078	d9 44 24 14	 fld	 DWORD PTR _fDist$[esp+24]
  0007c	d9 18		 fstp	 DWORD PTR [eax]

; 731  : 			return pv0;

  0007e	8b c7		 mov	 eax, edi
  00080	5f		 pop	 edi
  00081	5e		 pop	 esi
  00082	5d		 pop	 ebp
  00083	5b		 pop	 ebx

; 736  : }

  00084	83 c4 08	 add	 esp, 8
  00087	c3		 ret	 0
?FindTouchLandTri@@YAPAUD3DXVECTOR3@@PAU1@HABU1@1PAM@Z ENDP ; FindTouchLandTri
_TEXT	ENDS
PUBLIC	?IntersectRayTerrain2@CWorld@@QAEMABUD3DXVECTOR3@@0@Z ; CWorld::IntersectRayTerrain2
EXTRN	?GetLandTri2@CWorld@@QAEHMMPAUD3DXVECTOR3@@@Z:NEAR ; CWorld::GetLandTri2
; Function compile flags: /Ogty
;	COMDAT ?IntersectRayTerrain2@CWorld@@QAEMABUD3DXVECTOR3@@0@Z
_TEXT	SEGMENT
_fDist$ = -88						; size = 4
_fMinDist$ = -84					; size = 4
_z$ = -80						; size = 4
_x$ = -76						; size = 4
_vTri$ = -72						; size = 72
tv275 = 8						; size = 4
tv273 = 8						; size = 4
_vPickRayOrig$ = 8					; size = 4
_vPickRayDir$ = 12					; size = 4
?IntersectRayTerrain2@CWorld@@QAEMABUD3DXVECTOR3@@0@Z PROC NEAR ; CWorld::IntersectRayTerrain2, COMDAT
; _this$ = ecx

; 970  : {

  00000	83 ec 58	 sub	 esp, 88			; 00000058H
  00003	53		 push	 ebx
  00004	55		 push	 ebp

; 971  : #ifdef __CLIENT	
; 972  : 	D3DXVECTOR3 vPickRayAdd ;
; 973  : 	D3DXVECTOR3 vPickRayCur;
; 974  : 	D3DXVECTOR3 vLength;
; 975  : 	D3DXVECTOR3 v1, v2, v3, v4;
; 976  : 	D3DXVECTOR3 _v1, _v2, _v3, _v4;
; 977  : 	BOOL bTriangle1 = FALSE;
; 978  : 	D3DXVECTOR3 vecIntersect;
; 979  : 	FLOAT fDist;               // Ray-Intersection Parameter Distance
; 980  : 	FLOAT fNearDist = m_fFarPlane;                    
; 981  : 	
; 982  : 	vPickRayCur = vPickRayOrig;
; 983  : 	vPickRayAdd = vPickRayDir;
; 984  : 	vPickRayAdd.x *= (FLOAT)MPU * 2;
; 985  : 	vPickRayAdd.z *= (FLOAT)MPU * 2;
; 986  : 	vPickRayAdd.y *= (FLOAT)MPU * 2;
; 987  : 	
; 988  : 	FLOAT fFarPlane = m_fFarPlane;
; 989  : 	fFarPlane /= 2;
; 990  : 	do 
; 991  : 	{
; 992  : 		vPickRayCur += vPickRayAdd;
; 993  : 		if( VecInWorld( vPickRayCur ) )
; 994  : 		{
; 995  : 			CLandscape* pLand = GetLandscape( vPickRayCur );
; 996  : 			if( pLand  && pLand->isVisibile() )
; 997  : 			{
; 998  : 				for( int z = -MPU; z <= MPU; z += MPU )
; 999  : 				{
; 1000 : 					for( int x = -MPU; x <= MPU; x += MPU )
; 1001 : 					{
; 1002 : 						int tempx = (int)( vPickRayCur.x - x );
; 1003 : 						int tempy = (int)( vPickRayCur.z - z );
; 1004 : 						v1=D3DXVECTOR3( (FLOAT)( tempx       ), GetLandHeight( ( FLOAT ) tempx      , ( FLOAT ) tempy       ), (FLOAT)( tempy       ) );
; 1005 : 						v2=D3DXVECTOR3( (FLOAT)( tempx + MPU ), GetLandHeight( ( FLOAT ) tempx + MPU, ( FLOAT ) tempy       ), (FLOAT)( tempy       ) );
; 1006 : 						v3=D3DXVECTOR3( (FLOAT)( tempx       ), GetLandHeight( ( FLOAT ) tempx      , ( FLOAT ) tempy + MPU ), (FLOAT)( tempy + MPU ) );
; 1007 : 						v4=D3DXVECTOR3( (FLOAT)( tempx + MPU ), GetLandHeight( ( FLOAT ) tempx + MPU, ( FLOAT ) tempy + MPU ), (FLOAT)( tempy + MPU ) );
; 1008 : 						if( IntersectTriangle( v1, v2, v3, vPickRayOrig, vPickRayDir, &vecIntersect, &fDist ) ) 
; 1009 : 						{
; 1010 : 							if( fDist < fNearDist ) { fNearDist = fDist; bTriangle1 = TRUE; }
; 1011 : 						}
; 1012 : 						else
; 1013 : 							if( IntersectTriangle( v2, v4, v3, vPickRayOrig, vPickRayDir, &vecIntersect, &fDist ) ) 
; 1014 : 							{
; 1015 : 								if( fDist < fNearDist ) {	fNearDist = fDist; bTriangle1 = TRUE; }
; 1016 : 							}
; 1017 : 					}
; 1018 : 				}
; 1019 : 			}
; 1020 : 		}
; 1021 : 		vLength = vPickRayOrig - vPickRayCur;
; 1022 : 	} while( D3DXVec3LengthSq( &vLength ) < (fFarPlane * fFarPlane) );
; 1023 : 	if( bTriangle1 )
; 1024 : 		return fNearDist;
; 1025 : #else // CLIENT
; 1026 : 	D3DXVECTOR3 vTri[6];
; 1027 : 	FLOAT	x, z;
; 1028 : 	int		i, j;
; 1029 : 	FLOAT	fDist = 0, fMinDist = 65535.0f;
; 1030 : 	BOOL	bRet = FALSE; 
; 1031 : 
; 1032 : 	x = vPickRayOrig.x;		z = vPickRayOrig.z;

  00005	8b 6c 24 64	 mov	 ebp, DWORD PTR _vPickRayOrig$[esp+92]
  00009	8b 45 00	 mov	 eax, DWORD PTR [ebp]
  0000c	56		 push	 esi
  0000d	57		 push	 edi
  0000e	8b f9		 mov	 edi, ecx
  00010	8b 4d 08	 mov	 ecx, DWORD PTR [ebp+8]
  00013	c7 44 24 10 00
	00 00 00	 mov	 DWORD PTR _fDist$[esp+104], 0
  0001b	c7 44 24 14 00
	ff 7f 47	 mov	 DWORD PTR _fMinDist$[esp+104], 1199570688 ; 477fff00H
  00023	89 44 24 1c	 mov	 DWORD PTR _x$[esp+104], eax
  00027	89 4c 24 18	 mov	 DWORD PTR _z$[esp+104], ecx

; 1033 : 
; 1034 : 	for( i = -10; i < 10; i ++ )

  0002b	bb f6 ff ff ff	 mov	 ebx, -10		; fffffff6H
$L231986:

; 1035 : 	{
; 1036 : 		for( j = -10; j < 10; j ++ )

  00030	be f6 ff ff ff	 mov	 esi, -10		; fffffff6H
$L231987:

; 1037 : 		{
; 1038 : 			if( GetLandTri2( x + (m_iMPU * j), z + (m_iMPU * i), vTri ) )

  00035	8b 47 14	 mov	 eax, DWORD PTR [edi+20]
  00038	8b c8		 mov	 ecx, eax
  0003a	0f af c6	 imul	 eax, esi
  0003d	0f af cb	 imul	 ecx, ebx
  00040	89 4c 24 6c	 mov	 DWORD PTR tv275[esp+100], ecx
  00044	8d 54 24 20	 lea	 edx, DWORD PTR _vTri$[esp+104]
  00048	52		 push	 edx
  00049	db 44 24 70	 fild	 DWORD PTR tv275[esp+104]
  0004d	83 ec 08	 sub	 esp, 8
  00050	89 44 24 78	 mov	 DWORD PTR tv273[esp+112], eax
  00054	8b cf		 mov	 ecx, edi
  00056	d8 44 24 24	 fadd	 DWORD PTR _z$[esp+116]
  0005a	d9 5c 24 04	 fstp	 DWORD PTR [esp+4]
  0005e	db 44 24 78	 fild	 DWORD PTR tv273[esp+112]
  00062	d8 44 24 28	 fadd	 DWORD PTR _x$[esp+116]
  00066	d9 1c 24	 fstp	 DWORD PTR [esp]
  00069	e8 00 00 00 00	 call	 ?GetLandTri2@CWorld@@QAEHMMPAUD3DXVECTOR3@@@Z ; CWorld::GetLandTri2
  0006e	85 c0		 test	 eax, eax
  00070	0f 84 9c 00 00
	00		 je	 $L229367

; 1039 : 			{
; 1040 : 				bRet = IsTouchRayTri( &vTri[0], &vTri[1], &vTri[2], &vPickRayOrig, &vPickRayDir, &fDist );

  00076	8b 44 24 70	 mov	 eax, DWORD PTR _vPickRayDir$[esp+100]
  0007a	8d 54 24 10	 lea	 edx, DWORD PTR _fDist$[esp+104]
  0007e	52		 push	 edx
  0007f	50		 push	 eax
  00080	55		 push	 ebp
  00081	8d 4c 24 44	 lea	 ecx, DWORD PTR _vTri$[esp+140]
  00085	51		 push	 ecx
  00086	8d 54 24 3c	 lea	 edx, DWORD PTR _vTri$[esp+132]
  0008a	52		 push	 edx
  0008b	8d 44 24 34	 lea	 eax, DWORD PTR _vTri$[esp+124]
  0008f	50		 push	 eax
  00090	e8 00 00 00 00	 call	 ?IsTouchRayTri@@YAHPBUD3DXVECTOR3@@0000PAM@Z ; IsTouchRayTri
  00095	83 c4 18	 add	 esp, 24			; 00000018H

; 1041 : 				if( bRet && fDist >= 0 )

  00098	85 c0		 test	 eax, eax
  0009a	74 28		 je	 SHORT $L229371
  0009c	d9 44 24 10	 fld	 DWORD PTR _fDist$[esp+104]
  000a0	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  000a6	df e0		 fnstsw	 ax
  000a8	f6 c4 01	 test	 ah, 1
  000ab	75 17		 jne	 SHORT $L229371

; 1042 : 				{
; 1043 : 					if( fDist < fMinDist )

  000ad	d9 44 24 10	 fld	 DWORD PTR _fDist$[esp+104]
  000b1	d8 5c 24 14	 fcomp	 DWORD PTR _fMinDist$[esp+104]
  000b5	df e0		 fnstsw	 ax
  000b7	f6 c4 05	 test	 ah, 5
  000ba	7a 08		 jp	 SHORT $L229371

; 1044 : 					{
; 1045 : 						fMinDist = fDist;

  000bc	8b 4c 24 10	 mov	 ecx, DWORD PTR _fDist$[esp+104]
  000c0	89 4c 24 14	 mov	 DWORD PTR _fMinDist$[esp+104], ecx
$L229371:

; 1046 : 					}
; 1047 : 				}
; 1048 : 				bRet = IsTouchRayTri( &vTri[3], &vTri[4], &vTri[5], &vPickRayOrig, &vPickRayDir, &fDist );

  000c4	8b 44 24 70	 mov	 eax, DWORD PTR _vPickRayDir$[esp+100]
  000c8	8d 54 24 10	 lea	 edx, DWORD PTR _fDist$[esp+104]
  000cc	52		 push	 edx
  000cd	50		 push	 eax
  000ce	55		 push	 ebp
  000cf	8d 4c 24 68	 lea	 ecx, DWORD PTR _vTri$[esp+176]
  000d3	51		 push	 ecx
  000d4	8d 54 24 60	 lea	 edx, DWORD PTR _vTri$[esp+168]
  000d8	52		 push	 edx
  000d9	8d 44 24 58	 lea	 eax, DWORD PTR _vTri$[esp+160]
  000dd	50		 push	 eax
  000de	e8 00 00 00 00	 call	 ?IsTouchRayTri@@YAHPBUD3DXVECTOR3@@0000PAM@Z ; IsTouchRayTri
  000e3	83 c4 18	 add	 esp, 24			; 00000018H

; 1049 : 				if( bRet && fDist >= 0 )

  000e6	85 c0		 test	 eax, eax
  000e8	74 28		 je	 SHORT $L229367
  000ea	d9 44 24 10	 fld	 DWORD PTR _fDist$[esp+104]
  000ee	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  000f4	df e0		 fnstsw	 ax
  000f6	f6 c4 01	 test	 ah, 1
  000f9	75 17		 jne	 SHORT $L229367

; 1050 : 				{
; 1051 : 					if( fDist < fMinDist )

  000fb	d9 44 24 10	 fld	 DWORD PTR _fDist$[esp+104]
  000ff	d8 5c 24 14	 fcomp	 DWORD PTR _fMinDist$[esp+104]
  00103	df e0		 fnstsw	 ax
  00105	f6 c4 05	 test	 ah, 5
  00108	7a 08		 jp	 SHORT $L229367

; 1052 : 					{
; 1053 : 						fMinDist = fDist;

  0010a	8b 4c 24 10	 mov	 ecx, DWORD PTR _fDist$[esp+104]
  0010e	89 4c 24 14	 mov	 DWORD PTR _fMinDist$[esp+104], ecx
$L229367:
  00112	46		 inc	 esi
  00113	83 fe 0a	 cmp	 esi, 10			; 0000000aH
  00116	0f 8c 19 ff ff
	ff		 jl	 $L231987
  0011c	43		 inc	 ebx
  0011d	83 fb 0a	 cmp	 ebx, 10			; 0000000aH
  00120	0f 8c 0a ff ff
	ff		 jl	 $L231986

; 1054 : 					}
; 1055 : 				}
; 1056 : 			}
; 1057 : 		}
; 1058 : 	}
; 1059 : 
; 1060 : 	if( fDist )

  00126	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@00000000
  0012c	5f		 pop	 edi
  0012d	d9 44 24 0c	 fld	 DWORD PTR _fDist$[esp+100]
  00131	5e		 pop	 esi
  00132	da e9		 fucompp
  00134	5d		 pop	 ebp
  00135	5b		 pop	 ebx
  00136	df e0		 fnstsw	 ax
  00138	f6 c4 44	 test	 ah, 68			; 00000044H
  0013b	7b 0a		 jnp	 SHORT $L229374

; 1061 : 		return fMinDist;

  0013d	d9 44 24 04	 fld	 DWORD PTR _fMinDist$[esp+88]

; 1066 : }

  00141	83 c4 58	 add	 esp, 88			; 00000058H
  00144	c2 08 00	 ret	 8
$L229374:

; 1062 : 
; 1063 : #endif // not CLIENT
; 1064 : 
; 1065 : 	return 0;

  00147	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@00000000

; 1066 : }

  0014d	83 c4 58	 add	 esp, 88			; 00000058H
  00150	c2 08 00	 ret	 8
?IntersectRayTerrain2@CWorld@@QAEMABUD3DXVECTOR3@@0@Z ENDP ; CWorld::IntersectRayTerrain2
_TEXT	ENDS
PUBLIC	?CanSlide@@YAHABUD3DXVECTOR3@@00MPAU1@@Z	; CanSlide
EXTRN	?CalcSlideVec@@YAXPAUD3DXVECTOR3@@ABU1@1@Z:NEAR	; CalcSlideVec
; Function compile flags: /Ogty
;	COMDAT ?CanSlide@@YAHABUD3DXVECTOR3@@00MPAU1@@Z
_TEXT	SEGMENT
_vN$ = -24						; size = 12
_v$ = -24						; size = 12
_v$232025 = -12						; size = 12
_vDir$ = -12						; size = 12
_v0$ = 8						; size = 4
_v1$ = 12						; size = 4
_v2$ = 16						; size = 4
_fCosine$ = 20						; size = 4
_pOut$ = 24						; size = 4
?CanSlide@@YAHABUD3DXVECTOR3@@00MPAU1@@Z PROC NEAR	; CanSlide, COMDAT

; 1074 : {

  00000	83 ec 18	 sub	 esp, 24			; 00000018H

; 1075 : 	// 1.   
; 1076 : 	D3DXVECTOR3	u = v1 - v0;		

  00003	8b 44 24 1c	 mov	 eax, DWORD PTR _v0$[esp+20]
  00007	8b 4c 24 20	 mov	 ecx, DWORD PTR _v1$[esp+20]
  0000b	d9 01		 fld	 DWORD PTR [ecx]
  0000d	d8 20		 fsub	 DWORD PTR [eax]
  0000f	d9 41 04	 fld	 DWORD PTR [ecx+4]
  00012	d8 60 04	 fsub	 DWORD PTR [eax+4]
  00015	d9 41 08	 fld	 DWORD PTR [ecx+8]

; 1077 : 	D3DXVECTOR3	v = v2 - v0;

  00018	8b 4c 24 24	 mov	 ecx, DWORD PTR _v2$[esp+20]
  0001c	d8 60 08	 fsub	 DWORD PTR [eax+8]
  0001f	d9 01		 fld	 DWORD PTR [ecx]
  00021	d8 20		 fsub	 DWORD PTR [eax]
  00023	d9 1c 24	 fstp	 DWORD PTR _v$[esp+24]
  00026	d9 41 04	 fld	 DWORD PTR [ecx+4]
  00029	d8 60 04	 fsub	 DWORD PTR [eax+4]
  0002c	d9 5c 24 04	 fstp	 DWORD PTR _v$[esp+28]
  00030	d9 41 08	 fld	 DWORD PTR [ecx+8]
  00033	d8 60 08	 fsub	 DWORD PTR [eax+8]

; 1078 : 
; 1079 : 	D3DXVECTOR3 vN;
; 1080 : 	D3DXVec3Cross( &vN, &u, &v );					

  00036	d9 c0		 fld	 ST(0)
  00038	d8 cb		 fmul	 ST(0), ST(3)
  0003a	d9 44 24 04	 fld	 DWORD PTR _v$[esp+28]
  0003e	d8 cb		 fmul	 ST(0), ST(3)
  00040	de e9		 fsubp	 ST(1), ST(0)
  00042	d9 5c 24 0c	 fstp	 DWORD PTR _v$232025[esp+24]
  00046	8b 44 24 0c	 mov	 eax, DWORD PTR _v$232025[esp+24]
  0004a	d9 c9		 fxch	 ST(1)
  0004c	d8 0c 24	 fmul	 DWORD PTR _v$[esp+24]
  0004f	d9 c9		 fxch	 ST(1)
  00051	d8 cb		 fmul	 ST(0), ST(3)
  00053	de e9		 fsubp	 ST(1), ST(0)
  00055	d9 5c 24 10	 fstp	 DWORD PTR _v$232025[esp+28]
  00059	8b 4c 24 10	 mov	 ecx, DWORD PTR _v$232025[esp+28]
  0005d	d9 44 24 04	 fld	 DWORD PTR _v$[esp+28]
  00061	89 4c 24 04	 mov	 DWORD PTR _vN$[esp+28], ecx
  00065	d8 ca		 fmul	 ST(0), ST(2)
  00067	d9 04 24	 fld	 DWORD PTR _v$[esp+24]
  0006a	89 04 24	 mov	 DWORD PTR _vN$[esp+24], eax
  0006d	d8 ca		 fmul	 ST(0), ST(2)

; 1081 : 	D3DXVec3Normalize( &vN, &vN );

  0006f	8d 04 24	 lea	 eax, DWORD PTR _vN$[esp+24]
  00072	50		 push	 eax
  00073	8b c8		 mov	 ecx, eax
  00075	de e9		 fsubp	 ST(1), ST(0)
  00077	51		 push	 ecx
  00078	d9 5c 24 1c	 fstp	 DWORD PTR _v$232025[esp+40]
  0007c	8b 54 24 1c	 mov	 edx, DWORD PTR _v$232025[esp+40]
  00080	89 54 24 10	 mov	 DWORD PTR _vN$[esp+40], edx
  00084	dd d8		 fstp	 ST(0)
  00086	dd d8		 fstp	 ST(0)
  00088	e8 00 00 00 00	 call	 _D3DXVec3Normalize@8

; 1082 : 
; 1083 : 	// 2.        
; 1084 : 	D3DXVECTOR3	vDir( 0.0f, -1.0f, 0.0f );		
; 1085 : 	if( D3DXVec3Dot( &vN, &vDir ) > fCosine )

  0008d	d9 44 24 08	 fld	 DWORD PTR _vN$[esp+32]
  00091	c7 44 24 0c 00
	00 00 00	 mov	 DWORD PTR _vDir$[esp+24], 0
  00099	d8 04 24	 fadd	 DWORD PTR _vN$[esp+24]
  0009c	c7 44 24 10 00
	00 80 bf	 mov	 DWORD PTR _vDir$[esp+28], -1082130432 ; bf800000H
  000a4	c7 44 24 14 00
	00 00 00	 mov	 DWORD PTR _vDir$[esp+32], 0
  000ac	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@00000000
  000b2	d9 44 24 04	 fld	 DWORD PTR _vN$[esp+28]
  000b6	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@3f800000
  000bc	de e9		 fsubp	 ST(1), ST(0)
  000be	d8 5c 24 28	 fcomp	 DWORD PTR _fCosine$[esp+20]
  000c2	df e0		 fnstsw	 ax
  000c4	f6 c4 41	 test	 ah, 65			; 00000041H
  000c7	75 27		 jne	 SHORT $L229388

; 1086 : 	{
; 1087 : 		vDir.y = -0.2f;									//   
; 1088 : 		CalcSlideVec( pOut, vDir, vN );					//   

  000c9	8b 4c 24 2c	 mov	 ecx, DWORD PTR _pOut$[esp+20]
  000cd	8d 14 24	 lea	 edx, DWORD PTR _vN$[esp+24]
  000d0	52		 push	 edx
  000d1	8d 44 24 10	 lea	 eax, DWORD PTR _vDir$[esp+28]
  000d5	50		 push	 eax
  000d6	51		 push	 ecx
  000d7	c7 44 24 1c cd
	cc 4c be	 mov	 DWORD PTR _vDir$[esp+40], -1102263091 ; be4ccccdH
  000df	e8 00 00 00 00	 call	 ?CalcSlideVec@@YAXPAUD3DXVECTOR3@@ABU1@1@Z ; CalcSlideVec
  000e4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1089 : 		return TRUE;

  000e7	b8 01 00 00 00	 mov	 eax, 1

; 1093 : }

  000ec	83 c4 18	 add	 esp, 24			; 00000018H
  000ef	c3		 ret	 0
$L229388:

; 1090 : 	}
; 1091 : 	else
; 1092 : 		return FALSE;

  000f0	33 c0		 xor	 eax, eax

; 1093 : }

  000f2	83 c4 18	 add	 esp, 24			; 00000018H
  000f5	c3		 ret	 0
?CanSlide@@YAHABUD3DXVECTOR3@@00MPAU1@@Z ENDP		; CanSlide
_TEXT	ENDS
PUBLIC	?ProcessUnderCollision@CWorld@@QAEMPAUD3DXVECTOR3@@PAPAVCObj@@AAU2@@Z ; CWorld::ProcessUnderCollision
PUBLIC	__real@3fc00000
EXTRN	?GetLandTri@CWorld@@QAEXMMPAUD3DXVECTOR3@@@Z:NEAR ; CWorld::GetLandTri
EXTRN	?GetLandTris@CWorld@@QAEHMMPAUD3DXVECTOR3@@@Z:NEAR ; CWorld::GetLandTris
;	COMDAT __real@3fc00000
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\dx_sdk\d3dx9math.inl
CONST	SEGMENT
__real@3fc00000 DD 03fc00000r			; 1.5
; Function compile flags: /Ogty
; File c:\documents and settings\test\mes documents\source\virtuos_v17\build\program\_common\worldintersect.cpp
CONST	ENDS
;	COMDAT ?ProcessUnderCollision@CWorld@@QAEMPAUD3DXVECTOR3@@PAPAVCObj@@AAU2@@Z
_TEXT	SEGMENT
tv1633 = -892						; size = 4
tv1543 = -892						; size = 4
__nMaxHeight$229505 = -892				; size = 4
__nMaxHeight$229460 = -892				; size = 4
__nLinkXMax$229418 = -892				; size = 4
__nX$229420 = -892					; size = 4
tv1587 = -888						; size = 4
tv1497 = -888						; size = 4
tv1407 = -888						; size = 4
__pObjs$229428 = -888					; size = 4
__pObjs$229519 = -884					; size = 4
tv317 = -884						; size = 4
__pObjs$229474 = -884					; size = 4
tv175 = -884						; size = 4
__nLinkXMin$229416 = -884				; size = 4
tv724 = -880						; size = 4
tv511 = -880						; size = 4
__nX$229511 = -880					; size = 4
__nX$229466 = -880					; size = 4
__i$229424 = -880					; size = 4
tv1224 = -876						; size = 4
tv1032 = -876						; size = 4
tv965 = -876						; size = 4
___limit$229535 = -876					; size = 4
___limit$229490 = -876					; size = 4
__nLinkZ$229410 = -876					; size = 4
_fMaxY$ = -872						; size = 4
tv1226 = -868						; size = 4
tv459 = -868						; size = 4
__nLinkXMin$229507 = -868				; size = 4
__nLinkXMin$229462 = -868				; size = 4
tv501 = -864						; size = 4
__i$229515 = -864					; size = 4
__i$229470 = -864					; size = 4
__nMaxHeight$229414 = -864				; size = 4
tv1453 = -860						; size = 4
tv874 = -860						; size = 4
__nLinkXMax$229509 = -860				; size = 4
__nLinkXMax$229464 = -860				; size = 4
_this$ = -856						; size = 4
tv1637 = -852						; size = 4
tv1547 = -852						; size = 4
tv1035 = -852						; size = 4
tv968 = -852						; size = 4
__nLinkX$229408 = -852					; size = 4
_vIntersect$ = -848					; size = 12
tv1457 = -836						; size = 4
__nLinkX$229499 = -836					; size = 4
__nLinkX$229454 = -836					; size = 4
__nLinkZ$229501 = -832					; size = 4
__nLinkZ$229456 = -832					; size = 4
___limit$229444 = -832					; size = 4
_fDist$ = -828						; size = 4
$T232045 = -824						; size = 12
$T232044 = -824						; size = 12
$T232042 = -824						; size = 12
_vOut$ = -812						; size = 12
_vDir$ = -800						; size = 12
$T232043 = -788						; size = 12
_vEnd$ = -788						; size = 12
_vLandTri$ = -776					; size = 36
_segment$ = -740					; size = 28
$T232041 = -712						; size = 64
$T232040 = -712						; size = 64
$T232039 = -712						; size = 64
_vTris$229554 = -648					; size = 648
_pOut$ = 8						; size = 4
_ppObj$ = 12						; size = 4
_vPos$ = 16						; size = 4
?ProcessUnderCollision@CWorld@@QAEMPAUD3DXVECTOR3@@PAPAVCObj@@AAU2@@Z PROC NEAR ; CWorld::ProcessUnderCollision, COMDAT
; _this$ = ecx

; 1099 : {

  00000	81 ec 7c 03 00
	00		 sub	 esp, 892		; 0000037cH
  00006	53		 push	 ebx

; 1100 : 	D3DXVECTOR3		vDir( 0.0f, -1.5f, 0.0f );	// (1.5)
; 1101 : 	D3DXVECTOR3		vIntersect;
; 1102 : 	float			fMaxY = -65535.0f;			
; 1103 : 	D3DXVECTOR3		vOut( 0.0f, 0.0f, 0.0f );	
; 1104 : 	CObj*			pObj;
; 1105 : 	CModel*			pModel;
; 1106 : 	int				nRange = 0;
; 1107 : 
; 1108 : 	D3DXVECTOR3 vEnd( vPos + vDir );

  00007	8b 9c 24 8c 03
	00 00		 mov	 ebx, DWORD PTR _vPos$[esp+892]
  0000e	d9 43 04	 fld	 DWORD PTR [ebx+4]
  00011	8b 03		 mov	 eax, DWORD PTR [ebx]
  00013	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3fc00000
  00019	55		 push	 ebp
  0001a	56		 push	 esi
  0001b	8b f1		 mov	 esi, ecx
  0001d	8b 4b 08	 mov	 ecx, DWORD PTR [ebx+8]
  00020	d9 5c 24 78	 fstp	 DWORD PTR _vEnd$[esp+908]
  00024	57		 push	 edi

; 1109 : 	Segment3 segment( vPos, vEnd );

  00025	8d 54 24 78	 lea	 edx, DWORD PTR _vEnd$[esp+908]
  00029	52		 push	 edx
  0002a	89 8c 24 84 00
	00 00		 mov	 DWORD PTR _vEnd$[esp+920], ecx
  00031	53		 push	 ebx
  00032	8d 8c 24 b0 00
	00 00		 lea	 ecx, DWORD PTR _segment$[esp+916]
  00039	89 74 24 3c	 mov	 DWORD PTR _this$[esp+916], esi
  0003d	c7 44 24 74 00
	00 00 00	 mov	 DWORD PTR _vDir$[esp+916], 0
  00045	c7 44 24 78 00
	00 c0 bf	 mov	 DWORD PTR _vDir$[esp+920], -1077936128 ; bfc00000H
  0004d	c7 44 24 7c 00
	00 00 00	 mov	 DWORD PTR _vDir$[esp+924], 0
  00055	c7 44 24 2c 00
	ff 7f c7	 mov	 DWORD PTR _fMaxY$[esp+916], -947912960 ; c77fff00H
  0005d	c7 44 24 68 00
	00 00 00	 mov	 DWORD PTR _vOut$[esp+916], 0
  00065	c7 44 24 6c 00
	00 00 00	 mov	 DWORD PTR _vOut$[esp+920], 0
  0006d	c7 44 24 70 00
	00 00 00	 mov	 DWORD PTR _vOut$[esp+924], 0
  00075	89 84 24 80 00
	00 00		 mov	 DWORD PTR _vEnd$[esp+916], eax
  0007c	e8 00 00 00 00	 call	 ??0Segment3@@QAE@ABUD3DXVECTOR3@@0@Z ; Segment3::Segment3

; 1110 : #if __VER >= 13 // __HOUSING
; 1111 : 
; 1112 : #if __VER >= 15 // __GUILD_HOUSE
; 1113 : 	if(GetID() == WI_WORLD_MINIROOM || IsWorldGuildHouse() )

  00081	8b 06		 mov	 eax, DWORD PTR [esi]
  00083	3d d1 00 00 00	 cmp	 eax, 209		; 000000d1H
  00088	74 16		 je	 SHORT $L229407
  0008a	3d d4 00 00 00	 cmp	 eax, 212		; 000000d4H
  0008f	0f 82 d5 02 00
	00		 jb	 $L232218
  00095	3d d6 00 00 00	 cmp	 eax, 214		; 000000d6H
  0009a	0f 87 ca 02 00
	00		 ja	 $L232218
$L229407:

; 1114 : #else
; 1115 : 	if(GetID() == WI_WORLD_MINIROOM )
; 1116 : #endif //__GUILD_HOUSE
; 1117 : 	{
; 1118 : 		FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkDynamic, nDefaultLayer )

  000a0	db 46 14	 fild	 DWORD PTR [esi+20]
  000a3	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  000a9	d9 c0		 fld	 ST(0)
  000ab	d8 0b		 fmul	 DWORD PTR [ebx]
  000ad	e8 00 00 00 00	 call	 __ftol2
  000b2	d8 4b 08	 fmul	 DWORD PTR [ebx+8]
  000b5	89 44 24 38	 mov	 DWORD PTR __nLinkX$229408[esp+908], eax
  000b9	e8 00 00 00 00	 call	 __ftol2
  000be	33 ed		 xor	 ebp, ebp
  000c0	55		 push	 ebp
  000c1	8d 7e 24	 lea	 edi, DWORD PTR [esi+36]
  000c4	6a 01		 push	 1
  000c6	8b cf		 mov	 ecx, edi
  000c8	89 44 24 28	 mov	 DWORD PTR __nLinkZ$229410[esp+916], eax
  000cc	89 6c 24 24	 mov	 DWORD PTR __i$229424[esp+916], ebp
  000d0	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  000d5	85 c0		 test	 eax, eax
  000d7	0f 8e 8d 02 00
	00		 jle	 $L232218
  000dd	8d 49 00	 npad	 3
$L232226:
  000e0	6a 00		 push	 0
  000e2	55		 push	 ebp
  000e3	6a 01		 push	 1
  000e5	8b cf		 mov	 ecx, edi
  000e7	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  000ec	6a 00		 push	 0
  000ee	55		 push	 ebp
  000ef	6a 01		 push	 1
  000f1	8b cf		 mov	 ecx, edi
  000f3	8b f0		 mov	 esi, eax
  000f5	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  000fa	8b 7c 24 34	 mov	 edi, DWORD PTR _this$[esp+908]
  000fe	89 44 24 14	 mov	 DWORD PTR __pObjs$229428[esp+908], eax
  00102	8b 47 04	 mov	 eax, DWORD PTR [edi+4]
  00105	8b d8		 mov	 ebx, eax
  00107	c1 e0 07	 shl	 eax, 7
  0010a	0f af de	 imul	 ebx, esi
  0010d	99		 cdq
  0010e	f7 fb		 idiv	 ebx
  00110	8b 4f 08	 mov	 ecx, DWORD PTR [edi+8]
  00113	0f af ce	 imul	 ecx, esi
  00116	89 4c 24 2c	 mov	 DWORD PTR __nMaxHeight$229414[esp+908], ecx
  0011a	8b 4f 14	 mov	 ecx, DWORD PTR [edi+20]
  0011d	8b f0		 mov	 esi, eax
  0011f	8b c1		 mov	 eax, ecx
  00121	0f af c6	 imul	 eax, esi
  00124	99		 cdq
  00125	2b c2		 sub	 eax, edx
  00127	8b f8		 mov	 edi, eax
  00129	8b 44 24 38	 mov	 eax, DWORD PTR __nLinkX$229408[esp+908]
  0012d	99		 cdq
  0012e	f7 fe		 idiv	 esi
  00130	d1 ff		 sar	 edi, 1
  00132	8b e8		 mov	 ebp, eax
  00134	0f af e9	 imul	 ebp, ecx
  00137	89 44 24 30	 mov	 DWORD PTR tv874[esp+908], eax
  0013b	0f af ee	 imul	 ebp, esi
  0013e	8b 84 24 98 03
	00 00		 mov	 eax, DWORD PTR _vPos$[esp+904]
  00145	d9 00		 fld	 DWORD PTR [eax]
  00147	e8 00 00 00 00	 call	 __ftol2
  0014c	2b c5		 sub	 eax, ebp
  0014e	33 c9		 xor	 ecx, ecx
  00150	3b c7		 cmp	 eax, edi
  00152	8b 44 24 20	 mov	 eax, DWORD PTR __nLinkZ$229410[esp+908]
  00156	0f 9f c1	 setg	 cl
  00159	99		 cdq
  0015a	f7 fe		 idiv	 esi
  0015c	8b 54 24 34	 mov	 edx, DWORD PTR _this$[esp+908]
  00160	89 4c 24 10	 mov	 DWORD PTR __nX$229420[esp+908], ecx
  00164	8b 8c 24 98 03
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+904]
  0016b	d9 41 08	 fld	 DWORD PTR [ecx+8]
  0016e	8b e8		 mov	 ebp, eax
  00170	0f af 42 14	 imul	 eax, DWORD PTR [edx+20]
  00174	0f af c6	 imul	 eax, esi
  00177	89 44 24 28	 mov	 DWORD PTR tv1226[esp+908], eax
  0017b	e8 00 00 00 00	 call	 __ftol2
  00180	8b 4c 24 28	 mov	 ecx, DWORD PTR tv1226[esp+908]
  00184	8b 54 24 30	 mov	 edx, DWORD PTR tv874[esp+908]
  00188	2b c1		 sub	 eax, ecx
  0018a	33 c9		 xor	 ecx, ecx
  0018c	3b c7		 cmp	 eax, edi
  0018e	8b 44 24 10	 mov	 eax, DWORD PTR __nX$229420[esp+908]
  00192	0f 9f c1	 setg	 cl
  00195	03 c2		 add	 eax, edx
  00197	8d 70 ff	 lea	 esi, DWORD PTR [eax-1]
  0019a	85 f6		 test	 esi, esi
  0019c	89 74 24 18	 mov	 DWORD PTR __nLinkXMin$229416[esp+908], esi
  001a0	7d 06		 jge	 SHORT $L232225
  001a2	33 f6		 xor	 esi, esi
  001a4	89 74 24 18	 mov	 DWORD PTR __nLinkXMin$229416[esp+908], esi
$L232225:
  001a8	03 e9		 add	 ebp, ecx
  001aa	8d 4d ff	 lea	 ecx, DWORD PTR [ebp-1]
  001ad	85 c9		 test	 ecx, ecx
  001af	7d 02		 jge	 SHORT $L229433
  001b1	33 c9		 xor	 ecx, ecx
$L229433:
  001b3	8b f8		 mov	 edi, eax
  001b5	3b fb		 cmp	 edi, ebx
  001b7	89 7c 24 10	 mov	 DWORD PTR __nLinkXMax$229418[esp+908], edi
  001bb	7c 07		 jl	 SHORT $L229434
  001bd	8d 7b ff	 lea	 edi, DWORD PTR [ebx-1]
  001c0	89 7c 24 10	 mov	 DWORD PTR __nLinkXMax$229418[esp+908], edi
$L229434:
  001c4	8b 54 24 2c	 mov	 edx, DWORD PTR __nMaxHeight$229414[esp+908]
  001c8	8b c5		 mov	 eax, ebp
  001ca	3b c2		 cmp	 eax, edx
  001cc	7c 03		 jl	 SHORT $L229435
  001ce	8d 42 ff	 lea	 eax, DWORD PTR [edx-1]
$L229435:
  001d1	3b c8		 cmp	 ecx, eax
  001d3	0f 8f 63 01 00
	00		 jg	 $L229426
  001d9	8d 14 9d 00 00
	00 00		 lea	 edx, DWORD PTR [ebx*4]
  001e0	89 54 24 48	 mov	 DWORD PTR tv1457[esp+908], edx
  001e4	8b d1		 mov	 edx, ecx
  001e6	0f af d3	 imul	 edx, ebx
  001e9	8b 5c 24 14	 mov	 ebx, DWORD PTR __pObjs$229428[esp+908]
  001ed	03 d6		 add	 edx, esi
  001ef	2b c1		 sub	 eax, ecx
  001f1	8d 14 93	 lea	 edx, DWORD PTR [ebx+edx*4]
  001f4	40		 inc	 eax
  001f5	89 54 24 30	 mov	 DWORD PTR tv1453[esp+908], edx
  001f9	89 44 24 28	 mov	 DWORD PTR tv459[esp+908], eax
  001fd	8d 49 00	 npad	 3
$L229437:
  00200	3b f7		 cmp	 esi, edi
  00202	0f 8f 17 01 00
	00		 jg	 $L229438
  00208	8b c7		 mov	 eax, edi
  0020a	2b c6		 sub	 eax, esi
  0020c	40		 inc	 eax
  0020d	89 54 24 14	 mov	 DWORD PTR tv1407[esp+908], edx
  00211	89 44 24 2c	 mov	 DWORD PTR tv501[esp+908], eax
$L229441:
  00215	8b 44 24 14	 mov	 eax, DWORD PTR tv1407[esp+908]
  00219	8b 18		 mov	 ebx, DWORD PTR [eax]
  0021b	85 db		 test	 ebx, ebx
  0021d	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  00222	0f 84 d5 00 00
	00		 je	 $L229442
  00228	eb 06		 jmp	 SHORT $L229446
$L232221:
  0022a	8b 44 24 4c	 mov	 eax, DWORD PTR ___limit$229444[esp+908]
  0022e	8b ff		 npad	 2
$L229446:
  00230	8b c8		 mov	 ecx, eax
  00232	48		 dec	 eax
  00233	85 c9		 test	 ecx, ecx
  00235	89 44 24 4c	 mov	 DWORD PTR ___limit$229444[esp+908], eax
  00239	0f 84 be 00 00
	00		 je	 $L229442

; 1119 : 		{
; 1120 : 
; 1121 : 			// (vPos-vDir) OBB .  
; 1122 : 			pModel = pObj->m_pModel;
; 1123 : 			if( pObj->GetType() == OT_CTRL ) 

  0023f	83 bb 70 01 00
	00 02		 cmp	 DWORD PTR [ebx+368], 2
  00246	8b ab 78 01 00
	00		 mov	 ebp, DWORD PTR [ebx+376]
  0024c	0f 85 9d 00 00
	00		 jne	 $L229453

; 1124 : 			{
; 1125 : 				if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  00252	8b 55 00	 mov	 edx, DWORD PTR [ebp]
  00255	6a 01		 push	 1
  00257	53		 push	 ebx
  00258	8d 84 24 b0 00
	00 00		 lea	 eax, DWORD PTR _segment$[esp+916]
  0025f	50		 push	 eax
  00260	8b cd		 mov	 ecx, ebp
  00262	ff 52 74	 call	 DWORD PTR [edx+116]
  00265	83 f8 01	 cmp	 eax, 1
  00268	0f 85 81 00 00
	00		 jne	 $L229453

; 1126 : 				{
; 1127 : 					//      ()     vOut .
; 1128 : 					if( ((CModelObject *)pModel)->GetObject3D()->SlideVectorUnder( &vOut, vPos, vEnd, pObj->GetMatrixWorld(), &vIntersect ) == TRUE )

  0026e	8d 54 24 3c	 lea	 edx, DWORD PTR _vIntersect$[esp+908]
  00272	52		 push	 edx
  00273	8d 84 24 c8 00
	00 00		 lea	 eax, DWORD PTR $T232039[esp+912]
  0027a	50		 push	 eax
  0027b	8b 84 24 a0 03
	00 00		 mov	 eax, DWORD PTR _vPos$[esp+912]
  00282	8d 94 24 80 00
	00 00		 lea	 edx, DWORD PTR _vEnd$[esp+916]
  00289	52		 push	 edx
  0028a	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  00290	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  00295	8d bc 24 d0 00
	00 00		 lea	 edi, DWORD PTR $T232039[esp+920]
  0029c	50		 push	 eax
  0029d	8d 54 24 70	 lea	 edx, DWORD PTR _vOut$[esp+924]
  002a1	f3 a5		 rep movsd
  002a3	8b 8d d8 00 00
	00		 mov	 ecx, DWORD PTR [ebp+216]
  002a9	52		 push	 edx
  002aa	e8 00 00 00 00	 call	 ?SlideVectorUnder@CObject3D@@QAEHPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@0@Z ; CObject3D::SlideVectorUnder
  002af	83 f8 01	 cmp	 eax, 1
  002b2	75 3b		 jne	 SHORT $L229453

; 1129 : 					{
; 1130 : 						if( vIntersect.y > fMaxY )

  002b4	d9 44 24 40	 fld	 DWORD PTR _vIntersect$[esp+912]
  002b8	d8 5c 24 24	 fcomp	 DWORD PTR _fMaxY$[esp+908]
  002bc	df e0		 fnstsw	 ax
  002be	f6 c4 41	 test	 ah, 65			; 00000041H
  002c1	75 2c		 jne	 SHORT $L229453

; 1131 : 						{
; 1132 : 							fMaxY = vIntersect.y;	//      ....   .

  002c3	8b 44 24 40	 mov	 eax, DWORD PTR _vIntersect$[esp+912]

; 1133 : 							*pOut = vOut;

  002c7	8b 54 24 60	 mov	 edx, DWORD PTR _vOut$[esp+908]
  002cb	8b 8c 24 90 03
	00 00		 mov	 ecx, DWORD PTR _pOut$[esp+904]
  002d2	89 11		 mov	 DWORD PTR [ecx], edx
  002d4	8b 54 24 68	 mov	 edx, DWORD PTR _vOut$[esp+916]
  002d8	89 44 24 24	 mov	 DWORD PTR _fMaxY$[esp+908], eax
  002dc	8b 44 24 64	 mov	 eax, DWORD PTR _vOut$[esp+912]
  002e0	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 1134 : 							*ppObj = pObj;			//  .

  002e3	8b 84 24 94 03
	00 00		 mov	 eax, DWORD PTR _ppObj$[esp+904]
  002ea	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  002ed	89 18		 mov	 DWORD PTR [eax], ebx
$L229453:

; 1135 : 						}
; 1136 : 					}
; 1137 : 				}
; 1138 : 			}
; 1139 : 		}
; 1140 : 		END_LINKMAP

  002ef	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  002f5	85 db		 test	 ebx, ebx
  002f7	0f 85 2d ff ff
	ff		 jne	 $L232221
$L229442:

; 1114 : #else
; 1115 : 	if(GetID() == WI_WORLD_MINIROOM )
; 1116 : #endif //__GUILD_HOUSE
; 1117 : 	{
; 1118 : 		FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkDynamic, nDefaultLayer )

  002fd	8b 4c 24 14	 mov	 ecx, DWORD PTR tv1407[esp+908]
  00301	8b 44 24 2c	 mov	 eax, DWORD PTR tv501[esp+908]
  00305	83 c1 04	 add	 ecx, 4
  00308	48		 dec	 eax
  00309	89 4c 24 14	 mov	 DWORD PTR tv1407[esp+908], ecx
  0030d	89 44 24 2c	 mov	 DWORD PTR tv501[esp+908], eax
  00311	0f 85 fe fe ff
	ff		 jne	 $L229441
  00317	8b 74 24 18	 mov	 esi, DWORD PTR __nLinkXMin$229416[esp+908]
  0031b	8b 7c 24 10	 mov	 edi, DWORD PTR __nLinkXMax$229418[esp+908]
$L229438:
  0031f	8b 54 24 30	 mov	 edx, DWORD PTR tv1453[esp+908]
  00323	8b 4c 24 48	 mov	 ecx, DWORD PTR tv1457[esp+908]
  00327	8b 44 24 28	 mov	 eax, DWORD PTR tv459[esp+908]
  0032b	03 d1		 add	 edx, ecx
  0032d	48		 dec	 eax
  0032e	89 54 24 30	 mov	 DWORD PTR tv1453[esp+908], edx
  00332	89 44 24 28	 mov	 DWORD PTR tv459[esp+908], eax
  00336	0f 85 c4 fe ff
	ff		 jne	 $L229437
$L229426:
  0033c	8b 6c 24 1c	 mov	 ebp, DWORD PTR __i$229424[esp+908]
  00340	8b 7c 24 34	 mov	 edi, DWORD PTR _this$[esp+908]
  00344	6a 00		 push	 0
  00346	83 c7 24	 add	 edi, 36			; 00000024H
  00349	45		 inc	 ebp
  0034a	6a 01		 push	 1
  0034c	8b cf		 mov	 ecx, edi
  0034e	89 6c 24 24	 mov	 DWORD PTR __i$229424[esp+916], ebp
  00352	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  00357	3b e8		 cmp	 ebp, eax
  00359	0f 8c 81 fd ff
	ff		 jl	 $L232226
  0035f	8b 9c 24 98 03
	00 00		 mov	 ebx, DWORD PTR _vPos$[esp+904]
  00366	8b 74 24 34	 mov	 esi, DWORD PTR _this$[esp+908]
$L232218:

; 1141 : 	}
; 1142 : #endif // __HOUSING
; 1143 : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  0036a	db 46 14	 fild	 DWORD PTR [esi+20]
  0036d	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  00373	d9 c0		 fld	 ST(0)
  00375	d8 0b		 fmul	 DWORD PTR [ebx]
  00377	e8 00 00 00 00	 call	 __ftol2
  0037c	d8 4b 08	 fmul	 DWORD PTR [ebx+8]
  0037f	89 44 24 48	 mov	 DWORD PTR __nLinkX$229454[esp+908], eax
  00383	e8 00 00 00 00	 call	 __ftol2
  00388	33 db		 xor	 ebx, ebx
  0038a	53		 push	 ebx
  0038b	83 c6 24	 add	 esi, 36			; 00000024H
  0038e	53		 push	 ebx
  0038f	8b ce		 mov	 ecx, esi
  00391	89 44 24 54	 mov	 DWORD PTR __nLinkZ$229456[esp+916], eax
  00395	89 5c 24 34	 mov	 DWORD PTR __i$229470[esp+916], ebx
  00399	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  0039e	85 c0		 test	 eax, eax
  003a0	0f 8e 7c 02 00
	00		 jle	 $L229473
$L232227:
  003a6	6a 00		 push	 0
  003a8	53		 push	 ebx
  003a9	6a 00		 push	 0
  003ab	8b ce		 mov	 ecx, esi
  003ad	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  003b2	6a 00		 push	 0
  003b4	53		 push	 ebx
  003b5	6a 00		 push	 0
  003b7	8b ce		 mov	 ecx, esi
  003b9	8b f8		 mov	 edi, eax
  003bb	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  003c0	8b 4c 24 34	 mov	 ecx, DWORD PTR _this$[esp+908]
  003c4	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  003c7	89 44 24 18	 mov	 DWORD PTR __pObjs$229474[esp+908], eax
  003cb	0f af d7	 imul	 edx, edi
  003ce	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  003d1	8b d8		 mov	 ebx, eax
  003d3	c1 e0 07	 shl	 eax, 7
  003d6	0f af df	 imul	 ebx, edi
  003d9	89 54 24 10	 mov	 DWORD PTR __nMaxHeight$229460[esp+908], edx
  003dd	99		 cdq
  003de	f7 fb		 idiv	 ebx
  003e0	8b 49 14	 mov	 ecx, DWORD PTR [ecx+20]
  003e3	89 4c 24 20	 mov	 DWORD PTR tv965[esp+908], ecx
  003e7	8b f0		 mov	 esi, eax
  003e9	8b c1		 mov	 eax, ecx
  003eb	0f af c6	 imul	 eax, esi
  003ee	99		 cdq
  003ef	2b c2		 sub	 eax, edx
  003f1	8b f8		 mov	 edi, eax
  003f3	8b 44 24 48	 mov	 eax, DWORD PTR __nLinkX$229454[esp+908]
  003f7	99		 cdq
  003f8	f7 fe		 idiv	 esi
  003fa	d1 ff		 sar	 edi, 1
  003fc	8b e8		 mov	 ebp, eax
  003fe	0f af e9	 imul	 ebp, ecx
  00401	8b 8c 24 98 03
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+904]
  00408	0f af ee	 imul	 ebp, esi
  0040b	d9 01		 fld	 DWORD PTR [ecx]
  0040d	89 44 24 38	 mov	 DWORD PTR tv968[esp+908], eax
  00411	e8 00 00 00 00	 call	 __ftol2
  00416	2b c5		 sub	 eax, ebp
  00418	33 d2		 xor	 edx, edx
  0041a	3b c7		 cmp	 eax, edi
  0041c	8b 44 24 4c	 mov	 eax, DWORD PTR __nLinkZ$229456[esp+908]
  00420	0f 9f c2	 setg	 dl
  00423	8b 8c 24 98 03
	00 00		 mov	 ecx, DWORD PTR _vPos$[esp+904]
  0042a	d9 41 08	 fld	 DWORD PTR [ecx+8]
  0042d	89 54 24 1c	 mov	 DWORD PTR __nX$229466[esp+908], edx
  00431	99		 cdq
  00432	f7 fe		 idiv	 esi
  00434	8b e8		 mov	 ebp, eax
  00436	0f af 44 24 20	 imul	 eax, DWORD PTR tv965[esp+908]
  0043b	0f af c6	 imul	 eax, esi
  0043e	89 44 24 20	 mov	 DWORD PTR tv1224[esp+908], eax
  00442	e8 00 00 00 00	 call	 __ftol2
  00447	8b 4c 24 20	 mov	 ecx, DWORD PTR tv1224[esp+908]
  0044b	2b c1		 sub	 eax, ecx
  0044d	8b 4c 24 38	 mov	 ecx, DWORD PTR tv968[esp+908]
  00451	33 d2		 xor	 edx, edx
  00453	3b c7		 cmp	 eax, edi
  00455	0f 9f c2	 setg	 dl
  00458	8b c2		 mov	 eax, edx
  0045a	8b 54 24 1c	 mov	 edx, DWORD PTR __nX$229466[esp+908]
  0045e	03 ca		 add	 ecx, edx
  00460	8d 71 ff	 lea	 esi, DWORD PTR [ecx-1]
  00463	85 f6		 test	 esi, esi
  00465	89 74 24 28	 mov	 DWORD PTR __nLinkXMin$229462[esp+908], esi
  00469	7d 06		 jge	 SHORT $L229478
  0046b	33 f6		 xor	 esi, esi
  0046d	89 74 24 28	 mov	 DWORD PTR __nLinkXMin$229462[esp+908], esi
$L229478:
  00471	03 c5		 add	 eax, ebp
  00473	8d 50 ff	 lea	 edx, DWORD PTR [eax-1]
  00476	85 d2		 test	 edx, edx
  00478	7d 02		 jge	 SHORT $L229479
  0047a	33 d2		 xor	 edx, edx
$L229479:
  0047c	8b f9		 mov	 edi, ecx
  0047e	3b fb		 cmp	 edi, ebx
  00480	89 7c 24 30	 mov	 DWORD PTR __nLinkXMax$229464[esp+908], edi
  00484	7c 07		 jl	 SHORT $L229480
  00486	8d 7b ff	 lea	 edi, DWORD PTR [ebx-1]
  00489	89 7c 24 30	 mov	 DWORD PTR __nLinkXMax$229464[esp+908], edi
$L229480:
  0048d	8b 4c 24 10	 mov	 ecx, DWORD PTR __nMaxHeight$229460[esp+908]
  00491	3b c1		 cmp	 eax, ecx
  00493	7c 03		 jl	 SHORT $L229481
  00495	8d 41 ff	 lea	 eax, DWORD PTR [ecx-1]
$L229481:
  00498	3b d0		 cmp	 edx, eax
  0049a	0f 8f 5f 01 00
	00		 jg	 $L229472
  004a0	8d 0c 9d 00 00
	00 00		 lea	 ecx, DWORD PTR [ebx*4]
  004a7	89 4c 24 38	 mov	 DWORD PTR tv1547[esp+908], ecx
  004ab	8b ca		 mov	 ecx, edx
  004ad	0f af cb	 imul	 ecx, ebx
  004b0	8b 5c 24 18	 mov	 ebx, DWORD PTR __pObjs$229474[esp+908]
  004b4	03 ce		 add	 ecx, esi
  004b6	2b c2		 sub	 eax, edx
  004b8	8d 0c 8b	 lea	 ecx, DWORD PTR [ebx+ecx*4]
  004bb	40		 inc	 eax
  004bc	89 4c 24 10	 mov	 DWORD PTR tv1543[esp+908], ecx
  004c0	89 44 24 18	 mov	 DWORD PTR tv317[esp+908], eax
$L229483:
  004c4	3b f7		 cmp	 esi, edi
  004c6	0f 8f 16 01 00
	00		 jg	 $L229484
  004cc	8b c7		 mov	 eax, edi
  004ce	2b c6		 sub	 eax, esi
  004d0	40		 inc	 eax
  004d1	89 4c 24 14	 mov	 DWORD PTR tv1497[esp+908], ecx
  004d5	89 44 24 1c	 mov	 DWORD PTR tv511[esp+908], eax
  004d9	8d a4 24 00 00
	00 00		 npad	 7
$L229487:
  004e0	8b 54 24 14	 mov	 edx, DWORD PTR tv1497[esp+908]
  004e4	8b 1a		 mov	 ebx, DWORD PTR [edx]
  004e6	85 db		 test	 ebx, ebx
  004e8	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  004ed	0f 84 cd 00 00
	00		 je	 $L229488
  004f3	eb 0b		 jmp	 SHORT $L229492
$L232220:
  004f5	8b 44 24 20	 mov	 eax, DWORD PTR ___limit$229490[esp+908]
  004f9	8d a4 24 00 00
	00 00		 npad	 7
$L229492:
  00500	8b c8		 mov	 ecx, eax
  00502	48		 dec	 eax
  00503	85 c9		 test	 ecx, ecx
  00505	89 44 24 20	 mov	 DWORD PTR ___limit$229490[esp+908], eax
  00509	0f 84 b1 00 00
	00		 je	 $L229488

; 1144 : 	{
; 1145 : 		// (vPos-vDir) OBB .  
; 1146 : 		pModel = pObj->m_pModel;

  0050f	8b ab 78 01 00
	00		 mov	 ebp, DWORD PTR [ebx+376]

; 1147 : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  00515	8b 55 00	 mov	 edx, DWORD PTR [ebp]
  00518	6a 01		 push	 1
  0051a	53		 push	 ebx
  0051b	8d 84 24 b0 00
	00 00		 lea	 eax, DWORD PTR _segment$[esp+916]
  00522	50		 push	 eax
  00523	8b cd		 mov	 ecx, ebp
  00525	ff 52 74	 call	 DWORD PTR [edx+116]
  00528	83 f8 01	 cmp	 eax, 1
  0052b	0f 85 81 00 00
	00		 jne	 $L229498

; 1148 : 		{
; 1149 : 			//      ()     vOut .
; 1150 : 			if( ((CModelObject *)pModel)->GetObject3D()->SlideVectorUnder( &vOut, vPos, vEnd, pObj->GetMatrixWorld(), &vIntersect ) == TRUE )

  00531	8d 54 24 3c	 lea	 edx, DWORD PTR _vIntersect$[esp+908]
  00535	52		 push	 edx
  00536	8d 84 24 c8 00
	00 00		 lea	 eax, DWORD PTR $T232040[esp+912]
  0053d	50		 push	 eax
  0053e	8b 84 24 a0 03
	00 00		 mov	 eax, DWORD PTR _vPos$[esp+912]
  00545	8d 94 24 80 00
	00 00		 lea	 edx, DWORD PTR _vEnd$[esp+916]
  0054c	52		 push	 edx
  0054d	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  00553	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  00558	8d bc 24 d0 00
	00 00		 lea	 edi, DWORD PTR $T232040[esp+920]
  0055f	50		 push	 eax
  00560	8d 54 24 70	 lea	 edx, DWORD PTR _vOut$[esp+924]
  00564	f3 a5		 rep movsd
  00566	8b 8d d8 00 00
	00		 mov	 ecx, DWORD PTR [ebp+216]
  0056c	52		 push	 edx
  0056d	e8 00 00 00 00	 call	 ?SlideVectorUnder@CObject3D@@QAEHPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@0@Z ; CObject3D::SlideVectorUnder
  00572	83 f8 01	 cmp	 eax, 1
  00575	75 3b		 jne	 SHORT $L229498

; 1151 : 			{
; 1152 : 				if( vIntersect.y > fMaxY )

  00577	d9 44 24 40	 fld	 DWORD PTR _vIntersect$[esp+912]
  0057b	d8 5c 24 24	 fcomp	 DWORD PTR _fMaxY$[esp+908]
  0057f	df e0		 fnstsw	 ax
  00581	f6 c4 41	 test	 ah, 65			; 00000041H
  00584	75 2c		 jne	 SHORT $L229498

; 1153 : 				{
; 1154 : 					fMaxY = vIntersect.y;	//      ....   .

  00586	8b 44 24 40	 mov	 eax, DWORD PTR _vIntersect$[esp+912]

; 1155 : 					*pOut = vOut;

  0058a	8b 54 24 60	 mov	 edx, DWORD PTR _vOut$[esp+908]
  0058e	8b 8c 24 90 03
	00 00		 mov	 ecx, DWORD PTR _pOut$[esp+904]
  00595	89 11		 mov	 DWORD PTR [ecx], edx
  00597	8b 54 24 68	 mov	 edx, DWORD PTR _vOut$[esp+916]
  0059b	89 44 24 24	 mov	 DWORD PTR _fMaxY$[esp+908], eax
  0059f	8b 44 24 64	 mov	 eax, DWORD PTR _vOut$[esp+912]
  005a3	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 1156 : 					*ppObj = pObj;			//  .

  005a6	8b 84 24 94 03
	00 00		 mov	 eax, DWORD PTR _ppObj$[esp+904]
  005ad	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  005b0	89 18		 mov	 DWORD PTR [eax], ebx
$L229498:

; 1157 : 				}
; 1158 : 			}
; 1159 : 		}
; 1160 : 	}
; 1161 : 	END_LINKMAP

  005b2	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  005b8	85 db		 test	 ebx, ebx
  005ba	0f 85 35 ff ff
	ff		 jne	 $L232220
$L229488:

; 1141 : 	}
; 1142 : #endif // __HOUSING
; 1143 : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkStatic, nDefaultLayer )

  005c0	8b 4c 24 14	 mov	 ecx, DWORD PTR tv1497[esp+908]
  005c4	8b 44 24 1c	 mov	 eax, DWORD PTR tv511[esp+908]
  005c8	83 c1 04	 add	 ecx, 4
  005cb	48		 dec	 eax
  005cc	89 4c 24 14	 mov	 DWORD PTR tv1497[esp+908], ecx
  005d0	89 44 24 1c	 mov	 DWORD PTR tv511[esp+908], eax
  005d4	0f 85 06 ff ff
	ff		 jne	 $L229487
  005da	8b 74 24 28	 mov	 esi, DWORD PTR __nLinkXMin$229462[esp+908]
  005de	8b 7c 24 30	 mov	 edi, DWORD PTR __nLinkXMax$229464[esp+908]
$L229484:
  005e2	8b 4c 24 10	 mov	 ecx, DWORD PTR tv1543[esp+908]
  005e6	8b 54 24 38	 mov	 edx, DWORD PTR tv1547[esp+908]
  005ea	8b 44 24 18	 mov	 eax, DWORD PTR tv317[esp+908]
  005ee	03 ca		 add	 ecx, edx
  005f0	48		 dec	 eax
  005f1	89 4c 24 10	 mov	 DWORD PTR tv1543[esp+908], ecx
  005f5	89 44 24 18	 mov	 DWORD PTR tv317[esp+908], eax
  005f9	0f 85 c5 fe ff
	ff		 jne	 $L229483
$L229472:
  005ff	8b 5c 24 2c	 mov	 ebx, DWORD PTR __i$229470[esp+908]
  00603	8b 74 24 34	 mov	 esi, DWORD PTR _this$[esp+908]
  00607	6a 00		 push	 0
  00609	83 c6 24	 add	 esi, 36			; 00000024H
  0060c	43		 inc	 ebx
  0060d	6a 00		 push	 0
  0060f	8b ce		 mov	 ecx, esi
  00611	89 5c 24 34	 mov	 DWORD PTR __i$229470[esp+916], ebx
  00615	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  0061a	3b d8		 cmp	 ebx, eax
  0061c	0f 8c 84 fd ff
	ff		 jl	 $L232227
$L229473:

; 1162 : 
; 1163 : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkAirShip, nDefaultLayer )

  00622	8b 4c 24 34	 mov	 ecx, DWORD PTR _this$[esp+908]
  00626	db 41 14	 fild	 DWORD PTR [ecx+20]
  00629	8b bc 24 98 03
	00 00		 mov	 edi, DWORD PTR _vPos$[esp+904]
  00630	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  00636	d9 c0		 fld	 ST(0)
  00638	d8 0f		 fmul	 DWORD PTR [edi]
  0063a	e8 00 00 00 00	 call	 __ftol2
  0063f	d8 4f 08	 fmul	 DWORD PTR [edi+8]
  00642	89 44 24 48	 mov	 DWORD PTR __nLinkX$229499[esp+908], eax
  00646	e8 00 00 00 00	 call	 __ftol2
  0064b	33 db		 xor	 ebx, ebx
  0064d	53		 push	 ebx
  0064e	6a 03		 push	 3
  00650	8b ce		 mov	 ecx, esi
  00652	89 44 24 54	 mov	 DWORD PTR __nLinkZ$229501[esp+916], eax
  00656	89 5c 24 34	 mov	 DWORD PTR __i$229515[esp+916], ebx
  0065a	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  0065f	85 c0		 test	 eax, eax
  00661	0f 8e 6b 02 00
	00		 jle	 $L229518
$L232228:
  00667	6a 00		 push	 0
  00669	53		 push	 ebx
  0066a	6a 03		 push	 3
  0066c	8b ce		 mov	 ecx, esi
  0066e	e8 00 00 00 00	 call	 ?GetLinkWidth@CLayeredLinkMap@@QAEHKHH@Z ; CLayeredLinkMap::GetLinkWidth
  00673	6a 00		 push	 0
  00675	53		 push	 ebx
  00676	6a 03		 push	 3
  00678	8b ce		 mov	 ecx, esi
  0067a	8b f8		 mov	 edi, eax
  0067c	e8 00 00 00 00	 call	 ?GetObj@CLayeredLinkMap@@QAEPAPAVCObj@@KKH@Z ; CLayeredLinkMap::GetObj
  00681	8b 4c 24 34	 mov	 ecx, DWORD PTR _this$[esp+908]
  00685	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00688	89 44 24 18	 mov	 DWORD PTR __pObjs$229519[esp+908], eax
  0068c	0f af d7	 imul	 edx, edi
  0068f	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00692	8b df		 mov	 ebx, edi
  00694	0f af d8	 imul	 ebx, eax
  00697	c1 e0 07	 shl	 eax, 7
  0069a	89 54 24 10	 mov	 DWORD PTR __nMaxHeight$229505[esp+908], edx
  0069e	99		 cdq
  0069f	f7 fb		 idiv	 ebx
  006a1	8b 49 14	 mov	 ecx, DWORD PTR [ecx+20]
  006a4	89 4c 24 20	 mov	 DWORD PTR tv1032[esp+908], ecx
  006a8	8b f0		 mov	 esi, eax
  006aa	0f af c1	 imul	 eax, ecx
  006ad	99		 cdq
  006ae	2b c2		 sub	 eax, edx
  006b0	8b f8		 mov	 edi, eax
  006b2	8b 44 24 48	 mov	 eax, DWORD PTR __nLinkX$229499[esp+908]
  006b6	99		 cdq
  006b7	f7 fe		 idiv	 esi
  006b9	8b 94 24 98 03
	00 00		 mov	 edx, DWORD PTR _vPos$[esp+904]
  006c0	8b ee		 mov	 ebp, esi
  006c2	d1 ff		 sar	 edi, 1
  006c4	d9 02		 fld	 DWORD PTR [edx]
  006c6	0f af e8	 imul	 ebp, eax
  006c9	89 44 24 38	 mov	 DWORD PTR tv1035[esp+908], eax
  006cd	0f af e9	 imul	 ebp, ecx
  006d0	e8 00 00 00 00	 call	 __ftol2
  006d5	2b c5		 sub	 eax, ebp
  006d7	33 c9		 xor	 ecx, ecx
  006d9	3b c7		 cmp	 eax, edi
  006db	8b 44 24 4c	 mov	 eax, DWORD PTR __nLinkZ$229501[esp+908]
  006df	0f 9f c1	 setg	 cl
  006e2	99		 cdq
  006e3	f7 fe		 idiv	 esi
  006e5	8b 94 24 98 03
	00 00		 mov	 edx, DWORD PTR _vPos$[esp+904]
  006ec	89 4c 24 1c	 mov	 DWORD PTR __nX$229511[esp+908], ecx
  006f0	d9 42 08	 fld	 DWORD PTR [edx+8]
  006f3	8b e8		 mov	 ebp, eax
  006f5	0f af f5	 imul	 esi, ebp
  006f8	0f af 74 24 20	 imul	 esi, DWORD PTR tv1032[esp+908]
  006fd	e8 00 00 00 00	 call	 __ftol2
  00702	8b 54 24 1c	 mov	 edx, DWORD PTR __nX$229511[esp+908]
  00706	2b c6		 sub	 eax, esi
  00708	33 c9		 xor	 ecx, ecx
  0070a	3b c7		 cmp	 eax, edi
  0070c	8b 44 24 38	 mov	 eax, DWORD PTR tv1035[esp+908]
  00710	0f 9f c1	 setg	 cl
  00713	03 c2		 add	 eax, edx
  00715	8d 70 ff	 lea	 esi, DWORD PTR [eax-1]
  00718	85 f6		 test	 esi, esi
  0071a	89 74 24 28	 mov	 DWORD PTR __nLinkXMin$229507[esp+908], esi
  0071e	7d 06		 jge	 SHORT $L229523
  00720	33 f6		 xor	 esi, esi
  00722	89 74 24 28	 mov	 DWORD PTR __nLinkXMin$229507[esp+908], esi
$L229523:
  00726	8d 14 29	 lea	 edx, DWORD PTR [ecx+ebp]
  00729	8d 4a ff	 lea	 ecx, DWORD PTR [edx-1]
  0072c	85 c9		 test	 ecx, ecx
  0072e	7d 02		 jge	 SHORT $L229524
  00730	33 c9		 xor	 ecx, ecx
$L229524:
  00732	8b f8		 mov	 edi, eax
  00734	3b fb		 cmp	 edi, ebx
  00736	89 7c 24 30	 mov	 DWORD PTR __nLinkXMax$229509[esp+908], edi
  0073a	7c 07		 jl	 SHORT $L229525
  0073c	8d 7b ff	 lea	 edi, DWORD PTR [ebx-1]
  0073f	89 7c 24 30	 mov	 DWORD PTR __nLinkXMax$229509[esp+908], edi
$L229525:
  00743	8b c2		 mov	 eax, edx
  00745	8b 54 24 10	 mov	 edx, DWORD PTR __nMaxHeight$229505[esp+908]
  00749	3b c2		 cmp	 eax, edx
  0074b	7c 03		 jl	 SHORT $L229526
  0074d	8d 42 ff	 lea	 eax, DWORD PTR [edx-1]
$L229526:
  00750	3b c8		 cmp	 ecx, eax
  00752	0f 8f 57 01 00
	00		 jg	 $L229517
  00758	8d 14 9d 00 00
	00 00		 lea	 edx, DWORD PTR [ebx*4]
  0075f	89 54 24 38	 mov	 DWORD PTR tv1637[esp+908], edx
  00763	8b d1		 mov	 edx, ecx
  00765	0f af d3	 imul	 edx, ebx
  00768	8b 5c 24 18	 mov	 ebx, DWORD PTR __pObjs$229519[esp+908]
  0076c	03 d6		 add	 edx, esi
  0076e	2b c1		 sub	 eax, ecx
  00770	8d 14 93	 lea	 edx, DWORD PTR [ebx+edx*4]
  00773	40		 inc	 eax
  00774	89 54 24 10	 mov	 DWORD PTR tv1633[esp+908], edx
  00778	89 44 24 18	 mov	 DWORD PTR tv175[esp+908], eax
  0077c	8d 64 24 00	 npad	 4
$L229528:
  00780	3b f7		 cmp	 esi, edi
  00782	0f 8f 0a 01 00
	00		 jg	 $L229529
  00788	8b c7		 mov	 eax, edi
  0078a	2b c6		 sub	 eax, esi
  0078c	40		 inc	 eax
  0078d	89 54 24 14	 mov	 DWORD PTR tv1587[esp+908], edx
  00791	89 44 24 1c	 mov	 DWORD PTR tv724[esp+908], eax
$L229532:
  00795	8b 44 24 14	 mov	 eax, DWORD PTR tv1587[esp+908]
  00799	8b 18		 mov	 ebx, DWORD PTR [eax]
  0079b	85 db		 test	 ebx, ebx
  0079d	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  007a2	0f 84 c8 00 00
	00		 je	 $L229533
  007a8	eb 06		 jmp	 SHORT $L229537
$L232219:
  007aa	8b 44 24 20	 mov	 eax, DWORD PTR ___limit$229535[esp+908]
  007ae	8b ff		 npad	 2
$L229537:
  007b0	8b c8		 mov	 ecx, eax
  007b2	48		 dec	 eax
  007b3	85 c9		 test	 ecx, ecx
  007b5	89 44 24 20	 mov	 DWORD PTR ___limit$229535[esp+908], eax
  007b9	0f 84 b1 00 00
	00		 je	 $L229533

; 1164 : 	{
; 1165 : 		// (vPos-vDir) OBB .  
; 1166 : 		pModel = pObj->m_pModel;

  007bf	8b ab 78 01 00
	00		 mov	 ebp, DWORD PTR [ebx+376]

; 1167 : 		if( pModel->TestIntersectionOBB_Line( segment, pObj ) == TRUE )

  007c5	8b 55 00	 mov	 edx, DWORD PTR [ebp]
  007c8	6a 01		 push	 1
  007ca	53		 push	 ebx
  007cb	8d 84 24 b0 00
	00 00		 lea	 eax, DWORD PTR _segment$[esp+916]
  007d2	50		 push	 eax
  007d3	8b cd		 mov	 ecx, ebp
  007d5	ff 52 74	 call	 DWORD PTR [edx+116]
  007d8	83 f8 01	 cmp	 eax, 1
  007db	0f 85 81 00 00
	00		 jne	 $L229543

; 1168 : 		{
; 1169 : 			//      ()     vOut .
; 1170 : 			if( ((CModelObject *)pModel)->GetObject3D()->SlideVectorUnder( &vOut, vPos, vEnd, pObj->GetMatrixWorld(), &vIntersect ) == TRUE )

  007e1	8d 54 24 3c	 lea	 edx, DWORD PTR _vIntersect$[esp+908]
  007e5	52		 push	 edx
  007e6	8d 84 24 c8 00
	00 00		 lea	 eax, DWORD PTR $T232041[esp+912]
  007ed	50		 push	 eax
  007ee	8b 84 24 a0 03
	00 00		 mov	 eax, DWORD PTR _vPos$[esp+912]
  007f5	8d 94 24 80 00
	00 00		 lea	 edx, DWORD PTR _vEnd$[esp+916]
  007fc	52		 push	 edx
  007fd	8d b3 e4 00 00
	00		 lea	 esi, DWORD PTR [ebx+228]
  00803	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  00808	8d bc 24 d0 00
	00 00		 lea	 edi, DWORD PTR $T232041[esp+920]
  0080f	50		 push	 eax
  00810	8d 54 24 70	 lea	 edx, DWORD PTR _vOut$[esp+924]
  00814	f3 a5		 rep movsd
  00816	8b 8d d8 00 00
	00		 mov	 ecx, DWORD PTR [ebp+216]
  0081c	52		 push	 edx
  0081d	e8 00 00 00 00	 call	 ?SlideVectorUnder@CObject3D@@QAEHPAUD3DXVECTOR3@@ABU2@1ABUD3DXMATRIX@@0@Z ; CObject3D::SlideVectorUnder
  00822	83 f8 01	 cmp	 eax, 1
  00825	75 3b		 jne	 SHORT $L229543

; 1171 : 			{
; 1172 : 				if( vIntersect.y > fMaxY )

  00827	d9 44 24 40	 fld	 DWORD PTR _vIntersect$[esp+912]
  0082b	d8 5c 24 24	 fcomp	 DWORD PTR _fMaxY$[esp+908]
  0082f	df e0		 fnstsw	 ax
  00831	f6 c4 41	 test	 ah, 65			; 00000041H
  00834	75 2c		 jne	 SHORT $L229543

; 1173 : 				{
; 1174 : 					fMaxY = vIntersect.y;	//      ....   .

  00836	8b 44 24 40	 mov	 eax, DWORD PTR _vIntersect$[esp+912]

; 1175 : 					*pOut = vOut;

  0083a	8b 54 24 60	 mov	 edx, DWORD PTR _vOut$[esp+908]
  0083e	8b 8c 24 90 03
	00 00		 mov	 ecx, DWORD PTR _pOut$[esp+904]
  00845	89 11		 mov	 DWORD PTR [ecx], edx
  00847	8b 54 24 68	 mov	 edx, DWORD PTR _vOut$[esp+916]
  0084b	89 44 24 24	 mov	 DWORD PTR _fMaxY$[esp+908], eax
  0084f	8b 44 24 64	 mov	 eax, DWORD PTR _vOut$[esp+912]
  00853	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 1176 : 					*ppObj = pObj;			//  .

  00856	8b 84 24 94 03
	00 00		 mov	 eax, DWORD PTR _ppObj$[esp+904]
  0085d	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  00860	89 18		 mov	 DWORD PTR [eax], ebx
$L229543:

; 1177 : 				}
; 1178 : 			}
; 1179 : 		}
; 1180 : 	}
; 1181 : 	END_LINKMAP

  00862	8b 9b 80 01 00
	00		 mov	 ebx, DWORD PTR [ebx+384]
  00868	85 db		 test	 ebx, ebx
  0086a	0f 85 3a ff ff
	ff		 jne	 $L232219
$L229533:

; 1162 : 
; 1163 : 	FOR_LINKMAP( this, vPos, pObj, nRange, CObj::linkAirShip, nDefaultLayer )

  00870	8b 4c 24 14	 mov	 ecx, DWORD PTR tv1587[esp+908]
  00874	8b 44 24 1c	 mov	 eax, DWORD PTR tv724[esp+908]
  00878	83 c1 04	 add	 ecx, 4
  0087b	48		 dec	 eax
  0087c	89 4c 24 14	 mov	 DWORD PTR tv1587[esp+908], ecx
  00880	89 44 24 1c	 mov	 DWORD PTR tv724[esp+908], eax
  00884	0f 85 0b ff ff
	ff		 jne	 $L229532
  0088a	8b 74 24 28	 mov	 esi, DWORD PTR __nLinkXMin$229507[esp+908]
  0088e	8b 7c 24 30	 mov	 edi, DWORD PTR __nLinkXMax$229509[esp+908]
$L229529:
  00892	8b 54 24 10	 mov	 edx, DWORD PTR tv1633[esp+908]
  00896	8b 4c 24 38	 mov	 ecx, DWORD PTR tv1637[esp+908]
  0089a	8b 44 24 18	 mov	 eax, DWORD PTR tv175[esp+908]
  0089e	03 d1		 add	 edx, ecx
  008a0	48		 dec	 eax
  008a1	89 54 24 10	 mov	 DWORD PTR tv1633[esp+908], edx
  008a5	89 44 24 18	 mov	 DWORD PTR tv175[esp+908], eax
  008a9	0f 85 d1 fe ff
	ff		 jne	 $L229528
$L229517:
  008af	8b 5c 24 2c	 mov	 ebx, DWORD PTR __i$229515[esp+908]
  008b3	8b 74 24 34	 mov	 esi, DWORD PTR _this$[esp+908]
  008b7	6a 00		 push	 0
  008b9	83 c6 24	 add	 esi, 36			; 00000024H
  008bc	43		 inc	 ebx
  008bd	6a 03		 push	 3
  008bf	8b ce		 mov	 ecx, esi
  008c1	89 5c 24 34	 mov	 DWORD PTR __i$229515[esp+916], ebx
  008c5	e8 00 00 00 00	 call	 ?GetMaxLinkLevel@CLayeredLinkMap@@QAEHKH@Z ; CLayeredLinkMap::GetMaxLinkLevel
  008ca	3b d8		 cmp	 ebx, eax
  008cc	0f 8c 95 fd ff
	ff		 jl	 $L232228
$L229518:

; 1182 : 
; 1183 : 	//    .
; 1184 : 	FLOAT fDist;
; 1185 : 	D3DXVECTOR3 vLandTri[3];
; 1186 : 	GetLandTri( vPos.x, vPos.z, vLandTri );		//     

  008d2	8b b4 24 98 03
	00 00		 mov	 esi, DWORD PTR _vPos$[esp+904]
  008d9	8b 56 08	 mov	 edx, DWORD PTR [esi+8]
  008dc	8b 06		 mov	 eax, DWORD PTR [esi]
  008de	8b 7c 24 34	 mov	 edi, DWORD PTR _this$[esp+908]
  008e2	8d 8c 24 84 00
	00 00		 lea	 ecx, DWORD PTR _vLandTri$[esp+908]
  008e9	51		 push	 ecx
  008ea	52		 push	 edx
  008eb	50		 push	 eax
  008ec	8b cf		 mov	 ecx, edi
  008ee	e8 00 00 00 00	 call	 ?GetLandTri@CWorld@@QAEXMMPAUD3DXVECTOR3@@@Z ; CWorld::GetLandTri

; 1187 : 	BOOL b = IsTouchRayTri( &vLandTri[0], &vLandTri[1], &vLandTri[2], &vPos, &vDir, &fDist );

  008f3	8d 4c 24 50	 lea	 ecx, DWORD PTR _fDist$[esp+908]
  008f7	51		 push	 ecx
  008f8	8d 54 24 70	 lea	 edx, DWORD PTR _vDir$[esp+912]
  008fc	52		 push	 edx
  008fd	56		 push	 esi
  008fe	8d 84 24 a8 00
	00 00		 lea	 eax, DWORD PTR _vLandTri$[esp+944]
  00905	50		 push	 eax
  00906	8d 8c 24 a0 00
	00 00		 lea	 ecx, DWORD PTR _vLandTri$[esp+936]
  0090d	51		 push	 ecx
  0090e	8d 94 24 98 00
	00 00		 lea	 edx, DWORD PTR _vLandTri$[esp+928]
  00915	52		 push	 edx
  00916	e8 00 00 00 00	 call	 ?IsTouchRayTri@@YAHPBUD3DXVECTOR3@@0000PAM@Z ; IsTouchRayTri

; 1188 : 	
; 1189 : #ifdef _DEBUG
; 1190 : 	if( b == FALSE )
; 1191 : 		Error( "ProcessUnderCollision - D3DXIntersectTri x:%f z:%f", vPos.x, vPos.z );
; 1192 : #endif
; 1193 : 	vIntersect.x = vPos.x;
; 1194 : 	vIntersect.y = (vPos.y + fDist * vDir.y);		//    -   .

  0091b	d9 84 24 88 00
	00 00		 fld	 DWORD PTR _vDir$[esp+936]
  00922	d8 4c 24 68	 fmul	 DWORD PTR _fDist$[esp+932]
  00926	8b 06		 mov	 eax, DWORD PTR [esi]

; 1195 : 	vIntersect.z = vPos.z;

  00928	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]
  0092b	89 44 24 54	 mov	 DWORD PTR _vIntersect$[esp+932], eax
  0092f	d8 46 04	 fadd	 DWORD PTR [esi+4]
  00932	83 c4 18	 add	 esp, 24			; 00000018H
  00935	89 4c 24 44	 mov	 DWORD PTR _vIntersect$[esp+916], ecx
  00939	d9 5c 24 40	 fstp	 DWORD PTR _vIntersect$[esp+912]

; 1196 : 
; 1197 : 	if( fMaxY > vIntersect.y )  //    ?

  0093d	d9 44 24 24	 fld	 DWORD PTR _fMaxY$[esp+908]
  00941	d8 54 24 40	 fcom	 DWORD PTR _vIntersect$[esp+912]
  00945	df e0		 fnstsw	 ax
  00947	f6 c4 41	 test	 ah, 65			; 00000041H
  0094a	75 43		 jne	 SHORT $L229548

; 1198 : 	{		
; 1199 : 		if( pOut->y )			//      .

  0094c	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@00000000
  00952	8b 8c 24 90 03
	00 00		 mov	 ecx, DWORD PTR _pOut$[esp+904]
  00959	d9 41 04	 fld	 DWORD PTR [ecx+4]
  0095c	da e9		 fucompp
  0095e	df e0		 fnstsw	 ax
  00960	f6 c4 44	 test	 ah, 68			; 00000044H
  00963	0f 8b 53 01 00
	00		 jnp	 $L232216

; 1200 : 		{
; 1201 : 			if( pOut->y < vIntersect.y )

  00969	d9 41 04	 fld	 DWORD PTR [ecx+4]
  0096c	d8 5c 24 40	 fcomp	 DWORD PTR _vIntersect$[esp+912]
  00970	df e0		 fnstsw	 ax
  00972	f6 c4 05	 test	 ah, 5
  00975	0f 8a 41 01 00
	00		 jp	 $L232216

; 1202 : 				pOut->y = vIntersect.y;

  0097b	8b 54 24 40	 mov	 edx, DWORD PTR _vIntersect$[esp+912]
  0097f	5f		 pop	 edi
  00980	5e		 pop	 esi
  00981	5d		 pop	 ebp
  00982	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00985	5b		 pop	 ebx

; 1225 : }

  00986	81 c4 7c 03 00
	00		 add	 esp, 892		; 0000037cH
  0098c	c2 0c 00	 ret	 12			; 0000000cH
$L229548:

; 1203 : 		}
; 1204 : 	}
; 1205 : 	else
; 1206 : 	{
; 1207 : 		*pOut = D3DXVECTOR3( 0.0f, 0.0f, 0.0f );

  0098f	8b 9c 24 90 03
	00 00		 mov	 ebx, DWORD PTR _pOut$[esp+904]
  00996	dd d8		 fstp	 ST(0)
  00998	c7 44 24 54 00
	00 00 00	 mov	 DWORD PTR $T232042[esp+908], 0
  009a0	8b 4c 24 54	 mov	 ecx, DWORD PTR $T232042[esp+908]
  009a4	8b c3		 mov	 eax, ebx
  009a6	89 08		 mov	 DWORD PTR [eax], ecx
  009a8	c7 44 24 58 00
	00 00 00	 mov	 DWORD PTR $T232042[esp+912], 0
  009b0	8b 54 24 58	 mov	 edx, DWORD PTR $T232042[esp+912]
  009b4	89 50 04	 mov	 DWORD PTR [eax+4], edx

; 1208 : 		fMaxY = vIntersect.y;

  009b7	8b 54 24 40	 mov	 edx, DWORD PTR _vIntersect$[esp+912]
  009bb	c7 44 24 5c 00
	00 00 00	 mov	 DWORD PTR $T232042[esp+916], 0
  009c3	8b 4c 24 5c	 mov	 ecx, DWORD PTR $T232042[esp+916]
  009c7	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 1209 : 	
; 1210 : 		//   - 112     . 
; 1211 : 		if( CanSlide( vLandTri[0], vLandTri[1], vLandTri[2], -0.37864f, &vDir ) )	 // -0.37864f = cos(112) 

  009ca	8d 44 24 6c	 lea	 eax, DWORD PTR _vDir$[esp+908]
  009ce	50		 push	 eax
  009cf	68 1a dd c1 be	 push	 -1094591206		; bec1dd1aH
  009d4	8d 8c 24 a4 00
	00 00		 lea	 ecx, DWORD PTR _vLandTri$[esp+940]
  009db	89 54 24 2c	 mov	 DWORD PTR _fMaxY$[esp+916], edx
  009df	51		 push	 ecx
  009e0	8d 94 24 9c 00
	00 00		 lea	 edx, DWORD PTR _vLandTri$[esp+932]
  009e7	52		 push	 edx
  009e8	8d 84 24 94 00
	00 00		 lea	 eax, DWORD PTR _vLandTri$[esp+924]
  009ef	50		 push	 eax
  009f0	e8 00 00 00 00	 call	 ?CanSlide@@YAHABUD3DXVECTOR3@@00MPAU1@@Z ; CanSlide
  009f5	83 c4 14	 add	 esp, 20			; 00000014H
  009f8	85 c0		 test	 eax, eax
  009fa	0f 84 b8 00 00
	00		 je	 $L232215

; 1212 : 		{
; 1213 : 			D3DXVECTOR3 vTris[3 * 9 * 2];							//  54
; 1214 : 			int nCount = GetLandTris( vPos.x, vPos.z, vTris ) / 3;	// vPos 9  .

  00a00	8b 56 08	 mov	 edx, DWORD PTR [esi+8]
  00a03	8b 06		 mov	 eax, DWORD PTR [esi]
  00a05	8d 8c 24 04 01
	00 00		 lea	 ecx, DWORD PTR _vTris$229554[esp+908]
  00a0c	51		 push	 ecx
  00a0d	52		 push	 edx
  00a0e	50		 push	 eax
  00a0f	8b cf		 mov	 ecx, edi
  00a11	e8 00 00 00 00	 call	 ?GetLandTris@CWorld@@QAEHMMPAUD3DXVECTOR3@@@Z ; CWorld::GetLandTris
  00a16	8b c8		 mov	 ecx, eax
  00a18	b8 56 55 55 55	 mov	 eax, 1431655766		; 55555556H
  00a1d	f7 e9		 imul	 ecx
  00a1f	8b c2		 mov	 eax, edx
  00a21	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  00a24	03 c2		 add	 eax, edx

; 1215 : 			//  slide   ...
; 1216 : 			D3DXVECTOR3* p = FindTouchLandTri( vTris, nCount, vIntersect, vDir, &fDist );	

  00a26	8d 4c 24 50	 lea	 ecx, DWORD PTR _fDist$[esp+908]
  00a2a	51		 push	 ecx
  00a2b	8d 54 24 70	 lea	 edx, DWORD PTR _vDir$[esp+912]
  00a2f	52		 push	 edx
  00a30	8d 4c 24 44	 lea	 ecx, DWORD PTR _vIntersect$[esp+916]
  00a34	51		 push	 ecx
  00a35	50		 push	 eax
  00a36	8d 94 24 14 01
	00 00		 lea	 edx, DWORD PTR _vTris$229554[esp+924]
  00a3d	52		 push	 edx
  00a3e	e8 00 00 00 00	 call	 ?FindTouchLandTri@@YAPAUD3DXVECTOR3@@PAU1@HABU1@1PAM@Z ; FindTouchLandTri
  00a43	83 c4 14	 add	 esp, 20			; 00000014H

; 1217 : 			if( p )

  00a46	85 c0		 test	 eax, eax

; 1218 : 				*pOut = vIntersect + vDir * fDist;

  00a48	d9 44 24 6c	 fld	 DWORD PTR _vDir$[esp+908]
  00a4c	74 36		 je	 SHORT $L229558
  00a4e	d8 4c 24 50	 fmul	 DWORD PTR _fDist$[esp+908]
  00a52	d9 44 24 70	 fld	 DWORD PTR _vDir$[esp+912]
  00a56	d8 4c 24 50	 fmul	 DWORD PTR _fDist$[esp+908]
  00a5a	d9 44 24 74	 fld	 DWORD PTR _vDir$[esp+916]
  00a5e	d8 4c 24 50	 fmul	 DWORD PTR _fDist$[esp+908]
  00a62	d9 9c 24 80 00
	00 00		 fstp	 DWORD PTR $T232043[esp+916]
  00a69	d9 c9		 fxch	 ST(1)
  00a6b	d8 44 24 3c	 fadd	 DWORD PTR _vIntersect$[esp+908]
  00a6f	d9 5c 24 54	 fstp	 DWORD PTR $T232044[esp+908]
  00a73	d8 44 24 40	 fadd	 DWORD PTR _vIntersect$[esp+912]
  00a77	d9 5c 24 58	 fstp	 DWORD PTR $T232044[esp+912]
  00a7b	d9 84 24 80 00
	00 00		 fld	 DWORD PTR $T232043[esp+916]

; 1219 : 			else

  00a82	eb 18		 jmp	 SHORT $L232229
$L229558:

; 1220 : 				*pOut = vIntersect + vDir;

  00a84	d8 44 24 3c	 fadd	 DWORD PTR _vIntersect$[esp+908]
  00a88	d9 5c 24 54	 fstp	 DWORD PTR $T232045[esp+908]
  00a8c	d9 44 24 70	 fld	 DWORD PTR _vDir$[esp+912]
  00a90	d8 44 24 40	 fadd	 DWORD PTR _vIntersect$[esp+912]
  00a94	d9 5c 24 58	 fstp	 DWORD PTR $T232045[esp+912]
  00a98	d9 44 24 74	 fld	 DWORD PTR _vDir$[esp+916]
$L232229:
  00a9c	d8 44 24 44	 fadd	 DWORD PTR _vIntersect$[esp+916]
  00aa0	8b 44 24 54	 mov	 eax, DWORD PTR $T232045[esp+908]
  00aa4	8b 4c 24 58	 mov	 ecx, DWORD PTR $T232045[esp+912]
  00aa8	89 03		 mov	 DWORD PTR [ebx], eax
  00aaa	d9 5c 24 5c	 fstp	 DWORD PTR $T232045[esp+916]
  00aae	8b 54 24 5c	 mov	 edx, DWORD PTR $T232045[esp+916]
  00ab2	89 4b 04	 mov	 DWORD PTR [ebx+4], ecx
  00ab5	89 53 08	 mov	 DWORD PTR [ebx+8], edx
$L232215:

; 1221 : 		}
; 1222 : 	}
; 1223 : 
; 1224 : 	return fMaxY;

  00ab8	d9 44 24 24	 fld	 DWORD PTR _fMaxY$[esp+908]
$L232216:
  00abc	5f		 pop	 edi
  00abd	5e		 pop	 esi
  00abe	5d		 pop	 ebp
  00abf	5b		 pop	 ebx

; 1225 : }

  00ac0	81 c4 7c 03 00
	00		 add	 esp, 892		; 0000037cH
  00ac6	c2 0c 00	 ret	 12			; 0000000cH
?ProcessUnderCollision@CWorld@@QAEMPAUD3DXVECTOR3@@PAPAVCObj@@AAU2@@Z ENDP ; CWorld::ProcessUnderCollision
_TEXT	ENDS
PUBLIC	?IntersectObjLine@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z ; CWorld::IntersectObjLine
; Function compile flags: /Ogty
;	COMDAT ?IntersectObjLine@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z
_TEXT	SEGMENT
$T232234 = -24						; size = 12
_vDir$ = -24						; size = 12
$T232235 = -12						; size = 12
$T232233 = -12						; size = 12
_pOut$ = 8						; size = 4
_vPos$ = 12						; size = 4
_vEnd$ = 16						; size = 4
_bSkipTrans$ = 20					; size = 4
_bWithTerrain$ = 24					; size = 4
_bWithObject$ = 28					; size = 4
?IntersectObjLine@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z PROC NEAR ; CWorld::IntersectObjLine, COMDAT
; _this$ = ecx

; 747  : 	D3DXVECTOR3	vDir;
; 748  : #ifdef __CLIENT
; 749  : 	if( bWithObject )
; 750  : 	{
; 751  : 		CObj* pObj;
; 752  : 		CObj* pNonCullObjs[ 10000 ];
; 753  : 		CObj **pList = m_aobjCull;
; 754  : 		int nNonCullNum = 0;
; 755  : 		for( int i = 0; i < m_nObjCullSize; i++ )
; 756  : 		{
; 757  : 			pObj = *pList++;
; 758  : 			if( pObj )
; 759  : 			{
; 760  : 				if( pObj->GetType() == OT_OBJ || pObj->GetType() == OT_CTRL )
; 761  : 				{
; 762  : 					if( pObj->IsCull() == FALSE /*&& pObj->GetModel()->m_pModelElem->m_dwDistant <= 1*/ ) 
; 763  : 					{
; 764  : 						if( nNonCullNum >= 10000 )
; 765  : 						{
; 766  : 							Error( "CWorld::IntersectObjLine :  ." );
; 767  : 							break;
; 768  : 						}
; 769  : 						if( bSkipTrans && pObj->m_pModel->m_pModelElem->m_bTrans )	//     .
; 770  : 							continue;
; 771  : 						pNonCullObjs[ nNonCullNum++ ] = pObj;
; 772  : 					}
; 773  : 				}
; 774  : 			}
; 775  : 		}
; 776  : 		
; 777  : 		int ObjSortNearToFar( const VOID* arg1, const VOID* arg2 );
; 778  : 		qsort( pNonCullObjs, nNonCullNum, sizeof(CObj*), ObjSortNearToFar ); 
; 779  : 
; 780  : 		CModel	*pModel = NULL;
; 781  : 		D3DXVECTOR3	vIntersect;
; 782  : 		FLOAT fDist;
; 783  : 		Segment3 segment( vPos, vEnd );
; 784  : 
; 785  : 		for( i = nNonCullNum - 1; i >= 0; i-- )
; 786  : 		{
; 787  : 			pObj = (CObj*)pNonCullObjs[ i ];
; 788  : 			pModel = pObj->m_pModel;
; 789  : 			BOOL bCollObj = TRUE;
; 790  : 			if( pObj->GetType() == OT_CTRL )	bCollObj = FALSE;
; 791  : 			if( pModel->TestIntersectionOBB_Line( segment, pObj, bCollObj ) == TRUE )
; 792  : 			{
; 793  : 				D3DXVECTOR3	*pTri[3];
; 794  : 				((CModelObject *)pModel)->GetObject3D()->FindTouchTriLine( pTri, vPos, vEnd, pObj->GetMatrixWorld(), &fDist, bCollObj );
; 795  : 				if( *pTri )
; 796  : 				{
; 797  : 					if( pOut )
; 798  : 					{
; 799  : 						vDir = vEnd - vPos;
; 800  : 						*pOut = vPos + fDist * vDir;
; 801  : 					}
; 802  : 					return TRUE;
; 803  : 				}
; 804  : 			}
; 805  : 		}
; 806  : 	} // bWithObject
; 807  : #endif // CLIENT
; 808  : 
; 809  : 	BOOL bRet = FALSE;
; 810  : 	
; 811  : 	if( bWithTerrain )		//  .

  00000	8b 44 24 14	 mov	 eax, DWORD PTR _bWithTerrain$[esp-4]
  00004	83 ec 18	 sub	 esp, 24			; 00000018H
  00007	53		 push	 ebx
  00008	33 db		 xor	 ebx, ebx
  0000a	85 c0		 test	 eax, eax
  0000c	57		 push	 edi
  0000d	8b f9		 mov	 edi, ecx
  0000f	0f 84 cd 00 00
	00		 je	 $L232273

; 812  : 	{
; 813  : 		vDir = vEnd - vPos;		//  .

  00015	8b 44 24 2c	 mov	 eax, DWORD PTR _vEnd$[esp+28]
  00019	d9 00		 fld	 DWORD PTR [eax]
  0001b	56		 push	 esi
  0001c	8b 74 24 2c	 mov	 esi, DWORD PTR _vPos$[esp+32]
  00020	d8 26		 fsub	 DWORD PTR [esi]
  00022	d9 5c 24 18	 fstp	 DWORD PTR $T232233[esp+36]
  00026	d9 40 04	 fld	 DWORD PTR [eax+4]
  00029	d8 66 04	 fsub	 DWORD PTR [esi+4]
  0002c	d9 5c 24 1c	 fstp	 DWORD PTR $T232233[esp+40]
  00030	8b 4c 24 1c	 mov	 ecx, DWORD PTR $T232233[esp+40]
  00034	d9 40 08	 fld	 DWORD PTR [eax+8]
  00037	8b 44 24 18	 mov	 eax, DWORD PTR $T232233[esp+36]
  0003b	d8 66 08	 fsub	 DWORD PTR [esi+8]
  0003e	89 44 24 0c	 mov	 DWORD PTR _vDir$[esp+36], eax

; 814  : 		D3DXVec3Normalize( &vDir, &vDir );

  00042	8d 44 24 0c	 lea	 eax, DWORD PTR _vDir$[esp+36]
  00046	89 4c 24 10	 mov	 DWORD PTR _vDir$[esp+40], ecx
  0004a	50		 push	 eax
  0004b	d9 5c 24 24	 fstp	 DWORD PTR $T232233[esp+48]
  0004f	8b 54 24 24	 mov	 edx, DWORD PTR $T232233[esp+48]
  00053	8b c8		 mov	 ecx, eax
  00055	51		 push	 ecx
  00056	89 54 24 1c	 mov	 DWORD PTR _vDir$[esp+52], edx
  0005a	e8 00 00 00 00	 call	 _D3DXVec3Normalize@8

; 815  : 		FLOAT fDist = IntersectRayTerrain2( vPos, vDir );

  0005f	8d 54 24 0c	 lea	 edx, DWORD PTR _vDir$[esp+36]
  00063	52		 push	 edx
  00064	56		 push	 esi
  00065	8b cf		 mov	 ecx, edi
  00067	e8 00 00 00 00	 call	 ?IntersectRayTerrain2@CWorld@@QAEMABUD3DXVECTOR3@@0@Z ; CWorld::IntersectRayTerrain2

; 816  : 		if( fDist )

  0006c	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@00000000
  00072	d9 c1		 fld	 ST(1)
  00074	da e9		 fucompp
  00076	df e0		 fnstsw	 ax
  00078	f6 c4 44	 test	 ah, 68			; 00000044H
  0007b	7b 58		 jnp	 SHORT $L232272

; 817  : 		{
; 818  : 			*pOut = vPos + (vDir * fDist);

  0007d	d9 44 24 0c	 fld	 DWORD PTR _vDir$[esp+36]
  00081	8b 44 24 28	 mov	 eax, DWORD PTR _pOut$[esp+32]
  00085	d8 c9		 fmul	 ST(0), ST(1)
  00087	d9 44 24 10	 fld	 DWORD PTR _vDir$[esp+40]
  0008b	d8 ca		 fmul	 ST(0), ST(2)
  0008d	d9 44 24 14	 fld	 DWORD PTR _vDir$[esp+44]
  00091	d8 cb		 fmul	 ST(0), ST(3)
  00093	d9 5c 24 14	 fstp	 DWORD PTR $T232234[esp+44]
  00097	d9 c9		 fxch	 ST(1)
  00099	d8 06		 fadd	 DWORD PTR [esi]
  0009b	d9 5c 24 18	 fstp	 DWORD PTR $T232235[esp+36]
  0009f	8b 4c 24 18	 mov	 ecx, DWORD PTR $T232235[esp+36]
  000a3	d8 46 04	 fadd	 DWORD PTR [esi+4]
  000a6	d9 5c 24 1c	 fstp	 DWORD PTR $T232235[esp+40]
  000aa	8b 54 24 1c	 mov	 edx, DWORD PTR $T232235[esp+40]
  000ae	dd d8		 fstp	 ST(0)
  000b0	d9 44 24 14	 fld	 DWORD PTR $T232234[esp+44]
  000b4	d8 46 08	 fadd	 DWORD PTR [esi+8]
  000b7	89 08		 mov	 DWORD PTR [eax], ecx
  000b9	5e		 pop	 esi
  000ba	89 50 04	 mov	 DWORD PTR [eax+4], edx
  000bd	d9 5c 24 1c	 fstp	 DWORD PTR $T232235[esp+40]
  000c1	8b 4c 24 1c	 mov	 ecx, DWORD PTR $T232235[esp+40]
  000c5	5f		 pop	 edi
  000c6	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 819  : 			bRet = TRUE;

  000c9	b8 01 00 00 00	 mov	 eax, 1
  000ce	5b		 pop	 ebx

; 824  : }

  000cf	83 c4 18	 add	 esp, 24			; 00000018H
  000d2	c2 18 00	 ret	 24			; 00000018H
$L232272:
  000d5	5e		 pop	 esi

; 816  : 		if( fDist )

  000d6	dd d8		 fstp	 ST(0)
  000d8	5f		 pop	 edi

; 820  : 		}
; 821  : 	}
; 822  : 
; 823  : 	return bRet;

  000d9	8b c3		 mov	 eax, ebx
  000db	5b		 pop	 ebx

; 824  : }

  000dc	83 c4 18	 add	 esp, 24			; 00000018H
  000df	c2 18 00	 ret	 24			; 00000018H
$L232273:
  000e2	5f		 pop	 edi

; 820  : 		}
; 821  : 	}
; 822  : 
; 823  : 	return bRet;

  000e3	8b c3		 mov	 eax, ebx
  000e5	5b		 pop	 ebx

; 824  : }

  000e6	83 c4 18	 add	 esp, 24			; 00000018H
  000e9	c2 18 00	 ret	 24			; 00000018H
?IntersectObjLine@CWorld@@QAEHPAUD3DXVECTOR3@@ABU2@1HHH@Z ENDP ; CWorld::IntersectObjLine
_TEXT	ENDS
END
